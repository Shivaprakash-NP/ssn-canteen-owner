function eT(i,e){for(var t=0;t<e.length;t++){const a=e[t];if(typeof a!="string"&&!Array.isArray(a)){for(const c in a)if(c!=="default"&&!(c in i)){const d=Object.getOwnPropertyDescriptor(a,c);d&&Object.defineProperty(i,c,d.get?d:{enumerable:!0,get:()=>a[c]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const E of d.addedNodes)E.tagName==="LINK"&&E.rel==="modulepreload"&&a(E)}).observe(document,{childList:!0,subtree:!0});function t(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=t(c);fetch(c.href,d)}})();var Vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function B0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var F1={exports:{}},Qu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2;function tT(){if(b2)return Qu;b2=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,c,d){var E=null;if(d!==void 0&&(E=""+d),c.key!==void 0&&(E=""+c.key),"key"in c){d={};for(var T in c)T!=="key"&&(d[T]=c[T])}else d=c;return c=d.ref,{$$typeof:i,type:a,key:E,ref:c!==void 0?c:null,props:d}}return Qu.Fragment=e,Qu.jsx=t,Qu.jsxs=t,Qu}var R2;function nT(){return R2||(R2=1,F1.exports=tT()),F1.exports}var je=nT(),z1={exports:{}},gt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N2;function rT(){if(N2)return gt;N2=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),M=Symbol.iterator;function U(X){return X===null||typeof X!="object"?null:(X=M&&X[M]||X["@@iterator"],typeof X=="function"?X:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ae=Object.assign,oe={};function re(X,Se,Oe){this.props=X,this.context=Se,this.refs=oe,this.updater=Oe||W}re.prototype.isReactComponent={},re.prototype.setState=function(X,Se){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,Se,"setState")},re.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function ve(){}ve.prototype=re.prototype;function me(X,Se,Oe){this.props=X,this.context=Se,this.refs=oe,this.updater=Oe||W}var pe=me.prototype=new ve;pe.constructor=me,ae(pe,re.prototype),pe.isPureReactComponent=!0;var Be=Array.isArray,Ge={H:null,A:null,T:null,S:null,V:null},qe=Object.prototype.hasOwnProperty;function H(X,Se,Oe,Ne,Ve,ht){return Oe=ht.ref,{$$typeof:i,type:X,key:Se,ref:Oe!==void 0?Oe:null,props:ht}}function z(X,Se){return H(X.type,Se,void 0,void 0,void 0,X.props)}function k(X){return typeof X=="object"&&X!==null&&X.$$typeof===i}function Z(X){var Se={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(Oe){return Se[Oe]})}var K=/\/+/g;function q(X,Se){return typeof X=="object"&&X!==null&&X.key!=null?Z(""+X.key):Se.toString(36)}function j(){}function vt(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(j,j):(X.status="pending",X.then(function(Se){X.status==="pending"&&(X.status="fulfilled",X.value=Se)},function(Se){X.status==="pending"&&(X.status="rejected",X.reason=Se)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function fe(X,Se,Oe,Ne,Ve){var ht=typeof X;(ht==="undefined"||ht==="boolean")&&(X=null);var Re=!1;if(X===null)Re=!0;else switch(ht){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(X.$$typeof){case i:case e:Re=!0;break;case I:return Re=X._init,fe(Re(X._payload),Se,Oe,Ne,Ve)}}if(Re)return Ve=Ve(X),Re=Ne===""?"."+q(X,0):Ne,Be(Ve)?(Oe="",Re!=null&&(Oe=Re.replace(K,"$&/")+"/"),fe(Ve,Se,Oe,"",function(Dr){return Dr})):Ve!=null&&(k(Ve)&&(Ve=z(Ve,Oe+(Ve.key==null||X&&X.key===Ve.key?"":(""+Ve.key).replace(K,"$&/")+"/")+Re)),Se.push(Ve)),1;Re=0;var kn=Ne===""?".":Ne+":";if(Be(X))for(var at=0;at<X.length;at++)Ne=X[at],ht=kn+q(Ne,at),Re+=fe(Ne,Se,Oe,ht,Ve);else if(at=U(X),typeof at=="function")for(X=at.call(X),at=0;!(Ne=X.next()).done;)Ne=Ne.value,ht=kn+q(Ne,at++),Re+=fe(Ne,Se,Oe,ht,Ve);else if(ht==="object"){if(typeof X.then=="function")return fe(vt(X),Se,Oe,Ne,Ve);throw Se=String(X),Error("Objects are not valid as a React child (found: "+(Se==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":Se)+"). If you meant to render a collection of children, use an array instead.")}return Re}function ge(X,Se,Oe){if(X==null)return X;var Ne=[],Ve=0;return fe(X,Ne,"","",function(ht){return Se.call(Oe,ht,Ve++)}),Ne}function _e(X){if(X._status===-1){var Se=X._result;Se=Se(),Se.then(function(Oe){(X._status===0||X._status===-1)&&(X._status=1,X._result=Oe)},function(Oe){(X._status===0||X._status===-1)&&(X._status=2,X._result=Oe)}),X._status===-1&&(X._status=0,X._result=Se)}if(X._status===1)return X._result.default;throw X._result}var Xe=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(Se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)};function mt(){}return gt.Children={map:ge,forEach:function(X,Se,Oe){ge(X,function(){Se.apply(this,arguments)},Oe)},count:function(X){var Se=0;return ge(X,function(){Se++}),Se},toArray:function(X){return ge(X,function(Se){return Se})||[]},only:function(X){if(!k(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},gt.Component=re,gt.Fragment=t,gt.Profiler=c,gt.PureComponent=me,gt.StrictMode=a,gt.Suspense=S,gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ge,gt.__COMPILER_RUNTIME={__proto__:null,c:function(X){return Ge.H.useMemoCache(X)}},gt.cache=function(X){return function(){return X.apply(null,arguments)}},gt.cloneElement=function(X,Se,Oe){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var Ne=ae({},X.props),Ve=X.key,ht=void 0;if(Se!=null)for(Re in Se.ref!==void 0&&(ht=void 0),Se.key!==void 0&&(Ve=""+Se.key),Se)!qe.call(Se,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&Se.ref===void 0||(Ne[Re]=Se[Re]);var Re=arguments.length-2;if(Re===1)Ne.children=Oe;else if(1<Re){for(var kn=Array(Re),at=0;at<Re;at++)kn[at]=arguments[at+2];Ne.children=kn}return H(X.type,Ve,void 0,void 0,ht,Ne)},gt.createContext=function(X){return X={$$typeof:E,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:d,_context:X},X},gt.createElement=function(X,Se,Oe){var Ne,Ve={},ht=null;if(Se!=null)for(Ne in Se.key!==void 0&&(ht=""+Se.key),Se)qe.call(Se,Ne)&&Ne!=="key"&&Ne!=="__self"&&Ne!=="__source"&&(Ve[Ne]=Se[Ne]);var Re=arguments.length-2;if(Re===1)Ve.children=Oe;else if(1<Re){for(var kn=Array(Re),at=0;at<Re;at++)kn[at]=arguments[at+2];Ve.children=kn}if(X&&X.defaultProps)for(Ne in Re=X.defaultProps,Re)Ve[Ne]===void 0&&(Ve[Ne]=Re[Ne]);return H(X,ht,void 0,void 0,null,Ve)},gt.createRef=function(){return{current:null}},gt.forwardRef=function(X){return{$$typeof:T,render:X}},gt.isValidElement=k,gt.lazy=function(X){return{$$typeof:I,_payload:{_status:-1,_result:X},_init:_e}},gt.memo=function(X,Se){return{$$typeof:x,type:X,compare:Se===void 0?null:Se}},gt.startTransition=function(X){var Se=Ge.T,Oe={};Ge.T=Oe;try{var Ne=X(),Ve=Ge.S;Ve!==null&&Ve(Oe,Ne),typeof Ne=="object"&&Ne!==null&&typeof Ne.then=="function"&&Ne.then(mt,Xe)}catch(ht){Xe(ht)}finally{Ge.T=Se}},gt.unstable_useCacheRefresh=function(){return Ge.H.useCacheRefresh()},gt.use=function(X){return Ge.H.use(X)},gt.useActionState=function(X,Se,Oe){return Ge.H.useActionState(X,Se,Oe)},gt.useCallback=function(X,Se){return Ge.H.useCallback(X,Se)},gt.useContext=function(X){return Ge.H.useContext(X)},gt.useDebugValue=function(){},gt.useDeferredValue=function(X,Se){return Ge.H.useDeferredValue(X,Se)},gt.useEffect=function(X,Se,Oe){var Ne=Ge.H;if(typeof Oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Ne.useEffect(X,Se)},gt.useId=function(){return Ge.H.useId()},gt.useImperativeHandle=function(X,Se,Oe){return Ge.H.useImperativeHandle(X,Se,Oe)},gt.useInsertionEffect=function(X,Se){return Ge.H.useInsertionEffect(X,Se)},gt.useLayoutEffect=function(X,Se){return Ge.H.useLayoutEffect(X,Se)},gt.useMemo=function(X,Se){return Ge.H.useMemo(X,Se)},gt.useOptimistic=function(X,Se){return Ge.H.useOptimistic(X,Se)},gt.useReducer=function(X,Se,Oe){return Ge.H.useReducer(X,Se,Oe)},gt.useRef=function(X){return Ge.H.useRef(X)},gt.useState=function(X){return Ge.H.useState(X)},gt.useSyncExternalStore=function(X,Se,Oe){return Ge.H.useSyncExternalStore(X,Se,Oe)},gt.useTransition=function(){return Ge.H.useTransition()},gt.version="19.1.1",gt}var D2;function k0(){return D2||(D2=1,z1.exports=rT()),z1.exports}var ye=k0();const to=B0(ye);var H1={exports:{}},Ku={},j1={exports:{}},G1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O2;function iT(){return O2||(O2=1,(function(i){function e(ge,_e){var Xe=ge.length;ge.push(_e);e:for(;0<Xe;){var mt=Xe-1>>>1,X=ge[mt];if(0<c(X,_e))ge[mt]=_e,ge[Xe]=X,Xe=mt;else break e}}function t(ge){return ge.length===0?null:ge[0]}function a(ge){if(ge.length===0)return null;var _e=ge[0],Xe=ge.pop();if(Xe!==_e){ge[0]=Xe;e:for(var mt=0,X=ge.length,Se=X>>>1;mt<Se;){var Oe=2*(mt+1)-1,Ne=ge[Oe],Ve=Oe+1,ht=ge[Ve];if(0>c(Ne,Xe))Ve<X&&0>c(ht,Ne)?(ge[mt]=ht,ge[Ve]=Xe,mt=Ve):(ge[mt]=Ne,ge[Oe]=Xe,mt=Oe);else if(Ve<X&&0>c(ht,Xe))ge[mt]=ht,ge[Ve]=Xe,mt=Ve;else break e}}return _e}function c(ge,_e){var Xe=ge.sortIndex-_e.sortIndex;return Xe!==0?Xe:ge.id-_e.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var E=Date,T=E.now();i.unstable_now=function(){return E.now()-T}}var S=[],x=[],I=1,M=null,U=3,W=!1,ae=!1,oe=!1,re=!1,ve=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,pe=typeof setImmediate<"u"?setImmediate:null;function Be(ge){for(var _e=t(x);_e!==null;){if(_e.callback===null)a(x);else if(_e.startTime<=ge)a(x),_e.sortIndex=_e.expirationTime,e(S,_e);else break;_e=t(x)}}function Ge(ge){if(oe=!1,Be(ge),!ae)if(t(S)!==null)ae=!0,qe||(qe=!0,q());else{var _e=t(x);_e!==null&&fe(Ge,_e.startTime-ge)}}var qe=!1,H=-1,z=5,k=-1;function Z(){return re?!0:!(i.unstable_now()-k<z)}function K(){if(re=!1,qe){var ge=i.unstable_now();k=ge;var _e=!0;try{e:{ae=!1,oe&&(oe=!1,me(H),H=-1),W=!0;var Xe=U;try{t:{for(Be(ge),M=t(S);M!==null&&!(M.expirationTime>ge&&Z());){var mt=M.callback;if(typeof mt=="function"){M.callback=null,U=M.priorityLevel;var X=mt(M.expirationTime<=ge);if(ge=i.unstable_now(),typeof X=="function"){M.callback=X,Be(ge),_e=!0;break t}M===t(S)&&a(S),Be(ge)}else a(S);M=t(S)}if(M!==null)_e=!0;else{var Se=t(x);Se!==null&&fe(Ge,Se.startTime-ge),_e=!1}}break e}finally{M=null,U=Xe,W=!1}_e=void 0}}finally{_e?q():qe=!1}}}var q;if(typeof pe=="function")q=function(){pe(K)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,vt=j.port2;j.port1.onmessage=K,q=function(){vt.postMessage(null)}}else q=function(){ve(K,0)};function fe(ge,_e){H=ve(function(){ge(i.unstable_now())},_e)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ge){ge.callback=null},i.unstable_forceFrameRate=function(ge){0>ge||125<ge?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<ge?Math.floor(1e3/ge):5},i.unstable_getCurrentPriorityLevel=function(){return U},i.unstable_next=function(ge){switch(U){case 1:case 2:case 3:var _e=3;break;default:_e=U}var Xe=U;U=_e;try{return ge()}finally{U=Xe}},i.unstable_requestPaint=function(){re=!0},i.unstable_runWithPriority=function(ge,_e){switch(ge){case 1:case 2:case 3:case 4:case 5:break;default:ge=3}var Xe=U;U=ge;try{return _e()}finally{U=Xe}},i.unstable_scheduleCallback=function(ge,_e,Xe){var mt=i.unstable_now();switch(typeof Xe=="object"&&Xe!==null?(Xe=Xe.delay,Xe=typeof Xe=="number"&&0<Xe?mt+Xe:mt):Xe=mt,ge){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Xe+X,ge={id:I++,callback:_e,priorityLevel:ge,startTime:Xe,expirationTime:X,sortIndex:-1},Xe>mt?(ge.sortIndex=Xe,e(x,ge),t(S)===null&&ge===t(x)&&(oe?(me(H),H=-1):oe=!0,fe(Ge,Xe-mt))):(ge.sortIndex=X,e(S,ge),ae||W||(ae=!0,qe||(qe=!0,q()))),ge},i.unstable_shouldYield=Z,i.unstable_wrapCallback=function(ge){var _e=U;return function(){var Xe=U;U=_e;try{return ge.apply(this,arguments)}finally{U=Xe}}}})(G1)),G1}var M2;function sT(){return M2||(M2=1,j1.exports=iT()),j1.exports}var q1={exports:{}},zr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L2;function aT(){if(L2)return zr;L2=1;var i=k0();function e(S){var x="https://react.dev/errors/"+S;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var I=2;I<arguments.length;I++)x+="&args[]="+encodeURIComponent(arguments[I])}return"Minified React error #"+S+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(S,x,I){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:M==null?null:""+M,children:S,containerInfo:x,implementation:I}}var E=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function T(S,x){if(S==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return zr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,zr.createPortal=function(S,x){var I=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(e(299));return d(S,x,null,I)},zr.flushSync=function(S){var x=E.T,I=a.p;try{if(E.T=null,a.p=2,S)return S()}finally{E.T=x,a.p=I,a.d.f()}},zr.preconnect=function(S,x){typeof S=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,a.d.C(S,x))},zr.prefetchDNS=function(S){typeof S=="string"&&a.d.D(S)},zr.preinit=function(S,x){if(typeof S=="string"&&x&&typeof x.as=="string"){var I=x.as,M=T(I,x.crossOrigin),U=typeof x.integrity=="string"?x.integrity:void 0,W=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;I==="style"?a.d.S(S,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:M,integrity:U,fetchPriority:W}):I==="script"&&a.d.X(S,{crossOrigin:M,integrity:U,fetchPriority:W,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},zr.preinitModule=function(S,x){if(typeof S=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var I=T(x.as,x.crossOrigin);a.d.M(S,{crossOrigin:I,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&a.d.M(S)},zr.preload=function(S,x){if(typeof S=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var I=x.as,M=T(I,x.crossOrigin);a.d.L(S,I,{crossOrigin:M,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},zr.preloadModule=function(S,x){if(typeof S=="string")if(x){var I=T(x.as,x.crossOrigin);a.d.m(S,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:I,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else a.d.m(S)},zr.requestFormReset=function(S){a.d.r(S)},zr.unstable_batchedUpdates=function(S,x){return S(x)},zr.useFormState=function(S,x,I){return E.H.useFormState(S,x,I)},zr.useFormStatus=function(){return E.H.useHostTransitionStatus()},zr.version="19.1.1",zr}var P2;function oT(){if(P2)return q1.exports;P2=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),q1.exports=aT(),q1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B2;function lT(){if(B2)return Ku;B2=1;var i=sT(),e=k0(),t=oT();function a(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function d(n){var s=n,u=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(u=s.return),n=s.return;while(n)}return s.tag===3?u:null}function E(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function T(n){if(d(n)!==n)throw Error(a(188))}function S(n){var s=n.alternate;if(!s){if(s=d(n),s===null)throw Error(a(188));return s!==n?null:n}for(var u=n,g=s;;){var _=u.return;if(_===null)break;var w=_.alternate;if(w===null){if(g=_.return,g!==null){u=g;continue}break}if(_.child===w.child){for(w=_.child;w;){if(w===u)return T(_),n;if(w===g)return T(_),s;w=w.sibling}throw Error(a(188))}if(u.return!==g.return)u=_,g=w;else{for(var N=!1,P=_.child;P;){if(P===u){N=!0,u=_,g=w;break}if(P===g){N=!0,g=_,u=w;break}P=P.sibling}if(!N){for(P=w.child;P;){if(P===u){N=!0,u=w,g=_;break}if(P===g){N=!0,g=w,u=_;break}P=P.sibling}if(!N)throw Error(a(189))}}if(u.alternate!==g)throw Error(a(190))}if(u.tag!==3)throw Error(a(188));return u.stateNode.current===u?n:s}function x(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=x(n),s!==null)return s;n=n.sibling}return null}var I=Object.assign,M=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),oe=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),ve=Symbol.for("react.provider"),me=Symbol.for("react.consumer"),pe=Symbol.for("react.context"),Be=Symbol.for("react.forward_ref"),Ge=Symbol.for("react.suspense"),qe=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function q(n){return n===null||typeof n!="object"?null:(n=K&&n[K]||n["@@iterator"],typeof n=="function"?n:null)}var j=Symbol.for("react.client.reference");function vt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===j?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ae:return"Fragment";case re:return"Profiler";case oe:return"StrictMode";case Ge:return"Suspense";case qe:return"SuspenseList";case k:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case W:return"Portal";case pe:return(n.displayName||"Context")+".Provider";case me:return(n._context.displayName||"Context")+".Consumer";case Be:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case H:return s=n.displayName||null,s!==null?s:vt(n.type)||"Memo";case z:s=n._payload,n=n._init;try{return vt(n(s))}catch{}}return null}var fe=Array.isArray,ge=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Xe={pending:!1,data:null,method:null,action:null},mt=[],X=-1;function Se(n){return{current:n}}function Oe(n){0>X||(n.current=mt[X],mt[X]=null,X--)}function Ne(n,s){X++,mt[X]=n.current,n.current=s}var Ve=Se(null),ht=Se(null),Re=Se(null),kn=Se(null);function at(n,s){switch(Ne(Re,s),Ne(ht,n),Ne(Ve,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?n2(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=n2(s),n=r2(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Oe(Ve),Ne(Ve,n)}function Dr(){Oe(Ve),Oe(ht),Oe(Re)}function Zr(n){n.memoizedState!==null&&Ne(kn,n);var s=Ve.current,u=r2(s,n.type);s!==u&&(Ne(ht,n),Ne(Ve,u))}function Sn(n){ht.current===n&&(Oe(Ve),Oe(ht)),kn.current===n&&(Oe(kn),Gu._currentValue=Xe)}var Ni=Object.prototype.hasOwnProperty,_t=i.unstable_scheduleCallback,Jr=i.unstable_cancelCallback,Or=i.unstable_shouldYield,hs=i.unstable_requestPaint,Xt=i.unstable_now,Wt=i.unstable_getCurrentPriorityLevel,At=i.unstable_ImmediatePriority,Wi=i.unstable_UserBlockingPriority,Ue=i.unstable_NormalPriority,ga=i.unstable_LowPriority,Ls=i.unstable_IdlePriority,Yr=i.log,ma=i.unstable_setDisableYieldValue,Lt=null,Ut=null;function Vn(n){if(typeof Yr=="function"&&ma(n),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(Lt,n)}catch{}}var Ft=Math.clz32?Math.clz32:Ps,xo=Math.log,pa=Math.LN2;function Ps(n){return n>>>=0,n===0?32:31-(xo(n)/pa|0)|0}var rn=256,Me=4194304;function qt(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Pt(n,s,u){var g=n.pendingLanes;if(g===0)return 0;var _=0,w=n.suspendedLanes,N=n.pingedLanes;n=n.warmLanes;var P=g&134217727;return P!==0?(g=P&~w,g!==0?_=qt(g):(N&=P,N!==0?_=qt(N):u||(u=P&~n,u!==0&&(_=qt(u))))):(P=g&~w,P!==0?_=qt(P):N!==0?_=qt(N):u||(u=g&~n,u!==0&&(_=qt(u)))),_===0?0:s!==0&&s!==_&&(s&w)===0&&(w=_&-_,u=s&-s,w>=u||w===32&&(u&4194048)!==0)?s:_}function Qt(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Qi(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bs(){var n=rn;return rn<<=1,(rn&4194048)===0&&(rn=256),n}function ya(){var n=Me;return Me<<=1,(Me&62914560)===0&&(Me=4194304),n}function dt(n){for(var s=[],u=0;31>u;u++)s.push(n);return s}function _r(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ea(n,s,u,g,_,w){var N=n.pendingLanes;n.pendingLanes=u,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=u,n.entangledLanes&=u,n.errorRecoveryDisabledLanes&=u,n.shellSuspendCounter=0;var P=n.entanglements,G=n.expirationTimes,se=n.hiddenUpdates;for(u=N&~u;0<u;){var Ee=31-Ft(u),Te=1<<Ee;P[Ee]=0,G[Ee]=-1;var le=se[Ee];if(le!==null)for(se[Ee]=null,Ee=0;Ee<le.length;Ee++){var he=le[Ee];he!==null&&(he.lane&=-536870913)}u&=~Te}g!==0&&hi(n,g,0),w!==0&&_===0&&n.tag!==0&&(n.suspendedLanes|=w&~(N&~s))}function hi(n,s,u){n.pendingLanes|=s,n.suspendedLanes&=~s;var g=31-Ft(s);n.entangledLanes|=s,n.entanglements[g]=n.entanglements[g]|1073741824|u&4194090}function Ar(n,s){var u=n.entangledLanes|=s;for(n=n.entanglements;u;){var g=31-Ft(u),_=1<<g;_&s|n[g]&s&&(n[g]|=s),u&=~_}}function Di(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ln(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Xr(){var n=_e.p;return n!==0?n:(n=window.event,n===void 0?32:w2(n.type))}function ks(n,s){var u=_e.p;try{return _e.p=n,s()}finally{_e.p=u}}var Mt=Math.random().toString(36).slice(2),qn="__reactFiber$"+Mt,sn="__reactProps$"+Mt,Mr="__reactContainer$"+Mt,$n="__reactEvents$"+Mt,Ki="__reactListeners$"+Mt,Yn="__reactHandles$"+Mt,ke="__reactResources$"+Mt,$r="__reactMarker$"+Mt;function Oi(n){delete n[qn],delete n[sn],delete n[$n],delete n[Ki],delete n[Yn]}function vn(n){var s=n[qn];if(s)return s;for(var u=n.parentNode;u;){if(s=u[Mr]||u[qn]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(n=o2(n);n!==null;){if(u=n[qn])return u;n=o2(n)}return s}n=u,u=n.parentNode}return null}function xr(n){if(n=n[qn]||n[Mr]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function Wr(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(a(33))}function er(n){var s=n[ke];return s||(s=n[ke]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function zt(n){n[$r]=!0}var wo=new Set,_a={};function Un(n,s){En(n,s),En(n+"Capture",s)}function En(n,s){for(_a[n]=s,n=0;n<s.length;n++)wo.add(s[n])}var Jt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),To={},Lr={};function Aa(n){return Ni.call(Lr,n)?!0:Ni.call(To,n)?!1:Jt.test(n)?Lr[n]=!0:(To[n]=!0,!1)}function xe(n,s,u){if(Aa(s))if(u===null)n.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var g=s.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+u)}}function Mi(n,s,u){if(u===null)n.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+u)}}function pt(n,s,u,g){if(g===null)n.removeAttribute(u);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(u);return}n.setAttributeNS(s,u,""+g)}}var ei,Zo;function yt(n){if(ei===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);ei=s&&s[1]||"",Zo=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ei+n+Zo}var wt=!1;function ft(n,s){if(!n||wt)return"";wt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(s){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(he){var le=he}Reflect.construct(n,[],Te)}else{try{Te.call()}catch(he){le=he}n.call(Te.prototype)}}else{try{throw Error()}catch(he){le=he}(Te=n())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(he){if(he&&le&&typeof he.stack=="string")return[he.stack,le.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=g.DetermineComponentFrameRoot(),N=w[0],P=w[1];if(N&&P){var G=N.split(`
`),se=P.split(`
`);for(_=g=0;g<G.length&&!G[g].includes("DetermineComponentFrameRoot");)g++;for(;_<se.length&&!se[_].includes("DetermineComponentFrameRoot");)_++;if(g===G.length||_===se.length)for(g=G.length-1,_=se.length-1;1<=g&&0<=_&&G[g]!==se[_];)_--;for(;1<=g&&0<=_;g--,_--)if(G[g]!==se[_]){if(g!==1||_!==1)do if(g--,_--,0>_||G[g]!==se[_]){var Ee=`
`+G[g].replace(" at new "," at ");return n.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",n.displayName)),Ee}while(1<=g&&0<=_);break}}}finally{wt=!1,Error.prepareStackTrace=u}return(u=n?n.displayName||n.name:"")?yt(u):""}function Vs(n){switch(n.tag){case 26:case 27:case 5:return yt(n.type);case 16:return yt("Lazy");case 13:return yt("Suspense");case 19:return yt("SuspenseList");case 0:case 15:return ft(n.type,!1);case 11:return ft(n.type.render,!1);case 1:return ft(n.type,!0);case 31:return yt("Activity");default:return""}}function fs(n){try{var s="";do s+=Vs(n),n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function or(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function _n(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Li(n){var s=_n(n)?"checked":"value",u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),g=""+n[s];if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var _=u.get,w=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return _.call(this)},set:function(N){g=""+N,w.call(this,N)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return g},setValue:function(N){g=""+N},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function xa(n){n._valueTracker||(n._valueTracker=Li(n))}function un(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var u=s.getValue(),g="";return n&&(g=_n(n)?n.checked?"true":"false":n.value),n=g,n!==u?(s.setValue(n),!0):!1}function Pr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var uu=/[\n"\\]/g;function cn(n){return n.replace(uu,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Et(n,s,u,g,_,w,N,P){n.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?n.type=N:n.removeAttribute("type"),s!=null?N==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+or(s)):n.value!==""+or(s)&&(n.value=""+or(s)):N!=="submit"&&N!=="reset"||n.removeAttribute("value"),s!=null?ee(n,N,or(s)):u!=null?ee(n,N,or(u)):g!=null&&n.removeAttribute("value"),_==null&&w!=null&&(n.defaultChecked=!!w),_!=null&&(n.checked=_&&typeof _!="function"&&typeof _!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?n.name=""+or(P):n.removeAttribute("name")}function In(n,s,u,g,_,w,N,P){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.type=w),s!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||s!=null))return;u=u!=null?""+or(u):"",s=s!=null?""+or(s):u,P||s===n.value||(n.value=s),n.defaultValue=s}g=g??_,g=typeof g!="function"&&typeof g!="symbol"&&!!g,n.checked=P?n.checked:!!g,n.defaultChecked=!!g,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(n.name=N)}function ee(n,s,u){s==="number"&&Pr(n.ownerDocument)===n||n.defaultValue===""+u||(n.defaultValue=""+u)}function V(n,s,u,g){if(n=n.options,s){s={};for(var _=0;_<u.length;_++)s["$"+u[_]]=!0;for(u=0;u<n.length;u++)_=s.hasOwnProperty("$"+n[u].value),n[u].selected!==_&&(n[u].selected=_),_&&g&&(n[u].defaultSelected=!0)}else{for(u=""+or(u),s=null,_=0;_<n.length;_++){if(n[_].value===u){n[_].selected=!0,g&&(n[_].defaultSelected=!0);return}s!==null||n[_].disabled||(s=n[_])}s!==null&&(s.selected=!0)}}function Pe(n,s,u){if(s!=null&&(s=""+or(s),s!==n.value&&(n.value=s),u==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=u!=null?""+or(u):""}function mn(n,s,u,g){if(s==null){if(g!=null){if(u!=null)throw Error(a(92));if(fe(g)){if(1<g.length)throw Error(a(93));g=g[0]}u=g}u==null&&(u=""),s=u}u=or(s),n.defaultValue=u,g=n.textContent,g===u&&g!==""&&g!==null&&(n.value=g)}function An(n,s){if(s){var u=n.firstChild;if(u&&u===n.lastChild&&u.nodeType===3){u.nodeValue=s;return}}n.textContent=s}var Us=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wa(n,s,u){var g=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?g?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":g?n.setProperty(s,u):typeof u!="number"||u===0||Us.has(s)?s==="float"?n.cssFloat=u:n[s]=(""+u).trim():n[s]=u+"px"}function gr(n,s,u){if(s!=null&&typeof s!="object")throw Error(a(62));if(n=n.style,u!=null){for(var g in u)!u.hasOwnProperty(g)||s!=null&&s.hasOwnProperty(g)||(g.indexOf("--")===0?n.setProperty(g,""):g==="float"?n.cssFloat="":n[g]="");for(var _ in s)g=s[_],s.hasOwnProperty(_)&&u[_]!==g&&wa(n,_,g)}else for(var w in s)s.hasOwnProperty(w)&&wa(n,w,s[w])}function We(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(n){return Jo.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var fi=null;function wr(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var di=null,Zi=null;function bn(n){var s=xr(n);if(s&&(n=s.stateNode)){var u=n[sn]||null;e:switch(n=s.stateNode,s.type){case"input":if(Et(n,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=n;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+cn(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var g=u[s];if(g!==n&&g.form===n.form){var _=g[sn]||null;if(!_)throw Error(a(90));Et(g,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(s=0;s<u.length;s++)g=u[s],g.form===n.form&&un(g)}break e;case"textarea":Pe(n,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&V(n,!!u.multiple,s,!1)}}}var Br=!1;function gi(n,s,u){if(Br)return n(s,u);Br=!0;try{var g=n(s);return g}finally{if(Br=!1,(di!==null||Zi!==null)&&(yh(),di&&(s=di,n=Zi,Zi=di=null,bn(s),n)))for(s=0;s<n.length;s++)bn(n[s])}}function Qe(n,s){var u=n.stateNode;if(u===null)return null;var g=u[sn]||null;if(g===null)return null;u=g[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(n=n.type,g=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!g;break e;default:n=!1}if(n)return null;if(u&&typeof u!="function")throw Error(a(231,s,typeof u));return u}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$e=!1;if(mi)try{var xn={};Object.defineProperty(xn,"passive",{get:function(){$e=!0}}),window.addEventListener("test",xn,xn),window.removeEventListener("test",xn,xn)}catch{$e=!1}var Pi=null,Bi=null,ki=null;function pi(){if(ki)return ki;var n,s=Bi,u=s.length,g,_="value"in Pi?Pi.value:Pi.textContent,w=_.length;for(n=0;n<u&&s[n]===_[n];n++);var N=u-n;for(g=1;g<=N&&s[u-g]===_[w-g];g++);return ki=_.slice(n,1<g?1-g:void 0)}function Vi(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function kr(){return!0}function Ji(){return!1}function Rn(n){function s(u,g,_,w,N){this._reactName=u,this._targetInst=_,this.type=g,this.nativeEvent=w,this.target=N,this.currentTarget=null;for(var P in n)n.hasOwnProperty(P)&&(u=n[P],this[P]=u?u(w):w[P]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?kr:Ji,this.isPropagationStopped=Ji,this}return I(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=kr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=kr)},persist:function(){},isPersistent:kr}),s}var Vt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ui=Rn(Vt),yi=I({},Vt,{view:0,detail:0}),lr=Rn(yi),Fs,zs,Ei,Hs=I({},yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:es,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ei&&(Ei&&n.type==="mousemove"?(Fs=n.screenX-Ei.screenX,zs=n.screenY-Ei.screenY):zs=Fs=0,Ei=n),Fs)},movementY:function(n){return"movementY"in n?n.movementY:zs}}),ti=Rn(Hs),$o=I({},Hs,{dataTransfer:0}),Ht=Rn($o),ds=I({},yi,{relatedTarget:0}),$i=Rn(ds),ni=I({},Vt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ca=Rn(ni),ce=I({},Vt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),st=Rn(ce),Xn=I({},Vt,{data:0}),gs=Rn(Xn),ms={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},el={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Co(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=tl[n])?!!s[n]:!1}function es(){return Co}var Nn=I({},yi,{key:function(n){if(n.key){var s=ms[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Vi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?el[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:es,charCode:function(n){return n.type==="keypress"?Vi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Vi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ps=Rn(Nn),fn=I({},Hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ys=Rn(fn),Tr=I({},yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:es}),jt=Rn(Tr),Ze=I({},Vt,{propertyName:0,elapsedTime:0,pseudoElement:0}),nl=Rn(Ze),Kt=I({},Hs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ri=Rn(Kt),Fn=I({},Vt,{newState:0,oldState:0}),rl=Rn(Fn),Qr=[9,13,27,32],ii=mi&&"CompositionEvent"in window,y=null;mi&&"documentMode"in document&&(y=document.documentMode);var v=mi&&"TextEvent"in window&&!y,R=mi&&(!ii||y&&8<y&&11>=y),B=" ",te=!1;function de(n,s){switch(n){case"keyup":return Qr.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Le(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var It=!1;function wn(n,s){switch(n){case"compositionend":return Le(s);case"keypress":return s.which!==32?null:(te=!0,B);case"textInput":return n=s.data,n===B&&te?null:n;default:return null}}function bt(n,s){if(It)return n==="compositionend"||!ii&&de(n,s)?(n=pi(),ki=Bi=Pi=null,It=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return R&&s.locale!=="ko"?null:s.data;default:return null}}var dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!dn[n.type]:s==="textarea"}function zn(n,s,u,g){di?Zi?Zi.push(g):Zi=[g]:di=g,s=Th(s,"onChange"),0<s.length&&(u=new Ui("onChange","change",null,u,g),n.push({event:u,listeners:s}))}var tr=null,Wn=null;function So(n){Zp(n,0)}function Sa(n){var s=Wr(n);if(un(s))return n}function kc(n,s){if(n==="change")return s}var cu=!1;if(mi){var si;if(mi){var hu="oninput"in document;if(!hu){var il=document.createElement("div");il.setAttribute("oninput","return;"),hu=typeof il.oninput=="function"}si=hu}else si=!1;cu=si&&(!document.documentMode||9<document.documentMode)}function va(){tr&&(tr.detachEvent("onpropertychange",Rt),Wn=tr=null)}function Rt(n){if(n.propertyName==="value"&&Sa(Wn)){var s=[];zn(s,Wn,n,wr(n)),gi(So,s)}}function sl(n,s,u){n==="focusin"?(va(),tr=s,Wn=u,tr.attachEvent("onpropertychange",Rt)):n==="focusout"&&va()}function D(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Sa(Wn)}function r(n,s){if(n==="click")return Sa(s)}function o(n,s){if(n==="input"||n==="change")return Sa(s)}function l(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var h=typeof Object.is=="function"?Object.is:l;function f(n,s){if(h(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var u=Object.keys(n),g=Object.keys(s);if(u.length!==g.length)return!1;for(g=0;g<u.length;g++){var _=u[g];if(!Ni.call(s,_)||!h(n[_],s[_]))return!1}return!0}function m(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function p(n,s){var u=m(n);n=0;for(var g;u;){if(u.nodeType===3){if(g=n+u.textContent.length,n<=s&&g>=s)return{node:u,offset:s-n};n=g}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=m(u)}}function A(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?A(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function C(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Pr(n.document);s instanceof n.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)n=s.contentWindow;else break;s=Pr(n.document)}return s}function b(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var O=mi&&"documentMode"in document&&11>=document.documentMode,L=null,F=null,Y=null,Q=!1;function ne(n,s,u){var g=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Q||L==null||L!==Pr(g)||(g=L,"selectionStart"in g&&b(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Y&&f(Y,g)||(Y=g,g=Th(F,"onSelect"),0<g.length&&(s=new Ui("onSelect","select",null,s,u),n.push({event:s,listeners:g}),s.target=L)))}function ue(n,s){var u={};return u[n.toLowerCase()]=s.toLowerCase(),u["Webkit"+n]="webkit"+s,u["Moz"+n]="moz"+s,u}var be={animationend:ue("Animation","AnimationEnd"),animationiteration:ue("Animation","AnimationIteration"),animationstart:ue("Animation","AnimationStart"),transitionrun:ue("Transition","TransitionRun"),transitionstart:ue("Transition","TransitionStart"),transitioncancel:ue("Transition","TransitionCancel"),transitionend:ue("Transition","TransitionEnd")},De={},Ie={};mi&&(Ie=document.createElement("div").style,"AnimationEvent"in window||(delete be.animationend.animation,delete be.animationiteration.animation,delete be.animationstart.animation),"TransitionEvent"in window||delete be.transitionend.transition);function ut(n){if(De[n])return De[n];if(!be[n])return n;var s=be[n],u;for(u in s)if(s.hasOwnProperty(u)&&u in Ie)return De[n]=s[u];return n}var ot=ut("animationend"),Cr=ut("animationiteration"),ai=ut("animationstart"),Vr=ut("transitionrun"),$t=ut("transitionstart"),ur=ut("transitioncancel"),Ur=ut("transitionend"),js=new Map,Es="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Es.push("scrollEnd");function _i(n,s){js.set(n,s),Un(s,[n])}var Vc=new WeakMap;function Fi(n,s){if(typeof n=="object"&&n!==null){var u=Vc.get(n);return u!==void 0?u:(s={value:n,source:s,stack:fs(s)},Vc.set(n,s),s)}return{value:n,source:s,stack:fs(s)}}var zi=[],al=0,rd=0;function Uc(){for(var n=al,s=rd=al=0;s<n;){var u=zi[s];zi[s++]=null;var g=zi[s];zi[s++]=null;var _=zi[s];zi[s++]=null;var w=zi[s];if(zi[s++]=null,g!==null&&_!==null){var N=g.pending;N===null?_.next=_:(_.next=N.next,N.next=_),g.pending=_}w!==0&&Pg(u,_,w)}}function Fc(n,s,u,g){zi[al++]=n,zi[al++]=s,zi[al++]=u,zi[al++]=g,rd|=g,n.lanes|=g,n=n.alternate,n!==null&&(n.lanes|=g)}function id(n,s,u,g){return Fc(n,s,u,g),zc(n)}function ol(n,s){return Fc(n,null,null,s),zc(n)}function Pg(n,s,u){n.lanes|=u;var g=n.alternate;g!==null&&(g.lanes|=u);for(var _=!1,w=n.return;w!==null;)w.childLanes|=u,g=w.alternate,g!==null&&(g.childLanes|=u),w.tag===22&&(n=w.stateNode,n===null||n._visibility&1||(_=!0)),n=w,w=w.return;return n.tag===3?(w=n.stateNode,_&&s!==null&&(_=31-Ft(u),n=w.hiddenUpdates,g=n[_],g===null?n[_]=[s]:g.push(s),s.lane=u|536870912),w):null}function zc(n){if(50<Bu)throw Bu=0,c1=null,Error(a(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var ll={};function Ux(n,s,u,g){this.tag=n,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ai(n,s,u,g){return new Ux(n,s,u,g)}function sd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Gs(n,s){var u=n.alternate;return u===null?(u=Ai(n.tag,s,n.key,n.mode),u.elementType=n.elementType,u.type=n.type,u.stateNode=n.stateNode,u.alternate=n,n.alternate=u):(u.pendingProps=s,u.type=n.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=n.flags&65011712,u.childLanes=n.childLanes,u.lanes=n.lanes,u.child=n.child,u.memoizedProps=n.memoizedProps,u.memoizedState=n.memoizedState,u.updateQueue=n.updateQueue,s=n.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=n.sibling,u.index=n.index,u.ref=n.ref,u.refCleanup=n.refCleanup,u}function Bg(n,s){n.flags&=65011714;var u=n.alternate;return u===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=u.childLanes,n.lanes=u.lanes,n.child=u.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=u.memoizedProps,n.memoizedState=u.memoizedState,n.updateQueue=u.updateQueue,n.type=u.type,s=u.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Hc(n,s,u,g,_,w){var N=0;if(g=n,typeof n=="function")sd(n)&&(N=1);else if(typeof n=="string")N=zw(n,u,Ve.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case k:return n=Ai(31,u,s,_),n.elementType=k,n.lanes=w,n;case ae:return vo(u.children,_,w,s);case oe:N=8,_|=24;break;case re:return n=Ai(12,u,s,_|2),n.elementType=re,n.lanes=w,n;case Ge:return n=Ai(13,u,s,_),n.elementType=Ge,n.lanes=w,n;case qe:return n=Ai(19,u,s,_),n.elementType=qe,n.lanes=w,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ve:case pe:N=10;break e;case me:N=9;break e;case Be:N=11;break e;case H:N=14;break e;case z:N=16,g=null;break e}N=29,u=Error(a(130,n===null?"null":typeof n,"")),g=null}return s=Ai(N,u,s,_),s.elementType=n,s.type=g,s.lanes=w,s}function vo(n,s,u,g){return n=Ai(7,n,g,s),n.lanes=u,n}function ad(n,s,u){return n=Ai(6,n,null,s),n.lanes=u,n}function od(n,s,u){return s=Ai(4,n.children!==null?n.children:[],n.key,s),s.lanes=u,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var ul=[],cl=0,jc=null,Gc=0,Hi=[],ji=0,Io=null,qs=1,Ys="";function bo(n,s){ul[cl++]=Gc,ul[cl++]=jc,jc=n,Gc=s}function kg(n,s,u){Hi[ji++]=qs,Hi[ji++]=Ys,Hi[ji++]=Io,Io=n;var g=qs;n=Ys;var _=32-Ft(g)-1;g&=~(1<<_),u+=1;var w=32-Ft(s)+_;if(30<w){var N=_-_%5;w=(g&(1<<N)-1).toString(32),g>>=N,_-=N,qs=1<<32-Ft(s)+_|u<<_|g,Ys=w+n}else qs=1<<w|u<<_|g,Ys=n}function ld(n){n.return!==null&&(bo(n,1),kg(n,1,0))}function ud(n){for(;n===jc;)jc=ul[--cl],ul[cl]=null,Gc=ul[--cl],ul[cl]=null;for(;n===Io;)Io=Hi[--ji],Hi[ji]=null,Ys=Hi[--ji],Hi[ji]=null,qs=Hi[--ji],Hi[ji]=null}var Kr=null,Hn=null,Yt=!1,Ro=null,_s=!1,cd=Error(a(519));function No(n){var s=Error(a(418,""));throw gu(Fi(s,n)),cd}function Vg(n){var s=n.stateNode,u=n.type,g=n.memoizedProps;switch(s[qn]=n,s[sn]=g,u){case"dialog":St("cancel",s),St("close",s);break;case"iframe":case"object":case"embed":St("load",s);break;case"video":case"audio":for(u=0;u<Vu.length;u++)St(Vu[u],s);break;case"source":St("error",s);break;case"img":case"image":case"link":St("error",s),St("load",s);break;case"details":St("toggle",s);break;case"input":St("invalid",s),In(s,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),xa(s);break;case"select":St("invalid",s);break;case"textarea":St("invalid",s),mn(s,g.value,g.defaultValue,g.children),xa(s)}u=g.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||g.suppressHydrationWarning===!0||t2(s.textContent,u)?(g.popover!=null&&(St("beforetoggle",s),St("toggle",s)),g.onScroll!=null&&St("scroll",s),g.onScrollEnd!=null&&St("scrollend",s),g.onClick!=null&&(s.onclick=Ch),s=!0):s=!1,s||No(n)}function Ug(n){for(Kr=n.return;Kr;)switch(Kr.tag){case 5:case 13:_s=!1;return;case 27:case 3:_s=!0;return;default:Kr=Kr.return}}function fu(n){if(n!==Kr)return!1;if(!Yt)return Ug(n),Yt=!0,!1;var s=n.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=n.type,u=!(u!=="form"&&u!=="button")||v1(n.type,n.memoizedProps)),u=!u),u&&Hn&&No(n),Ug(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(u=n.data,u==="/$"){if(s===0){Hn=ns(n.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++;n=n.nextSibling}Hn=null}}else s===27?(s=Hn,Ha(n.type)?(n=N1,N1=null,Hn=n):Hn=s):Hn=Kr?ns(n.stateNode.nextSibling):null;return!0}function du(){Hn=Kr=null,Yt=!1}function Fg(){var n=Ro;return n!==null&&(ui===null?ui=n:ui.push.apply(ui,n),Ro=null),n}function gu(n){Ro===null?Ro=[n]:Ro.push(n)}var hd=Se(null),Do=null,Xs=null;function Ia(n,s,u){Ne(hd,s._currentValue),s._currentValue=u}function Ws(n){n._currentValue=hd.current,Oe(hd)}function fd(n,s,u){for(;n!==null;){var g=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,g!==null&&(g.childLanes|=s)):g!==null&&(g.childLanes&s)!==s&&(g.childLanes|=s),n===u)break;n=n.return}}function dd(n,s,u,g){var _=n.child;for(_!==null&&(_.return=n);_!==null;){var w=_.dependencies;if(w!==null){var N=_.child;w=w.firstContext;e:for(;w!==null;){var P=w;w=_;for(var G=0;G<s.length;G++)if(P.context===s[G]){w.lanes|=u,P=w.alternate,P!==null&&(P.lanes|=u),fd(w.return,u,n),g||(N=null);break e}w=P.next}}else if(_.tag===18){if(N=_.return,N===null)throw Error(a(341));N.lanes|=u,w=N.alternate,w!==null&&(w.lanes|=u),fd(N,u,n),N=null}else N=_.child;if(N!==null)N.return=_;else for(N=_;N!==null;){if(N===n){N=null;break}if(_=N.sibling,_!==null){_.return=N.return,N=_;break}N=N.return}_=N}}function mu(n,s,u,g){n=null;for(var _=s,w=!1;_!==null;){if(!w){if((_.flags&524288)!==0)w=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var N=_.alternate;if(N===null)throw Error(a(387));if(N=N.memoizedProps,N!==null){var P=_.type;h(_.pendingProps.value,N.value)||(n!==null?n.push(P):n=[P])}}else if(_===kn.current){if(N=_.alternate,N===null)throw Error(a(387));N.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(n!==null?n.push(Gu):n=[Gu])}_=_.return}n!==null&&dd(s,n,u,g),s.flags|=262144}function qc(n){for(n=n.firstContext;n!==null;){if(!h(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Oo(n){Do=n,Xs=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Fr(n){return zg(Do,n)}function Yc(n,s){return Do===null&&Oo(n),zg(n,s)}function zg(n,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},Xs===null){if(n===null)throw Error(a(308));Xs=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Xs=Xs.next=s;return u}var Fx=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(u,g){n.push(g)}};this.abort=function(){s.aborted=!0,n.forEach(function(u){return u()})}},zx=i.unstable_scheduleCallback,Hx=i.unstable_NormalPriority,cr={$$typeof:pe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gd(){return{controller:new Fx,data:new Map,refCount:0}}function pu(n){n.refCount--,n.refCount===0&&zx(Hx,function(){n.controller.abort()})}var yu=null,md=0,hl=0,fl=null;function jx(n,s){if(yu===null){var u=yu=[];md=0,hl=y1(),fl={status:"pending",value:void 0,then:function(g){u.push(g)}}}return md++,s.then(Hg,Hg),s}function Hg(){if(--md===0&&yu!==null){fl!==null&&(fl.status="fulfilled");var n=yu;yu=null,hl=0,fl=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function Gx(n,s){var u=[],g={status:"pending",value:null,reason:null,then:function(_){u.push(_)}};return n.then(function(){g.status="fulfilled",g.value=s;for(var _=0;_<u.length;_++)(0,u[_])(s)},function(_){for(g.status="rejected",g.reason=_,_=0;_<u.length;_++)(0,u[_])(void 0)}),g}var jg=ge.S;ge.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&jx(n,s),jg!==null&&jg(n,s)};var Mo=Se(null);function pd(){var n=Mo.current;return n!==null?n:pn.pooledCache}function Xc(n,s){s===null?Ne(Mo,Mo.current):Ne(Mo,s.pool)}function Gg(){var n=pd();return n===null?null:{parent:cr._currentValue,pool:n}}var Eu=Error(a(460)),qg=Error(a(474)),Wc=Error(a(542)),yd={then:function(){}};function Yg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Qc(){}function Xg(n,s,u){switch(u=n[u],u===void 0?n.push(s):u!==s&&(s.then(Qc,Qc),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Qg(n),n;default:if(typeof s.status=="string")s.then(Qc,Qc);else{if(n=pn,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=s,n.status="pending",n.then(function(g){if(s.status==="pending"){var _=s;_.status="fulfilled",_.value=g}},function(g){if(s.status==="pending"){var _=s;_.status="rejected",_.reason=g}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Qg(n),n}throw _u=s,Eu}}var _u=null;function Wg(){if(_u===null)throw Error(a(459));var n=_u;return _u=null,n}function Qg(n){if(n===Eu||n===Wc)throw Error(a(483))}var ba=!1;function Ed(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _d(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ra(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Na(n,s,u){var g=n.updateQueue;if(g===null)return null;if(g=g.shared,(en&2)!==0){var _=g.pending;return _===null?s.next=s:(s.next=_.next,_.next=s),g.pending=s,s=zc(n),Pg(n,null,u),s}return Fc(n,g,s,u),zc(n)}function Au(n,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var g=s.lanes;g&=n.pendingLanes,u|=g,s.lanes=u,Ar(n,u)}}function Ad(n,s){var u=n.updateQueue,g=n.alternate;if(g!==null&&(g=g.updateQueue,u===g)){var _=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var N={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?_=w=N:w=w.next=N,u=u.next}while(u!==null);w===null?_=w=s:w=w.next=s}else _=w=s;u={baseState:g.baseState,firstBaseUpdate:_,lastBaseUpdate:w,shared:g.shared,callbacks:g.callbacks},n.updateQueue=u;return}n=u.lastBaseUpdate,n===null?u.firstBaseUpdate=s:n.next=s,u.lastBaseUpdate=s}var xd=!1;function xu(){if(xd){var n=fl;if(n!==null)throw n}}function wu(n,s,u,g){xd=!1;var _=n.updateQueue;ba=!1;var w=_.firstBaseUpdate,N=_.lastBaseUpdate,P=_.shared.pending;if(P!==null){_.shared.pending=null;var G=P,se=G.next;G.next=null,N===null?w=se:N.next=se,N=G;var Ee=n.alternate;Ee!==null&&(Ee=Ee.updateQueue,P=Ee.lastBaseUpdate,P!==N&&(P===null?Ee.firstBaseUpdate=se:P.next=se,Ee.lastBaseUpdate=G))}if(w!==null){var Te=_.baseState;N=0,Ee=se=G=null,P=w;do{var le=P.lane&-536870913,he=le!==P.lane;if(he?(Bt&le)===le:(g&le)===le){le!==0&&le===hl&&(xd=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var it=n,et=P;le=s;var ln=u;switch(et.tag){case 1:if(it=et.payload,typeof it=="function"){Te=it.call(ln,Te,le);break e}Te=it;break e;case 3:it.flags=it.flags&-65537|128;case 0:if(it=et.payload,le=typeof it=="function"?it.call(ln,Te,le):it,le==null)break e;Te=I({},Te,le);break e;case 2:ba=!0}}le=P.callback,le!==null&&(n.flags|=64,he&&(n.flags|=8192),he=_.callbacks,he===null?_.callbacks=[le]:he.push(le))}else he={lane:le,tag:P.tag,payload:P.payload,callback:P.callback,next:null},Ee===null?(se=Ee=he,G=Te):Ee=Ee.next=he,N|=le;if(P=P.next,P===null){if(P=_.shared.pending,P===null)break;he=P,P=he.next,he.next=null,_.lastBaseUpdate=he,_.shared.pending=null}}while(!0);Ee===null&&(G=Te),_.baseState=G,_.firstBaseUpdate=se,_.lastBaseUpdate=Ee,w===null&&(_.shared.lanes=0),Va|=N,n.lanes=N,n.memoizedState=Te}}function Kg(n,s){if(typeof n!="function")throw Error(a(191,n));n.call(s)}function Zg(n,s){var u=n.callbacks;if(u!==null)for(n.callbacks=null,n=0;n<u.length;n++)Kg(u[n],s)}var dl=Se(null),Kc=Se(0);function Jg(n,s){n=ta,Ne(Kc,n),Ne(dl,s),ta=n|s.baseLanes}function wd(){Ne(Kc,ta),Ne(dl,dl.current)}function Td(){ta=Kc.current,Oe(dl),Oe(Kc)}var Da=0,xt=null,an=null,nr=null,Zc=!1,gl=!1,Lo=!1,Jc=0,Tu=0,ml=null,qx=0;function Qn(){throw Error(a(321))}function Cd(n,s){if(s===null)return!1;for(var u=0;u<s.length&&u<n.length;u++)if(!h(n[u],s[u]))return!1;return!0}function Sd(n,s,u,g,_,w){return Da=w,xt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ge.H=n===null||n.memoizedState===null?Pm:Bm,Lo=!1,w=u(g,_),Lo=!1,gl&&(w=em(s,u,g,_)),$g(n),w}function $g(n){ge.H=ih;var s=an!==null&&an.next!==null;if(Da=0,nr=an=xt=null,Zc=!1,Tu=0,ml=null,s)throw Error(a(300));n===null||mr||(n=n.dependencies,n!==null&&qc(n)&&(mr=!0))}function em(n,s,u,g){xt=n;var _=0;do{if(gl&&(ml=null),Tu=0,gl=!1,25<=_)throw Error(a(301));if(_+=1,nr=an=null,n.updateQueue!=null){var w=n.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}ge.H=Jx,w=s(u,g)}while(gl);return w}function Yx(){var n=ge.H,s=n.useState()[0];return s=typeof s.then=="function"?Cu(s):s,n=n.useState()[0],(an!==null?an.memoizedState:null)!==n&&(xt.flags|=1024),s}function vd(){var n=Jc!==0;return Jc=0,n}function Id(n,s,u){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~u}function bd(n){if(Zc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Zc=!1}Da=0,nr=an=xt=null,gl=!1,Tu=Jc=0,ml=null}function oi(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?xt.memoizedState=nr=n:nr=nr.next=n,nr}function rr(){if(an===null){var n=xt.alternate;n=n!==null?n.memoizedState:null}else n=an.next;var s=nr===null?xt.memoizedState:nr.next;if(s!==null)nr=s,an=n;else{if(n===null)throw xt.alternate===null?Error(a(467)):Error(a(310));an=n,n={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},nr===null?xt.memoizedState=nr=n:nr=nr.next=n}return nr}function Rd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cu(n){var s=Tu;return Tu+=1,ml===null&&(ml=[]),n=Xg(ml,n,s),s=xt,(nr===null?s.memoizedState:nr.next)===null&&(s=s.alternate,ge.H=s===null||s.memoizedState===null?Pm:Bm),n}function $c(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Cu(n);if(n.$$typeof===pe)return Fr(n)}throw Error(a(438,String(n)))}function Nd(n){var s=null,u=xt.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var g=xt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(s={data:g.data.map(function(_){return _.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=Rd(),xt.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(n),g=0;g<n;g++)u[g]=Z;return s.index++,u}function Qs(n,s){return typeof s=="function"?s(n):s}function eh(n){var s=rr();return Dd(s,an,n)}function Dd(n,s,u){var g=n.queue;if(g===null)throw Error(a(311));g.lastRenderedReducer=u;var _=n.baseQueue,w=g.pending;if(w!==null){if(_!==null){var N=_.next;_.next=w.next,w.next=N}s.baseQueue=_=w,g.pending=null}if(w=n.baseState,_===null)n.memoizedState=w;else{s=_.next;var P=N=null,G=null,se=s,Ee=!1;do{var Te=se.lane&-536870913;if(Te!==se.lane?(Bt&Te)===Te:(Da&Te)===Te){var le=se.revertLane;if(le===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),Te===hl&&(Ee=!0);else if((Da&le)===le){se=se.next,le===hl&&(Ee=!0);continue}else Te={lane:0,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},G===null?(P=G=Te,N=w):G=G.next=Te,xt.lanes|=le,Va|=le;Te=se.action,Lo&&u(w,Te),w=se.hasEagerState?se.eagerState:u(w,Te)}else le={lane:Te,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},G===null?(P=G=le,N=w):G=G.next=le,xt.lanes|=Te,Va|=Te;se=se.next}while(se!==null&&se!==s);if(G===null?N=w:G.next=P,!h(w,n.memoizedState)&&(mr=!0,Ee&&(u=fl,u!==null)))throw u;n.memoizedState=w,n.baseState=N,n.baseQueue=G,g.lastRenderedState=w}return _===null&&(g.lanes=0),[n.memoizedState,g.dispatch]}function Od(n){var s=rr(),u=s.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=n;var g=u.dispatch,_=u.pending,w=s.memoizedState;if(_!==null){u.pending=null;var N=_=_.next;do w=n(w,N.action),N=N.next;while(N!==_);h(w,s.memoizedState)||(mr=!0),s.memoizedState=w,s.baseQueue===null&&(s.baseState=w),u.lastRenderedState=w}return[w,g]}function tm(n,s,u){var g=xt,_=rr(),w=Yt;if(w){if(u===void 0)throw Error(a(407));u=u()}else u=s();var N=!h((an||_).memoizedState,u);N&&(_.memoizedState=u,mr=!0),_=_.queue;var P=im.bind(null,g,_,n);if(Su(2048,8,P,[n]),_.getSnapshot!==s||N||nr!==null&&nr.memoizedState.tag&1){if(g.flags|=2048,pl(9,th(),rm.bind(null,g,_,u,s),null),pn===null)throw Error(a(349));w||(Da&124)!==0||nm(g,s,u)}return u}function nm(n,s,u){n.flags|=16384,n={getSnapshot:s,value:u},s=xt.updateQueue,s===null?(s=Rd(),xt.updateQueue=s,s.stores=[n]):(u=s.stores,u===null?s.stores=[n]:u.push(n))}function rm(n,s,u,g){s.value=u,s.getSnapshot=g,sm(s)&&am(n)}function im(n,s,u){return u(function(){sm(s)&&am(n)})}function sm(n){var s=n.getSnapshot;n=n.value;try{var u=s();return!h(n,u)}catch{return!0}}function am(n){var s=ol(n,2);s!==null&&Si(s,n,2)}function Md(n){var s=oi();if(typeof n=="function"){var u=n;if(n=u(),Lo){Vn(!0);try{u()}finally{Vn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:n},s}function om(n,s,u,g){return n.baseState=u,Dd(n,an,typeof g=="function"?g:Qs)}function Xx(n,s,u,g,_){if(rh(n))throw Error(a(485));if(n=s.action,n!==null){var w={payload:_,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){w.listeners.push(N)}};ge.T!==null?u(!0):w.isTransition=!1,g(w),u=s.pending,u===null?(w.next=s.pending=w,lm(s,w)):(w.next=u.next,s.pending=u.next=w)}}function lm(n,s){var u=s.action,g=s.payload,_=n.state;if(s.isTransition){var w=ge.T,N={};ge.T=N;try{var P=u(_,g),G=ge.S;G!==null&&G(N,P),um(n,s,P)}catch(se){Ld(n,s,se)}finally{ge.T=w}}else try{w=u(_,g),um(n,s,w)}catch(se){Ld(n,s,se)}}function um(n,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(g){cm(n,s,g)},function(g){return Ld(n,s,g)}):cm(n,s,u)}function cm(n,s,u){s.status="fulfilled",s.value=u,hm(s),n.state=u,s=n.pending,s!==null&&(u=s.next,u===s?n.pending=null:(u=u.next,s.next=u,lm(n,u)))}function Ld(n,s,u){var g=n.pending;if(n.pending=null,g!==null){g=g.next;do s.status="rejected",s.reason=u,hm(s),s=s.next;while(s!==g)}n.action=null}function hm(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function fm(n,s){return s}function dm(n,s){if(Yt){var u=pn.formState;if(u!==null){e:{var g=xt;if(Yt){if(Hn){t:{for(var _=Hn,w=_s;_.nodeType!==8;){if(!w){_=null;break t}if(_=ns(_.nextSibling),_===null){_=null;break t}}w=_.data,_=w==="F!"||w==="F"?_:null}if(_){Hn=ns(_.nextSibling),g=_.data==="F!";break e}}No(g)}g=!1}g&&(s=u[0])}}return u=oi(),u.memoizedState=u.baseState=s,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fm,lastRenderedState:s},u.queue=g,u=Om.bind(null,xt,g),g.dispatch=u,g=Md(!1),w=Ud.bind(null,xt,!1,g.queue),g=oi(),_={state:s,dispatch:null,action:n,pending:null},g.queue=_,u=Xx.bind(null,xt,_,w,u),_.dispatch=u,g.memoizedState=n,[s,u,!1]}function gm(n){var s=rr();return mm(s,an,n)}function mm(n,s,u){if(s=Dd(n,s,fm)[0],n=eh(Qs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var g=Cu(s)}catch(N){throw N===Eu?Wc:N}else g=s;s=rr();var _=s.queue,w=_.dispatch;return u!==s.memoizedState&&(xt.flags|=2048,pl(9,th(),Wx.bind(null,_,u),null)),[g,w,n]}function Wx(n,s){n.action=s}function pm(n){var s=rr(),u=an;if(u!==null)return mm(s,u,n);rr(),s=s.memoizedState,u=rr();var g=u.queue.dispatch;return u.memoizedState=n,[s,g,!1]}function pl(n,s,u,g){return n={tag:n,create:u,deps:g,inst:s,next:null},s=xt.updateQueue,s===null&&(s=Rd(),xt.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=n.next=n:(g=u.next,u.next=n,n.next=g,s.lastEffect=n),n}function th(){return{destroy:void 0,resource:void 0}}function ym(){return rr().memoizedState}function nh(n,s,u,g){var _=oi();g=g===void 0?null:g,xt.flags|=n,_.memoizedState=pl(1|s,th(),u,g)}function Su(n,s,u,g){var _=rr();g=g===void 0?null:g;var w=_.memoizedState.inst;an!==null&&g!==null&&Cd(g,an.memoizedState.deps)?_.memoizedState=pl(s,w,u,g):(xt.flags|=n,_.memoizedState=pl(1|s,w,u,g))}function Em(n,s){nh(8390656,8,n,s)}function _m(n,s){Su(2048,8,n,s)}function Am(n,s){return Su(4,2,n,s)}function xm(n,s){return Su(4,4,n,s)}function wm(n,s){if(typeof s=="function"){n=n();var u=s(n);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Tm(n,s,u){u=u!=null?u.concat([n]):null,Su(4,4,wm.bind(null,s,n),u)}function Pd(){}function Cm(n,s){var u=rr();s=s===void 0?null:s;var g=u.memoizedState;return s!==null&&Cd(s,g[1])?g[0]:(u.memoizedState=[n,s],n)}function Sm(n,s){var u=rr();s=s===void 0?null:s;var g=u.memoizedState;if(s!==null&&Cd(s,g[1]))return g[0];if(g=n(),Lo){Vn(!0);try{n()}finally{Vn(!1)}}return u.memoizedState=[g,s],g}function Bd(n,s,u){return u===void 0||(Da&1073741824)!==0?n.memoizedState=s:(n.memoizedState=u,n=bp(),xt.lanes|=n,Va|=n,u)}function vm(n,s,u,g){return h(u,s)?u:dl.current!==null?(n=Bd(n,u,g),h(n,s)||(mr=!0),n):(Da&42)===0?(mr=!0,n.memoizedState=u):(n=bp(),xt.lanes|=n,Va|=n,s)}function Im(n,s,u,g,_){var w=_e.p;_e.p=w!==0&&8>w?w:8;var N=ge.T,P={};ge.T=P,Ud(n,!1,s,u);try{var G=_(),se=ge.S;if(se!==null&&se(P,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var Ee=Gx(G,g);vu(n,s,Ee,Ci(n))}else vu(n,s,g,Ci(n))}catch(Te){vu(n,s,{then:function(){},status:"rejected",reason:Te},Ci())}finally{_e.p=w,ge.T=N}}function Qx(){}function kd(n,s,u,g){if(n.tag!==5)throw Error(a(476));var _=bm(n).queue;Im(n,_,s,Xe,u===null?Qx:function(){return Rm(n),u(g)})}function bm(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:Xe,baseState:Xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:Xe},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:u},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Rm(n){var s=bm(n).next.queue;vu(n,s,{},Ci())}function Vd(){return Fr(Gu)}function Nm(){return rr().memoizedState}function Dm(){return rr().memoizedState}function Kx(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var u=Ci();n=Ra(u);var g=Na(s,n,u);g!==null&&(Si(g,s,u),Au(g,s,u)),s={cache:gd()},n.payload=s;return}s=s.return}}function Zx(n,s,u){var g=Ci();u={lane:g,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},rh(n)?Mm(s,u):(u=id(n,s,u,g),u!==null&&(Si(u,n,g),Lm(u,s,g)))}function Om(n,s,u){var g=Ci();vu(n,s,u,g)}function vu(n,s,u,g){var _={lane:g,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(rh(n))Mm(s,_);else{var w=n.alternate;if(n.lanes===0&&(w===null||w.lanes===0)&&(w=s.lastRenderedReducer,w!==null))try{var N=s.lastRenderedState,P=w(N,u);if(_.hasEagerState=!0,_.eagerState=P,h(P,N))return Fc(n,s,_,0),pn===null&&Uc(),!1}catch{}finally{}if(u=id(n,s,_,g),u!==null)return Si(u,n,g),Lm(u,s,g),!0}return!1}function Ud(n,s,u,g){if(g={lane:2,revertLane:y1(),action:g,hasEagerState:!1,eagerState:null,next:null},rh(n)){if(s)throw Error(a(479))}else s=id(n,u,g,2),s!==null&&Si(s,n,2)}function rh(n){var s=n.alternate;return n===xt||s!==null&&s===xt}function Mm(n,s){gl=Zc=!0;var u=n.pending;u===null?s.next=s:(s.next=u.next,u.next=s),n.pending=s}function Lm(n,s,u){if((u&4194048)!==0){var g=s.lanes;g&=n.pendingLanes,u|=g,s.lanes=u,Ar(n,u)}}var ih={readContext:Fr,use:$c,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useLayoutEffect:Qn,useInsertionEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useSyncExternalStore:Qn,useId:Qn,useHostTransitionStatus:Qn,useFormState:Qn,useActionState:Qn,useOptimistic:Qn,useMemoCache:Qn,useCacheRefresh:Qn},Pm={readContext:Fr,use:$c,useCallback:function(n,s){return oi().memoizedState=[n,s===void 0?null:s],n},useContext:Fr,useEffect:Em,useImperativeHandle:function(n,s,u){u=u!=null?u.concat([n]):null,nh(4194308,4,wm.bind(null,s,n),u)},useLayoutEffect:function(n,s){return nh(4194308,4,n,s)},useInsertionEffect:function(n,s){nh(4,2,n,s)},useMemo:function(n,s){var u=oi();s=s===void 0?null:s;var g=n();if(Lo){Vn(!0);try{n()}finally{Vn(!1)}}return u.memoizedState=[g,s],g},useReducer:function(n,s,u){var g=oi();if(u!==void 0){var _=u(s);if(Lo){Vn(!0);try{u(s)}finally{Vn(!1)}}}else _=s;return g.memoizedState=g.baseState=_,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:_},g.queue=n,n=n.dispatch=Zx.bind(null,xt,n),[g.memoizedState,n]},useRef:function(n){var s=oi();return n={current:n},s.memoizedState=n},useState:function(n){n=Md(n);var s=n.queue,u=Om.bind(null,xt,s);return s.dispatch=u,[n.memoizedState,u]},useDebugValue:Pd,useDeferredValue:function(n,s){var u=oi();return Bd(u,n,s)},useTransition:function(){var n=Md(!1);return n=Im.bind(null,xt,n.queue,!0,!1),oi().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,u){var g=xt,_=oi();if(Yt){if(u===void 0)throw Error(a(407));u=u()}else{if(u=s(),pn===null)throw Error(a(349));(Bt&124)!==0||nm(g,s,u)}_.memoizedState=u;var w={value:u,getSnapshot:s};return _.queue=w,Em(im.bind(null,g,w,n),[n]),g.flags|=2048,pl(9,th(),rm.bind(null,g,w,u,s),null),u},useId:function(){var n=oi(),s=pn.identifierPrefix;if(Yt){var u=Ys,g=qs;u=(g&~(1<<32-Ft(g)-1)).toString(32)+u,s="«"+s+"R"+u,u=Jc++,0<u&&(s+="H"+u.toString(32)),s+="»"}else u=qx++,s="«"+s+"r"+u.toString(32)+"»";return n.memoizedState=s},useHostTransitionStatus:Vd,useFormState:dm,useActionState:dm,useOptimistic:function(n){var s=oi();s.memoizedState=s.baseState=n;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=Ud.bind(null,xt,!0,u),u.dispatch=s,[n,s]},useMemoCache:Nd,useCacheRefresh:function(){return oi().memoizedState=Kx.bind(null,xt)}},Bm={readContext:Fr,use:$c,useCallback:Cm,useContext:Fr,useEffect:_m,useImperativeHandle:Tm,useInsertionEffect:Am,useLayoutEffect:xm,useMemo:Sm,useReducer:eh,useRef:ym,useState:function(){return eh(Qs)},useDebugValue:Pd,useDeferredValue:function(n,s){var u=rr();return vm(u,an.memoizedState,n,s)},useTransition:function(){var n=eh(Qs)[0],s=rr().memoizedState;return[typeof n=="boolean"?n:Cu(n),s]},useSyncExternalStore:tm,useId:Nm,useHostTransitionStatus:Vd,useFormState:gm,useActionState:gm,useOptimistic:function(n,s){var u=rr();return om(u,an,n,s)},useMemoCache:Nd,useCacheRefresh:Dm},Jx={readContext:Fr,use:$c,useCallback:Cm,useContext:Fr,useEffect:_m,useImperativeHandle:Tm,useInsertionEffect:Am,useLayoutEffect:xm,useMemo:Sm,useReducer:Od,useRef:ym,useState:function(){return Od(Qs)},useDebugValue:Pd,useDeferredValue:function(n,s){var u=rr();return an===null?Bd(u,n,s):vm(u,an.memoizedState,n,s)},useTransition:function(){var n=Od(Qs)[0],s=rr().memoizedState;return[typeof n=="boolean"?n:Cu(n),s]},useSyncExternalStore:tm,useId:Nm,useHostTransitionStatus:Vd,useFormState:pm,useActionState:pm,useOptimistic:function(n,s){var u=rr();return an!==null?om(u,an,n,s):(u.baseState=n,[n,u.queue.dispatch])},useMemoCache:Nd,useCacheRefresh:Dm},yl=null,Iu=0;function sh(n){var s=Iu;return Iu+=1,yl===null&&(yl=[]),Xg(yl,n,s)}function bu(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function ah(n,s){throw s.$$typeof===M?Error(a(525)):(n=Object.prototype.toString.call(s),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function km(n){var s=n._init;return s(n._payload)}function Vm(n){function s($,J){if(n){var ie=$.deletions;ie===null?($.deletions=[J],$.flags|=16):ie.push(J)}}function u($,J){if(!n)return null;for(;J!==null;)s($,J),J=J.sibling;return null}function g($){for(var J=new Map;$!==null;)$.key!==null?J.set($.key,$):J.set($.index,$),$=$.sibling;return J}function _($,J){return $=Gs($,J),$.index=0,$.sibling=null,$}function w($,J,ie){return $.index=ie,n?(ie=$.alternate,ie!==null?(ie=ie.index,ie<J?($.flags|=67108866,J):ie):($.flags|=67108866,J)):($.flags|=1048576,J)}function N($){return n&&$.alternate===null&&($.flags|=67108866),$}function P($,J,ie,Ae){return J===null||J.tag!==6?(J=ad(ie,$.mode,Ae),J.return=$,J):(J=_(J,ie),J.return=$,J)}function G($,J,ie,Ae){var Ye=ie.type;return Ye===ae?Ee($,J,ie.props.children,Ae,ie.key):J!==null&&(J.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===z&&km(Ye)===J.type)?(J=_(J,ie.props),bu(J,ie),J.return=$,J):(J=Hc(ie.type,ie.key,ie.props,null,$.mode,Ae),bu(J,ie),J.return=$,J)}function se($,J,ie,Ae){return J===null||J.tag!==4||J.stateNode.containerInfo!==ie.containerInfo||J.stateNode.implementation!==ie.implementation?(J=od(ie,$.mode,Ae),J.return=$,J):(J=_(J,ie.children||[]),J.return=$,J)}function Ee($,J,ie,Ae,Ye){return J===null||J.tag!==7?(J=vo(ie,$.mode,Ae,Ye),J.return=$,J):(J=_(J,ie),J.return=$,J)}function Te($,J,ie){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=ad(""+J,$.mode,ie),J.return=$,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case U:return ie=Hc(J.type,J.key,J.props,null,$.mode,ie),bu(ie,J),ie.return=$,ie;case W:return J=od(J,$.mode,ie),J.return=$,J;case z:var Ae=J._init;return J=Ae(J._payload),Te($,J,ie)}if(fe(J)||q(J))return J=vo(J,$.mode,ie,null),J.return=$,J;if(typeof J.then=="function")return Te($,sh(J),ie);if(J.$$typeof===pe)return Te($,Yc($,J),ie);ah($,J)}return null}function le($,J,ie,Ae){var Ye=J!==null?J.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Ye!==null?null:P($,J,""+ie,Ae);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case U:return ie.key===Ye?G($,J,ie,Ae):null;case W:return ie.key===Ye?se($,J,ie,Ae):null;case z:return Ye=ie._init,ie=Ye(ie._payload),le($,J,ie,Ae)}if(fe(ie)||q(ie))return Ye!==null?null:Ee($,J,ie,Ae,null);if(typeof ie.then=="function")return le($,J,sh(ie),Ae);if(ie.$$typeof===pe)return le($,J,Yc($,ie),Ae);ah($,ie)}return null}function he($,J,ie,Ae,Ye){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return $=$.get(ie)||null,P(J,$,""+Ae,Ye);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case U:return $=$.get(Ae.key===null?ie:Ae.key)||null,G(J,$,Ae,Ye);case W:return $=$.get(Ae.key===null?ie:Ae.key)||null,se(J,$,Ae,Ye);case z:var Tt=Ae._init;return Ae=Tt(Ae._payload),he($,J,ie,Ae,Ye)}if(fe(Ae)||q(Ae))return $=$.get(ie)||null,Ee(J,$,Ae,Ye,null);if(typeof Ae.then=="function")return he($,J,ie,sh(Ae),Ye);if(Ae.$$typeof===pe)return he($,J,ie,Yc(J,Ae),Ye);ah(J,Ae)}return null}function it($,J,ie,Ae){for(var Ye=null,Tt=null,Ke=J,tt=J=0,yr=null;Ke!==null&&tt<ie.length;tt++){Ke.index>tt?(yr=Ke,Ke=null):yr=Ke.sibling;var Gt=le($,Ke,ie[tt],Ae);if(Gt===null){Ke===null&&(Ke=yr);break}n&&Ke&&Gt.alternate===null&&s($,Ke),J=w(Gt,J,tt),Tt===null?Ye=Gt:Tt.sibling=Gt,Tt=Gt,Ke=yr}if(tt===ie.length)return u($,Ke),Yt&&bo($,tt),Ye;if(Ke===null){for(;tt<ie.length;tt++)Ke=Te($,ie[tt],Ae),Ke!==null&&(J=w(Ke,J,tt),Tt===null?Ye=Ke:Tt.sibling=Ke,Tt=Ke);return Yt&&bo($,tt),Ye}for(Ke=g(Ke);tt<ie.length;tt++)yr=he(Ke,$,tt,ie[tt],Ae),yr!==null&&(n&&yr.alternate!==null&&Ke.delete(yr.key===null?tt:yr.key),J=w(yr,J,tt),Tt===null?Ye=yr:Tt.sibling=yr,Tt=yr);return n&&Ke.forEach(function(Xa){return s($,Xa)}),Yt&&bo($,tt),Ye}function et($,J,ie,Ae){if(ie==null)throw Error(a(151));for(var Ye=null,Tt=null,Ke=J,tt=J=0,yr=null,Gt=ie.next();Ke!==null&&!Gt.done;tt++,Gt=ie.next()){Ke.index>tt?(yr=Ke,Ke=null):yr=Ke.sibling;var Xa=le($,Ke,Gt.value,Ae);if(Xa===null){Ke===null&&(Ke=yr);break}n&&Ke&&Xa.alternate===null&&s($,Ke),J=w(Xa,J,tt),Tt===null?Ye=Xa:Tt.sibling=Xa,Tt=Xa,Ke=yr}if(Gt.done)return u($,Ke),Yt&&bo($,tt),Ye;if(Ke===null){for(;!Gt.done;tt++,Gt=ie.next())Gt=Te($,Gt.value,Ae),Gt!==null&&(J=w(Gt,J,tt),Tt===null?Ye=Gt:Tt.sibling=Gt,Tt=Gt);return Yt&&bo($,tt),Ye}for(Ke=g(Ke);!Gt.done;tt++,Gt=ie.next())Gt=he(Ke,$,tt,Gt.value,Ae),Gt!==null&&(n&&Gt.alternate!==null&&Ke.delete(Gt.key===null?tt:Gt.key),J=w(Gt,J,tt),Tt===null?Ye=Gt:Tt.sibling=Gt,Tt=Gt);return n&&Ke.forEach(function($w){return s($,$w)}),Yt&&bo($,tt),Ye}function ln($,J,ie,Ae){if(typeof ie=="object"&&ie!==null&&ie.type===ae&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case U:e:{for(var Ye=ie.key;J!==null;){if(J.key===Ye){if(Ye=ie.type,Ye===ae){if(J.tag===7){u($,J.sibling),Ae=_(J,ie.props.children),Ae.return=$,$=Ae;break e}}else if(J.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===z&&km(Ye)===J.type){u($,J.sibling),Ae=_(J,ie.props),bu(Ae,ie),Ae.return=$,$=Ae;break e}u($,J);break}else s($,J);J=J.sibling}ie.type===ae?(Ae=vo(ie.props.children,$.mode,Ae,ie.key),Ae.return=$,$=Ae):(Ae=Hc(ie.type,ie.key,ie.props,null,$.mode,Ae),bu(Ae,ie),Ae.return=$,$=Ae)}return N($);case W:e:{for(Ye=ie.key;J!==null;){if(J.key===Ye)if(J.tag===4&&J.stateNode.containerInfo===ie.containerInfo&&J.stateNode.implementation===ie.implementation){u($,J.sibling),Ae=_(J,ie.children||[]),Ae.return=$,$=Ae;break e}else{u($,J);break}else s($,J);J=J.sibling}Ae=od(ie,$.mode,Ae),Ae.return=$,$=Ae}return N($);case z:return Ye=ie._init,ie=Ye(ie._payload),ln($,J,ie,Ae)}if(fe(ie))return it($,J,ie,Ae);if(q(ie)){if(Ye=q(ie),typeof Ye!="function")throw Error(a(150));return ie=Ye.call(ie),et($,J,ie,Ae)}if(typeof ie.then=="function")return ln($,J,sh(ie),Ae);if(ie.$$typeof===pe)return ln($,J,Yc($,ie),Ae);ah($,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,J!==null&&J.tag===6?(u($,J.sibling),Ae=_(J,ie),Ae.return=$,$=Ae):(u($,J),Ae=ad(ie,$.mode,Ae),Ae.return=$,$=Ae),N($)):u($,J)}return function($,J,ie,Ae){try{Iu=0;var Ye=ln($,J,ie,Ae);return yl=null,Ye}catch(Ke){if(Ke===Eu||Ke===Wc)throw Ke;var Tt=Ai(29,Ke,null,$.mode);return Tt.lanes=Ae,Tt.return=$,Tt}finally{}}}var El=Vm(!0),Um=Vm(!1),Gi=Se(null),As=null;function Oa(n){var s=n.alternate;Ne(hr,hr.current&1),Ne(Gi,n),As===null&&(s===null||dl.current!==null||s.memoizedState!==null)&&(As=n)}function Fm(n){if(n.tag===22){if(Ne(hr,hr.current),Ne(Gi,n),As===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(As=n)}}else Ma()}function Ma(){Ne(hr,hr.current),Ne(Gi,Gi.current)}function Ks(n){Oe(Gi),As===n&&(As=null),Oe(hr)}var hr=Se(0);function oh(n){for(var s=n;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||R1(u)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Fd(n,s,u,g){s=n.memoizedState,u=u(g,s),u=u==null?s:I({},s,u),n.memoizedState=u,n.lanes===0&&(n.updateQueue.baseState=u)}var zd={enqueueSetState:function(n,s,u){n=n._reactInternals;var g=Ci(),_=Ra(g);_.payload=s,u!=null&&(_.callback=u),s=Na(n,_,g),s!==null&&(Si(s,n,g),Au(s,n,g))},enqueueReplaceState:function(n,s,u){n=n._reactInternals;var g=Ci(),_=Ra(g);_.tag=1,_.payload=s,u!=null&&(_.callback=u),s=Na(n,_,g),s!==null&&(Si(s,n,g),Au(s,n,g))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var u=Ci(),g=Ra(u);g.tag=2,s!=null&&(g.callback=s),s=Na(n,g,u),s!==null&&(Si(s,n,u),Au(s,n,u))}};function zm(n,s,u,g,_,w,N){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(g,w,N):s.prototype&&s.prototype.isPureReactComponent?!f(u,g)||!f(_,w):!0}function Hm(n,s,u,g){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,g),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,g),s.state!==n&&zd.enqueueReplaceState(s,s.state,null)}function Po(n,s){var u=s;if("ref"in s){u={};for(var g in s)g!=="ref"&&(u[g]=s[g])}if(n=n.defaultProps){u===s&&(u=I({},u));for(var _ in n)u[_]===void 0&&(u[_]=n[_])}return u}var lh=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function jm(n){lh(n)}function Gm(n){console.error(n)}function qm(n){lh(n)}function uh(n,s){try{var u=n.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(g){setTimeout(function(){throw g})}}function Ym(n,s,u){try{var g=n.onCaughtError;g(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function Hd(n,s,u){return u=Ra(u),u.tag=3,u.payload={element:null},u.callback=function(){uh(n,s)},u}function Xm(n){return n=Ra(n),n.tag=3,n}function Wm(n,s,u,g){var _=u.type.getDerivedStateFromError;if(typeof _=="function"){var w=g.value;n.payload=function(){return _(w)},n.callback=function(){Ym(s,u,g)}}var N=u.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(n.callback=function(){Ym(s,u,g),typeof _!="function"&&(Ua===null?Ua=new Set([this]):Ua.add(this));var P=g.stack;this.componentDidCatch(g.value,{componentStack:P!==null?P:""})})}function $x(n,s,u,g,_){if(u.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(s=u.alternate,s!==null&&mu(s,u,_,!0),u=Gi.current,u!==null){switch(u.tag){case 13:return As===null?f1():u.alternate===null&&jn===0&&(jn=3),u.flags&=-257,u.flags|=65536,u.lanes=_,g===yd?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([g]):s.add(g),g1(n,g,_)),!1;case 22:return u.flags|=65536,g===yd?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([g])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([g]):u.add(g)),g1(n,g,_)),!1}throw Error(a(435,u.tag))}return g1(n,g,_),f1(),!1}if(Yt)return s=Gi.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=_,g!==cd&&(n=Error(a(422),{cause:g}),gu(Fi(n,u)))):(g!==cd&&(s=Error(a(423),{cause:g}),gu(Fi(s,u))),n=n.current.alternate,n.flags|=65536,_&=-_,n.lanes|=_,g=Fi(g,u),_=Hd(n.stateNode,g,_),Ad(n,_),jn!==4&&(jn=2)),!1;var w=Error(a(520),{cause:g});if(w=Fi(w,u),Pu===null?Pu=[w]:Pu.push(w),jn!==4&&(jn=2),s===null)return!0;g=Fi(g,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,n=_&-_,u.lanes|=n,n=Hd(u.stateNode,g,n),Ad(u,n),!1;case 1:if(s=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ua===null||!Ua.has(w))))return u.flags|=65536,_&=-_,u.lanes|=_,_=Xm(_),Wm(_,n,u,g),Ad(u,_),!1}u=u.return}while(u!==null);return!1}var Qm=Error(a(461)),mr=!1;function Sr(n,s,u,g){s.child=n===null?Um(s,null,u,g):El(s,n.child,u,g)}function Km(n,s,u,g,_){u=u.render;var w=s.ref;if("ref"in g){var N={};for(var P in g)P!=="ref"&&(N[P]=g[P])}else N=g;return Oo(s),g=Sd(n,s,u,N,w,_),P=vd(),n!==null&&!mr?(Id(n,s,_),Zs(n,s,_)):(Yt&&P&&ld(s),s.flags|=1,Sr(n,s,g,_),s.child)}function Zm(n,s,u,g,_){if(n===null){var w=u.type;return typeof w=="function"&&!sd(w)&&w.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=w,Jm(n,s,w,g,_)):(n=Hc(u.type,null,g,s,s.mode,_),n.ref=s.ref,n.return=s,s.child=n)}if(w=n.child,!Kd(n,_)){var N=w.memoizedProps;if(u=u.compare,u=u!==null?u:f,u(N,g)&&n.ref===s.ref)return Zs(n,s,_)}return s.flags|=1,n=Gs(w,g),n.ref=s.ref,n.return=s,s.child=n}function Jm(n,s,u,g,_){if(n!==null){var w=n.memoizedProps;if(f(w,g)&&n.ref===s.ref)if(mr=!1,s.pendingProps=g=w,Kd(n,_))(n.flags&131072)!==0&&(mr=!0);else return s.lanes=n.lanes,Zs(n,s,_)}return jd(n,s,u,g,_)}function $m(n,s,u){var g=s.pendingProps,_=g.children,w=n!==null?n.memoizedState:null;if(g.mode==="hidden"){if((s.flags&128)!==0){if(g=w!==null?w.baseLanes|u:u,n!==null){for(_=s.child=n.child,w=0;_!==null;)w=w|_.lanes|_.childLanes,_=_.sibling;s.childLanes=w&~g}else s.childLanes=0,s.child=null;return ep(n,s,g,u)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Xc(s,w!==null?w.cachePool:null),w!==null?Jg(s,w):wd(),Fm(s);else return s.lanes=s.childLanes=536870912,ep(n,s,w!==null?w.baseLanes|u:u,u)}else w!==null?(Xc(s,w.cachePool),Jg(s,w),Ma(),s.memoizedState=null):(n!==null&&Xc(s,null),wd(),Ma());return Sr(n,s,_,u),s.child}function ep(n,s,u,g){var _=pd();return _=_===null?null:{parent:cr._currentValue,pool:_},s.memoizedState={baseLanes:u,cachePool:_},n!==null&&Xc(s,null),wd(),Fm(s),n!==null&&mu(n,s,g,!0),null}function ch(n,s){var u=s.ref;if(u===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(a(284));(n===null||n.ref!==u)&&(s.flags|=4194816)}}function jd(n,s,u,g,_){return Oo(s),u=Sd(n,s,u,g,void 0,_),g=vd(),n!==null&&!mr?(Id(n,s,_),Zs(n,s,_)):(Yt&&g&&ld(s),s.flags|=1,Sr(n,s,u,_),s.child)}function tp(n,s,u,g,_,w){return Oo(s),s.updateQueue=null,u=em(s,g,u,_),$g(n),g=vd(),n!==null&&!mr?(Id(n,s,w),Zs(n,s,w)):(Yt&&g&&ld(s),s.flags|=1,Sr(n,s,u,w),s.child)}function np(n,s,u,g,_){if(Oo(s),s.stateNode===null){var w=ll,N=u.contextType;typeof N=="object"&&N!==null&&(w=Fr(N)),w=new u(g,w),s.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=zd,s.stateNode=w,w._reactInternals=s,w=s.stateNode,w.props=g,w.state=s.memoizedState,w.refs={},Ed(s),N=u.contextType,w.context=typeof N=="object"&&N!==null?Fr(N):ll,w.state=s.memoizedState,N=u.getDerivedStateFromProps,typeof N=="function"&&(Fd(s,u,N,g),w.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(N=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),N!==w.state&&zd.enqueueReplaceState(w,w.state,null),wu(s,g,w,_),xu(),w.state=s.memoizedState),typeof w.componentDidMount=="function"&&(s.flags|=4194308),g=!0}else if(n===null){w=s.stateNode;var P=s.memoizedProps,G=Po(u,P);w.props=G;var se=w.context,Ee=u.contextType;N=ll,typeof Ee=="object"&&Ee!==null&&(N=Fr(Ee));var Te=u.getDerivedStateFromProps;Ee=typeof Te=="function"||typeof w.getSnapshotBeforeUpdate=="function",P=s.pendingProps!==P,Ee||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P||se!==N)&&Hm(s,w,g,N),ba=!1;var le=s.memoizedState;w.state=le,wu(s,g,w,_),xu(),se=s.memoizedState,P||le!==se||ba?(typeof Te=="function"&&(Fd(s,u,Te,g),se=s.memoizedState),(G=ba||zm(s,u,G,g,le,se,N))?(Ee||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=g,s.memoizedState=se),w.props=g,w.state=se,w.context=N,g=G):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),g=!1)}else{w=s.stateNode,_d(n,s),N=s.memoizedProps,Ee=Po(u,N),w.props=Ee,Te=s.pendingProps,le=w.context,se=u.contextType,G=ll,typeof se=="object"&&se!==null&&(G=Fr(se)),P=u.getDerivedStateFromProps,(se=typeof P=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==Te||le!==G)&&Hm(s,w,g,G),ba=!1,le=s.memoizedState,w.state=le,wu(s,g,w,_),xu();var he=s.memoizedState;N!==Te||le!==he||ba||n!==null&&n.dependencies!==null&&qc(n.dependencies)?(typeof P=="function"&&(Fd(s,u,P,g),he=s.memoizedState),(Ee=ba||zm(s,u,Ee,g,le,he,G)||n!==null&&n.dependencies!==null&&qc(n.dependencies))?(se||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(g,he,G),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(g,he,G)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||N===n.memoizedProps&&le===n.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===n.memoizedProps&&le===n.memoizedState||(s.flags|=1024),s.memoizedProps=g,s.memoizedState=he),w.props=g,w.state=he,w.context=G,g=Ee):(typeof w.componentDidUpdate!="function"||N===n.memoizedProps&&le===n.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===n.memoizedProps&&le===n.memoizedState||(s.flags|=1024),g=!1)}return w=g,ch(n,s),g=(s.flags&128)!==0,w||g?(w=s.stateNode,u=g&&typeof u.getDerivedStateFromError!="function"?null:w.render(),s.flags|=1,n!==null&&g?(s.child=El(s,n.child,null,_),s.child=El(s,null,u,_)):Sr(n,s,u,_),s.memoizedState=w.state,n=s.child):n=Zs(n,s,_),n}function rp(n,s,u,g){return du(),s.flags|=256,Sr(n,s,u,g),s.child}var Gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qd(n){return{baseLanes:n,cachePool:Gg()}}function Yd(n,s,u){return n=n!==null?n.childLanes&~u:0,s&&(n|=qi),n}function ip(n,s,u){var g=s.pendingProps,_=!1,w=(s.flags&128)!==0,N;if((N=w)||(N=n!==null&&n.memoizedState===null?!1:(hr.current&2)!==0),N&&(_=!0,s.flags&=-129),N=(s.flags&32)!==0,s.flags&=-33,n===null){if(Yt){if(_?Oa(s):Ma(),Yt){var P=Hn,G;if(G=P){e:{for(G=P,P=_s;G.nodeType!==8;){if(!P){P=null;break e}if(G=ns(G.nextSibling),G===null){P=null;break e}}P=G}P!==null?(s.memoizedState={dehydrated:P,treeContext:Io!==null?{id:qs,overflow:Ys}:null,retryLane:536870912,hydrationErrors:null},G=Ai(18,null,null,0),G.stateNode=P,G.return=s,s.child=G,Kr=s,Hn=null,G=!0):G=!1}G||No(s)}if(P=s.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return R1(P)?s.lanes=32:s.lanes=536870912,null;Ks(s)}return P=g.children,g=g.fallback,_?(Ma(),_=s.mode,P=hh({mode:"hidden",children:P},_),g=vo(g,_,u,null),P.return=s,g.return=s,P.sibling=g,s.child=P,_=s.child,_.memoizedState=qd(u),_.childLanes=Yd(n,N,u),s.memoizedState=Gd,g):(Oa(s),Xd(s,P))}if(G=n.memoizedState,G!==null&&(P=G.dehydrated,P!==null)){if(w)s.flags&256?(Oa(s),s.flags&=-257,s=Wd(n,s,u)):s.memoizedState!==null?(Ma(),s.child=n.child,s.flags|=128,s=null):(Ma(),_=g.fallback,P=s.mode,g=hh({mode:"visible",children:g.children},P),_=vo(_,P,u,null),_.flags|=2,g.return=s,_.return=s,g.sibling=_,s.child=g,El(s,n.child,null,u),g=s.child,g.memoizedState=qd(u),g.childLanes=Yd(n,N,u),s.memoizedState=Gd,s=_);else if(Oa(s),R1(P)){if(N=P.nextSibling&&P.nextSibling.dataset,N)var se=N.dgst;N=se,g=Error(a(419)),g.stack="",g.digest=N,gu({value:g,source:null,stack:null}),s=Wd(n,s,u)}else if(mr||mu(n,s,u,!1),N=(u&n.childLanes)!==0,mr||N){if(N=pn,N!==null&&(g=u&-u,g=(g&42)!==0?1:Di(g),g=(g&(N.suspendedLanes|u))!==0?0:g,g!==0&&g!==G.retryLane))throw G.retryLane=g,ol(n,g),Si(N,n,g),Qm;P.data==="$?"||f1(),s=Wd(n,s,u)}else P.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=G.treeContext,Hn=ns(P.nextSibling),Kr=s,Yt=!0,Ro=null,_s=!1,n!==null&&(Hi[ji++]=qs,Hi[ji++]=Ys,Hi[ji++]=Io,qs=n.id,Ys=n.overflow,Io=s),s=Xd(s,g.children),s.flags|=4096);return s}return _?(Ma(),_=g.fallback,P=s.mode,G=n.child,se=G.sibling,g=Gs(G,{mode:"hidden",children:g.children}),g.subtreeFlags=G.subtreeFlags&65011712,se!==null?_=Gs(se,_):(_=vo(_,P,u,null),_.flags|=2),_.return=s,g.return=s,g.sibling=_,s.child=g,g=_,_=s.child,P=n.child.memoizedState,P===null?P=qd(u):(G=P.cachePool,G!==null?(se=cr._currentValue,G=G.parent!==se?{parent:se,pool:se}:G):G=Gg(),P={baseLanes:P.baseLanes|u,cachePool:G}),_.memoizedState=P,_.childLanes=Yd(n,N,u),s.memoizedState=Gd,g):(Oa(s),u=n.child,n=u.sibling,u=Gs(u,{mode:"visible",children:g.children}),u.return=s,u.sibling=null,n!==null&&(N=s.deletions,N===null?(s.deletions=[n],s.flags|=16):N.push(n)),s.child=u,s.memoizedState=null,u)}function Xd(n,s){return s=hh({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function hh(n,s){return n=Ai(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Wd(n,s,u){return El(s,n.child,null,u),n=Xd(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function sp(n,s,u){n.lanes|=s;var g=n.alternate;g!==null&&(g.lanes|=s),fd(n.return,s,u)}function Qd(n,s,u,g,_){var w=n.memoizedState;w===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:g,tail:u,tailMode:_}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=g,w.tail=u,w.tailMode=_)}function ap(n,s,u){var g=s.pendingProps,_=g.revealOrder,w=g.tail;if(Sr(n,s,g.children,u),g=hr.current,(g&2)!==0)g=g&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&sp(n,u,s);else if(n.tag===19)sp(n,u,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}g&=1}switch(Ne(hr,g),_){case"forwards":for(u=s.child,_=null;u!==null;)n=u.alternate,n!==null&&oh(n)===null&&(_=u),u=u.sibling;u=_,u===null?(_=s.child,s.child=null):(_=u.sibling,u.sibling=null),Qd(s,!1,_,u,w);break;case"backwards":for(u=null,_=s.child,s.child=null;_!==null;){if(n=_.alternate,n!==null&&oh(n)===null){s.child=_;break}n=_.sibling,_.sibling=u,u=_,_=n}Qd(s,!0,u,null,w);break;case"together":Qd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Zs(n,s,u){if(n!==null&&(s.dependencies=n.dependencies),Va|=s.lanes,(u&s.childLanes)===0)if(n!==null){if(mu(n,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(a(153));if(s.child!==null){for(n=s.child,u=Gs(n,n.pendingProps),s.child=u,u.return=s;n.sibling!==null;)n=n.sibling,u=u.sibling=Gs(n,n.pendingProps),u.return=s;u.sibling=null}return s.child}function Kd(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&qc(n)))}function ew(n,s,u){switch(s.tag){case 3:at(s,s.stateNode.containerInfo),Ia(s,cr,n.memoizedState.cache),du();break;case 27:case 5:Zr(s);break;case 4:at(s,s.stateNode.containerInfo);break;case 10:Ia(s,s.type,s.memoizedProps.value);break;case 13:var g=s.memoizedState;if(g!==null)return g.dehydrated!==null?(Oa(s),s.flags|=128,null):(u&s.child.childLanes)!==0?ip(n,s,u):(Oa(s),n=Zs(n,s,u),n!==null?n.sibling:null);Oa(s);break;case 19:var _=(n.flags&128)!==0;if(g=(u&s.childLanes)!==0,g||(mu(n,s,u,!1),g=(u&s.childLanes)!==0),_){if(g)return ap(n,s,u);s.flags|=128}if(_=s.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Ne(hr,hr.current),g)break;return null;case 22:case 23:return s.lanes=0,$m(n,s,u);case 24:Ia(s,cr,n.memoizedState.cache)}return Zs(n,s,u)}function op(n,s,u){if(n!==null)if(n.memoizedProps!==s.pendingProps)mr=!0;else{if(!Kd(n,u)&&(s.flags&128)===0)return mr=!1,ew(n,s,u);mr=(n.flags&131072)!==0}else mr=!1,Yt&&(s.flags&1048576)!==0&&kg(s,Gc,s.index);switch(s.lanes=0,s.tag){case 16:e:{n=s.pendingProps;var g=s.elementType,_=g._init;if(g=_(g._payload),s.type=g,typeof g=="function")sd(g)?(n=Po(g,n),s.tag=1,s=np(null,s,g,n,u)):(s.tag=0,s=jd(null,s,g,n,u));else{if(g!=null){if(_=g.$$typeof,_===Be){s.tag=11,s=Km(null,s,g,n,u);break e}else if(_===H){s.tag=14,s=Zm(null,s,g,n,u);break e}}throw s=vt(g)||g,Error(a(306,s,""))}}return s;case 0:return jd(n,s,s.type,s.pendingProps,u);case 1:return g=s.type,_=Po(g,s.pendingProps),np(n,s,g,_,u);case 3:e:{if(at(s,s.stateNode.containerInfo),n===null)throw Error(a(387));g=s.pendingProps;var w=s.memoizedState;_=w.element,_d(n,s),wu(s,g,null,u);var N=s.memoizedState;if(g=N.cache,Ia(s,cr,g),g!==w.cache&&dd(s,[cr],u,!0),xu(),g=N.element,w.isDehydrated)if(w={element:g,isDehydrated:!1,cache:N.cache},s.updateQueue.baseState=w,s.memoizedState=w,s.flags&256){s=rp(n,s,g,u);break e}else if(g!==_){_=Fi(Error(a(424)),s),gu(_),s=rp(n,s,g,u);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Hn=ns(n.firstChild),Kr=s,Yt=!0,Ro=null,_s=!0,u=Um(s,null,g,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(du(),g===_){s=Zs(n,s,u);break e}Sr(n,s,g,u)}s=s.child}return s;case 26:return ch(n,s),n===null?(u=h2(s.type,null,s.pendingProps,null))?s.memoizedState=u:Yt||(u=s.type,n=s.pendingProps,g=Sh(Re.current).createElement(u),g[qn]=s,g[sn]=n,Ir(g,u,n),zt(g),s.stateNode=g):s.memoizedState=h2(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Zr(s),n===null&&Yt&&(g=s.stateNode=l2(s.type,s.pendingProps,Re.current),Kr=s,_s=!0,_=Hn,Ha(s.type)?(N1=_,Hn=ns(g.firstChild)):Hn=_),Sr(n,s,s.pendingProps.children,u),ch(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Yt&&((_=g=Hn)&&(g=bw(g,s.type,s.pendingProps,_s),g!==null?(s.stateNode=g,Kr=s,Hn=ns(g.firstChild),_s=!1,_=!0):_=!1),_||No(s)),Zr(s),_=s.type,w=s.pendingProps,N=n!==null?n.memoizedProps:null,g=w.children,v1(_,w)?g=null:N!==null&&v1(_,N)&&(s.flags|=32),s.memoizedState!==null&&(_=Sd(n,s,Yx,null,null,u),Gu._currentValue=_),ch(n,s),Sr(n,s,g,u),s.child;case 6:return n===null&&Yt&&((n=u=Hn)&&(u=Rw(u,s.pendingProps,_s),u!==null?(s.stateNode=u,Kr=s,Hn=null,n=!0):n=!1),n||No(s)),null;case 13:return ip(n,s,u);case 4:return at(s,s.stateNode.containerInfo),g=s.pendingProps,n===null?s.child=El(s,null,g,u):Sr(n,s,g,u),s.child;case 11:return Km(n,s,s.type,s.pendingProps,u);case 7:return Sr(n,s,s.pendingProps,u),s.child;case 8:return Sr(n,s,s.pendingProps.children,u),s.child;case 12:return Sr(n,s,s.pendingProps.children,u),s.child;case 10:return g=s.pendingProps,Ia(s,s.type,g.value),Sr(n,s,g.children,u),s.child;case 9:return _=s.type._context,g=s.pendingProps.children,Oo(s),_=Fr(_),g=g(_),s.flags|=1,Sr(n,s,g,u),s.child;case 14:return Zm(n,s,s.type,s.pendingProps,u);case 15:return Jm(n,s,s.type,s.pendingProps,u);case 19:return ap(n,s,u);case 31:return g=s.pendingProps,u=s.mode,g={mode:g.mode,children:g.children},n===null?(u=hh(g,u),u.ref=s.ref,s.child=u,u.return=s,s=u):(u=Gs(n.child,g),u.ref=s.ref,s.child=u,u.return=s,s=u),s;case 22:return $m(n,s,u);case 24:return Oo(s),g=Fr(cr),n===null?(_=pd(),_===null&&(_=pn,w=gd(),_.pooledCache=w,w.refCount++,w!==null&&(_.pooledCacheLanes|=u),_=w),s.memoizedState={parent:g,cache:_},Ed(s),Ia(s,cr,_)):((n.lanes&u)!==0&&(_d(n,s),wu(s,null,null,u),xu()),_=n.memoizedState,w=s.memoizedState,_.parent!==g?(_={parent:g,cache:g},s.memoizedState=_,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=_),Ia(s,cr,g)):(g=w.cache,Ia(s,cr,g),g!==_.cache&&dd(s,[cr],u,!0))),Sr(n,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function Js(n){n.flags|=4}function lp(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!p2(s)){if(s=Gi.current,s!==null&&((Bt&4194048)===Bt?As!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||s!==As))throw _u=yd,qg;n.flags|=8192}}function fh(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?ya():536870912,n.lanes|=s,wl|=s)}function Ru(n,s){if(!Yt)switch(n.tailMode){case"hidden":s=n.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?n.tail=null:u.sibling=null;break;case"collapsed":u=n.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:g.sibling=null}}function Pn(n){var s=n.alternate!==null&&n.alternate.child===n.child,u=0,g=0;if(s)for(var _=n.child;_!==null;)u|=_.lanes|_.childLanes,g|=_.subtreeFlags&65011712,g|=_.flags&65011712,_.return=n,_=_.sibling;else for(_=n.child;_!==null;)u|=_.lanes|_.childLanes,g|=_.subtreeFlags,g|=_.flags,_.return=n,_=_.sibling;return n.subtreeFlags|=g,n.childLanes=u,s}function tw(n,s,u){var g=s.pendingProps;switch(ud(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pn(s),null;case 1:return Pn(s),null;case 3:return u=s.stateNode,g=null,n!==null&&(g=n.memoizedState.cache),s.memoizedState.cache!==g&&(s.flags|=2048),Ws(cr),Dr(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(n===null||n.child===null)&&(fu(s)?Js(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Fg())),Pn(s),null;case 26:return u=s.memoizedState,n===null?(Js(s),u!==null?(Pn(s),lp(s,u)):(Pn(s),s.flags&=-16777217)):u?u!==n.memoizedState?(Js(s),Pn(s),lp(s,u)):(Pn(s),s.flags&=-16777217):(n.memoizedProps!==g&&Js(s),Pn(s),s.flags&=-16777217),null;case 27:Sn(s),u=Re.current;var _=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==g&&Js(s);else{if(!g){if(s.stateNode===null)throw Error(a(166));return Pn(s),null}n=Ve.current,fu(s)?Vg(s):(n=l2(_,g,u),s.stateNode=n,Js(s))}return Pn(s),null;case 5:if(Sn(s),u=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==g&&Js(s);else{if(!g){if(s.stateNode===null)throw Error(a(166));return Pn(s),null}if(n=Ve.current,fu(s))Vg(s);else{switch(_=Sh(Re.current),n){case 1:n=_.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:n=_.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":n=_.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":n=_.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof g.is=="string"?_.createElement("select",{is:g.is}):_.createElement("select"),g.multiple?n.multiple=!0:g.size&&(n.size=g.size);break;default:n=typeof g.is=="string"?_.createElement(u,{is:g.is}):_.createElement(u)}}n[qn]=s,n[sn]=g;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)n.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=n;e:switch(Ir(n,u,g),u){case"button":case"input":case"select":case"textarea":n=!!g.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Js(s)}}return Pn(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==g&&Js(s);else{if(typeof g!="string"&&s.stateNode===null)throw Error(a(166));if(n=Re.current,fu(s)){if(n=s.stateNode,u=s.memoizedProps,g=null,_=Kr,_!==null)switch(_.tag){case 27:case 5:g=_.memoizedProps}n[qn]=s,n=!!(n.nodeValue===u||g!==null&&g.suppressHydrationWarning===!0||t2(n.nodeValue,u)),n||No(s)}else n=Sh(n).createTextNode(g),n[qn]=s,s.stateNode=n}return Pn(s),null;case 13:if(g=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(_=fu(s),g!==null&&g.dehydrated!==null){if(n===null){if(!_)throw Error(a(318));if(_=s.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(a(317));_[qn]=s}else du(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Pn(s),_=!1}else _=Fg(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=_),_=!0;if(!_)return s.flags&256?(Ks(s),s):(Ks(s),null)}if(Ks(s),(s.flags&128)!==0)return s.lanes=u,s;if(u=g!==null,n=n!==null&&n.memoizedState!==null,u){g=s.child,_=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(_=g.alternate.memoizedState.cachePool.pool);var w=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(w=g.memoizedState.cachePool.pool),w!==_&&(g.flags|=2048)}return u!==n&&u&&(s.child.flags|=8192),fh(s,s.updateQueue),Pn(s),null;case 4:return Dr(),n===null&&x1(s.stateNode.containerInfo),Pn(s),null;case 10:return Ws(s.type),Pn(s),null;case 19:if(Oe(hr),_=s.memoizedState,_===null)return Pn(s),null;if(g=(s.flags&128)!==0,w=_.rendering,w===null)if(g)Ru(_,!1);else{if(jn!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(w=oh(n),w!==null){for(s.flags|=128,Ru(_,!1),n=w.updateQueue,s.updateQueue=n,fh(s,n),s.subtreeFlags=0,n=u,u=s.child;u!==null;)Bg(u,n),u=u.sibling;return Ne(hr,hr.current&1|2),s.child}n=n.sibling}_.tail!==null&&Xt()>mh&&(s.flags|=128,g=!0,Ru(_,!1),s.lanes=4194304)}else{if(!g)if(n=oh(w),n!==null){if(s.flags|=128,g=!0,n=n.updateQueue,s.updateQueue=n,fh(s,n),Ru(_,!0),_.tail===null&&_.tailMode==="hidden"&&!w.alternate&&!Yt)return Pn(s),null}else 2*Xt()-_.renderingStartTime>mh&&u!==536870912&&(s.flags|=128,g=!0,Ru(_,!1),s.lanes=4194304);_.isBackwards?(w.sibling=s.child,s.child=w):(n=_.last,n!==null?n.sibling=w:s.child=w,_.last=w)}return _.tail!==null?(s=_.tail,_.rendering=s,_.tail=s.sibling,_.renderingStartTime=Xt(),s.sibling=null,n=hr.current,Ne(hr,g?n&1|2:n&1),s):(Pn(s),null);case 22:case 23:return Ks(s),Td(),g=s.memoizedState!==null,n!==null?n.memoizedState!==null!==g&&(s.flags|=8192):g&&(s.flags|=8192),g?(u&536870912)!==0&&(s.flags&128)===0&&(Pn(s),s.subtreeFlags&6&&(s.flags|=8192)):Pn(s),u=s.updateQueue,u!==null&&fh(s,u.retryQueue),u=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),g=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(g=s.memoizedState.cachePool.pool),g!==u&&(s.flags|=2048),n!==null&&Oe(Mo),null;case 24:return u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ws(cr),Pn(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function nw(n,s){switch(ud(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Ws(cr),Dr(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Sn(s),null;case 13:if(Ks(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(a(340));du()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Oe(hr),null;case 4:return Dr(),null;case 10:return Ws(s.type),null;case 22:case 23:return Ks(s),Td(),n!==null&&Oe(Mo),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Ws(cr),null;case 25:return null;default:return null}}function up(n,s){switch(ud(s),s.tag){case 3:Ws(cr),Dr();break;case 26:case 27:case 5:Sn(s);break;case 4:Dr();break;case 13:Ks(s);break;case 19:Oe(hr);break;case 10:Ws(s.type);break;case 22:case 23:Ks(s),Td(),n!==null&&Oe(Mo);break;case 24:Ws(cr)}}function Nu(n,s){try{var u=s.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var _=g.next;u=_;do{if((u.tag&n)===n){g=void 0;var w=u.create,N=u.inst;g=w(),N.destroy=g}u=u.next}while(u!==_)}}catch(P){gn(s,s.return,P)}}function La(n,s,u){try{var g=s.updateQueue,_=g!==null?g.lastEffect:null;if(_!==null){var w=_.next;g=w;do{if((g.tag&n)===n){var N=g.inst,P=N.destroy;if(P!==void 0){N.destroy=void 0,_=s;var G=u,se=P;try{se()}catch(Ee){gn(_,G,Ee)}}}g=g.next}while(g!==w)}}catch(Ee){gn(s,s.return,Ee)}}function cp(n){var s=n.updateQueue;if(s!==null){var u=n.stateNode;try{Zg(s,u)}catch(g){gn(n,n.return,g)}}}function hp(n,s,u){u.props=Po(n.type,n.memoizedProps),u.state=n.memoizedState;try{u.componentWillUnmount()}catch(g){gn(n,s,g)}}function Du(n,s){try{var u=n.ref;if(u!==null){switch(n.tag){case 26:case 27:case 5:var g=n.stateNode;break;case 30:g=n.stateNode;break;default:g=n.stateNode}typeof u=="function"?n.refCleanup=u(g):u.current=g}}catch(_){gn(n,s,_)}}function xs(n,s){var u=n.ref,g=n.refCleanup;if(u!==null)if(typeof g=="function")try{g()}catch(_){gn(n,s,_)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(_){gn(n,s,_)}else u.current=null}function fp(n){var s=n.type,u=n.memoizedProps,g=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&g.focus();break e;case"img":u.src?g.src=u.src:u.srcSet&&(g.srcset=u.srcSet)}}catch(_){gn(n,n.return,_)}}function Zd(n,s,u){try{var g=n.stateNode;Tw(g,n.type,u,s),g[sn]=s}catch(_){gn(n,n.return,_)}}function dp(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ha(n.type)||n.tag===4}function Jd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||dp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ha(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function $d(n,s,u){var g=n.tag;if(g===5||g===6)n=n.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(n,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(n),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Ch));else if(g!==4&&(g===27&&Ha(n.type)&&(u=n.stateNode,s=null),n=n.child,n!==null))for($d(n,s,u),n=n.sibling;n!==null;)$d(n,s,u),n=n.sibling}function dh(n,s,u){var g=n.tag;if(g===5||g===6)n=n.stateNode,s?u.insertBefore(n,s):u.appendChild(n);else if(g!==4&&(g===27&&Ha(n.type)&&(u=n.stateNode),n=n.child,n!==null))for(dh(n,s,u),n=n.sibling;n!==null;)dh(n,s,u),n=n.sibling}function gp(n){var s=n.stateNode,u=n.memoizedProps;try{for(var g=n.type,_=s.attributes;_.length;)s.removeAttributeNode(_[0]);Ir(s,g,u),s[qn]=n,s[sn]=u}catch(w){gn(n,n.return,w)}}var $s=!1,Kn=!1,e1=!1,mp=typeof WeakSet=="function"?WeakSet:Set,pr=null;function rw(n,s){if(n=n.containerInfo,C1=Dh,n=C(n),b(n)){if("selectionStart"in n)var u={start:n.selectionStart,end:n.selectionEnd};else e:{u=(u=n.ownerDocument)&&u.defaultView||window;var g=u.getSelection&&u.getSelection();if(g&&g.rangeCount!==0){u=g.anchorNode;var _=g.anchorOffset,w=g.focusNode;g=g.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var N=0,P=-1,G=-1,se=0,Ee=0,Te=n,le=null;t:for(;;){for(var he;Te!==u||_!==0&&Te.nodeType!==3||(P=N+_),Te!==w||g!==0&&Te.nodeType!==3||(G=N+g),Te.nodeType===3&&(N+=Te.nodeValue.length),(he=Te.firstChild)!==null;)le=Te,Te=he;for(;;){if(Te===n)break t;if(le===u&&++se===_&&(P=N),le===w&&++Ee===g&&(G=N),(he=Te.nextSibling)!==null)break;Te=le,le=Te.parentNode}Te=he}u=P===-1||G===-1?null:{start:P,end:G}}else u=null}u=u||{start:0,end:0}}else u=null;for(S1={focusedElem:n,selectionRange:u},Dh=!1,pr=s;pr!==null;)if(s=pr,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,pr=n;else for(;pr!==null;){switch(s=pr,w=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&w!==null){n=void 0,u=s,_=w.memoizedProps,w=w.memoizedState,g=u.stateNode;try{var it=Po(u.type,_,u.elementType===u.type);n=g.getSnapshotBeforeUpdate(it,w),g.__reactInternalSnapshotBeforeUpdate=n}catch(et){gn(u,u.return,et)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,u=n.nodeType,u===9)b1(n);else if(u===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":b1(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=s.sibling,n!==null){n.return=s.return,pr=n;break}pr=s.return}}function pp(n,s,u){var g=u.flags;switch(u.tag){case 0:case 11:case 15:Pa(n,u),g&4&&Nu(5,u);break;case 1:if(Pa(n,u),g&4)if(n=u.stateNode,s===null)try{n.componentDidMount()}catch(N){gn(u,u.return,N)}else{var _=Po(u.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(_,s,n.__reactInternalSnapshotBeforeUpdate)}catch(N){gn(u,u.return,N)}}g&64&&cp(u),g&512&&Du(u,u.return);break;case 3:if(Pa(n,u),g&64&&(n=u.updateQueue,n!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{Zg(n,s)}catch(N){gn(u,u.return,N)}}break;case 27:s===null&&g&4&&gp(u);case 26:case 5:Pa(n,u),s===null&&g&4&&fp(u),g&512&&Du(u,u.return);break;case 12:Pa(n,u);break;case 13:Pa(n,u),g&4&&_p(n,u),g&64&&(n=u.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(u=fw.bind(null,u),Nw(n,u))));break;case 22:if(g=u.memoizedState!==null||$s,!g){s=s!==null&&s.memoizedState!==null||Kn,_=$s;var w=Kn;$s=g,(Kn=s)&&!w?Ba(n,u,(u.subtreeFlags&8772)!==0):Pa(n,u),$s=_,Kn=w}break;case 30:break;default:Pa(n,u)}}function yp(n){var s=n.alternate;s!==null&&(n.alternate=null,yp(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Oi(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var On=null,li=!1;function ea(n,s,u){for(u=u.child;u!==null;)Ep(n,s,u),u=u.sibling}function Ep(n,s,u){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Lt,u)}catch{}switch(u.tag){case 26:Kn||xs(u,s),ea(n,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Kn||xs(u,s);var g=On,_=li;Ha(u.type)&&(On=u.stateNode,li=!1),ea(n,s,u),Fu(u.stateNode),On=g,li=_;break;case 5:Kn||xs(u,s);case 6:if(g=On,_=li,On=null,ea(n,s,u),On=g,li=_,On!==null)if(li)try{(On.nodeType===9?On.body:On.nodeName==="HTML"?On.ownerDocument.body:On).removeChild(u.stateNode)}catch(w){gn(u,s,w)}else try{On.removeChild(u.stateNode)}catch(w){gn(u,s,w)}break;case 18:On!==null&&(li?(n=On,a2(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,u.stateNode),Wu(n)):a2(On,u.stateNode));break;case 4:g=On,_=li,On=u.stateNode.containerInfo,li=!0,ea(n,s,u),On=g,li=_;break;case 0:case 11:case 14:case 15:Kn||La(2,u,s),Kn||La(4,u,s),ea(n,s,u);break;case 1:Kn||(xs(u,s),g=u.stateNode,typeof g.componentWillUnmount=="function"&&hp(u,s,g)),ea(n,s,u);break;case 21:ea(n,s,u);break;case 22:Kn=(g=Kn)||u.memoizedState!==null,ea(n,s,u),Kn=g;break;default:ea(n,s,u)}}function _p(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Wu(n)}catch(u){gn(s,s.return,u)}}function iw(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new mp),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new mp),s;default:throw Error(a(435,n.tag))}}function t1(n,s){var u=iw(n);s.forEach(function(g){var _=dw.bind(null,n,g);u.has(g)||(u.add(g),g.then(_,_))})}function xi(n,s){var u=s.deletions;if(u!==null)for(var g=0;g<u.length;g++){var _=u[g],w=n,N=s,P=N;e:for(;P!==null;){switch(P.tag){case 27:if(Ha(P.type)){On=P.stateNode,li=!1;break e}break;case 5:On=P.stateNode,li=!1;break e;case 3:case 4:On=P.stateNode.containerInfo,li=!0;break e}P=P.return}if(On===null)throw Error(a(160));Ep(w,N,_),On=null,li=!1,w=_.alternate,w!==null&&(w.return=null),_.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Ap(s,n),s=s.sibling}var ts=null;function Ap(n,s){var u=n.alternate,g=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:xi(s,n),wi(n),g&4&&(La(3,n,n.return),Nu(3,n),La(5,n,n.return));break;case 1:xi(s,n),wi(n),g&512&&(Kn||u===null||xs(u,u.return)),g&64&&$s&&(n=n.updateQueue,n!==null&&(g=n.callbacks,g!==null&&(u=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=u===null?g:u.concat(g))));break;case 26:var _=ts;if(xi(s,n),wi(n),g&512&&(Kn||u===null||xs(u,u.return)),g&4){var w=u!==null?u.memoizedState:null;if(g=n.memoizedState,u===null)if(g===null)if(n.stateNode===null){e:{g=n.type,u=n.memoizedProps,_=_.ownerDocument||_;t:switch(g){case"title":w=_.getElementsByTagName("title")[0],(!w||w[$r]||w[qn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=_.createElement(g),_.head.insertBefore(w,_.querySelector("head > title"))),Ir(w,g,u),w[qn]=n,zt(w),g=w;break e;case"link":var N=g2("link","href",_).get(g+(u.href||""));if(N){for(var P=0;P<N.length;P++)if(w=N[P],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){N.splice(P,1);break t}}w=_.createElement(g),Ir(w,g,u),_.head.appendChild(w);break;case"meta":if(N=g2("meta","content",_).get(g+(u.content||""))){for(P=0;P<N.length;P++)if(w=N[P],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){N.splice(P,1);break t}}w=_.createElement(g),Ir(w,g,u),_.head.appendChild(w);break;default:throw Error(a(468,g))}w[qn]=n,zt(w),g=w}n.stateNode=g}else m2(_,n.type,n.stateNode);else n.stateNode=d2(_,g,n.memoizedProps);else w!==g?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,g===null?m2(_,n.type,n.stateNode):d2(_,g,n.memoizedProps)):g===null&&n.stateNode!==null&&Zd(n,n.memoizedProps,u.memoizedProps)}break;case 27:xi(s,n),wi(n),g&512&&(Kn||u===null||xs(u,u.return)),u!==null&&g&4&&Zd(n,n.memoizedProps,u.memoizedProps);break;case 5:if(xi(s,n),wi(n),g&512&&(Kn||u===null||xs(u,u.return)),n.flags&32){_=n.stateNode;try{An(_,"")}catch(he){gn(n,n.return,he)}}g&4&&n.stateNode!=null&&(_=n.memoizedProps,Zd(n,_,u!==null?u.memoizedProps:_)),g&1024&&(e1=!0);break;case 6:if(xi(s,n),wi(n),g&4){if(n.stateNode===null)throw Error(a(162));g=n.memoizedProps,u=n.stateNode;try{u.nodeValue=g}catch(he){gn(n,n.return,he)}}break;case 3:if(bh=null,_=ts,ts=vh(s.containerInfo),xi(s,n),ts=_,wi(n),g&4&&u!==null&&u.memoizedState.isDehydrated)try{Wu(s.containerInfo)}catch(he){gn(n,n.return,he)}e1&&(e1=!1,xp(n));break;case 4:g=ts,ts=vh(n.stateNode.containerInfo),xi(s,n),wi(n),ts=g;break;case 12:xi(s,n),wi(n);break;case 13:xi(s,n),wi(n),n.child.flags&8192&&n.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(o1=Xt()),g&4&&(g=n.updateQueue,g!==null&&(n.updateQueue=null,t1(n,g)));break;case 22:_=n.memoizedState!==null;var G=u!==null&&u.memoizedState!==null,se=$s,Ee=Kn;if($s=se||_,Kn=Ee||G,xi(s,n),Kn=Ee,$s=se,wi(n),g&8192)e:for(s=n.stateNode,s._visibility=_?s._visibility&-2:s._visibility|1,_&&(u===null||G||$s||Kn||Bo(n)),u=null,s=n;;){if(s.tag===5||s.tag===26){if(u===null){G=u=s;try{if(w=G.stateNode,_)N=w.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{P=G.stateNode;var Te=G.memoizedProps.style,le=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;P.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(he){gn(G,G.return,he)}}}else if(s.tag===6){if(u===null){G=s;try{G.stateNode.nodeValue=_?"":G.memoizedProps}catch(he){gn(G,G.return,he)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}g&4&&(g=n.updateQueue,g!==null&&(u=g.retryQueue,u!==null&&(g.retryQueue=null,t1(n,u))));break;case 19:xi(s,n),wi(n),g&4&&(g=n.updateQueue,g!==null&&(n.updateQueue=null,t1(n,g)));break;case 30:break;case 21:break;default:xi(s,n),wi(n)}}function wi(n){var s=n.flags;if(s&2){try{for(var u,g=n.return;g!==null;){if(dp(g)){u=g;break}g=g.return}if(u==null)throw Error(a(160));switch(u.tag){case 27:var _=u.stateNode,w=Jd(n);dh(n,w,_);break;case 5:var N=u.stateNode;u.flags&32&&(An(N,""),u.flags&=-33);var P=Jd(n);dh(n,P,N);break;case 3:case 4:var G=u.stateNode.containerInfo,se=Jd(n);$d(n,se,G);break;default:throw Error(a(161))}}catch(Ee){gn(n,n.return,Ee)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function xp(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;xp(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Pa(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)pp(n,s.alternate,s),s=s.sibling}function Bo(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:La(4,s,s.return),Bo(s);break;case 1:xs(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&hp(s,s.return,u),Bo(s);break;case 27:Fu(s.stateNode);case 26:case 5:xs(s,s.return),Bo(s);break;case 22:s.memoizedState===null&&Bo(s);break;case 30:Bo(s);break;default:Bo(s)}n=n.sibling}}function Ba(n,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var g=s.alternate,_=n,w=s,N=w.flags;switch(w.tag){case 0:case 11:case 15:Ba(_,w,u),Nu(4,w);break;case 1:if(Ba(_,w,u),g=w,_=g.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(se){gn(g,g.return,se)}if(g=w,_=g.updateQueue,_!==null){var P=g.stateNode;try{var G=_.shared.hiddenCallbacks;if(G!==null)for(_.shared.hiddenCallbacks=null,_=0;_<G.length;_++)Kg(G[_],P)}catch(se){gn(g,g.return,se)}}u&&N&64&&cp(w),Du(w,w.return);break;case 27:gp(w);case 26:case 5:Ba(_,w,u),u&&g===null&&N&4&&fp(w),Du(w,w.return);break;case 12:Ba(_,w,u);break;case 13:Ba(_,w,u),u&&N&4&&_p(_,w);break;case 22:w.memoizedState===null&&Ba(_,w,u),Du(w,w.return);break;case 30:break;default:Ba(_,w,u)}s=s.sibling}}function n1(n,s){var u=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==u&&(n!=null&&n.refCount++,u!=null&&pu(u))}function r1(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&pu(n))}function ws(n,s,u,g){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)wp(n,s,u,g),s=s.sibling}function wp(n,s,u,g){var _=s.flags;switch(s.tag){case 0:case 11:case 15:ws(n,s,u,g),_&2048&&Nu(9,s);break;case 1:ws(n,s,u,g);break;case 3:ws(n,s,u,g),_&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&pu(n)));break;case 12:if(_&2048){ws(n,s,u,g),n=s.stateNode;try{var w=s.memoizedProps,N=w.id,P=w.onPostCommit;typeof P=="function"&&P(N,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(G){gn(s,s.return,G)}}else ws(n,s,u,g);break;case 13:ws(n,s,u,g);break;case 23:break;case 22:w=s.stateNode,N=s.alternate,s.memoizedState!==null?w._visibility&2?ws(n,s,u,g):Ou(n,s):w._visibility&2?ws(n,s,u,g):(w._visibility|=2,_l(n,s,u,g,(s.subtreeFlags&10256)!==0)),_&2048&&n1(N,s);break;case 24:ws(n,s,u,g),_&2048&&r1(s.alternate,s);break;default:ws(n,s,u,g)}}function _l(n,s,u,g,_){for(_=_&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var w=n,N=s,P=u,G=g,se=N.flags;switch(N.tag){case 0:case 11:case 15:_l(w,N,P,G,_),Nu(8,N);break;case 23:break;case 22:var Ee=N.stateNode;N.memoizedState!==null?Ee._visibility&2?_l(w,N,P,G,_):Ou(w,N):(Ee._visibility|=2,_l(w,N,P,G,_)),_&&se&2048&&n1(N.alternate,N);break;case 24:_l(w,N,P,G,_),_&&se&2048&&r1(N.alternate,N);break;default:_l(w,N,P,G,_)}s=s.sibling}}function Ou(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=n,g=s,_=g.flags;switch(g.tag){case 22:Ou(u,g),_&2048&&n1(g.alternate,g);break;case 24:Ou(u,g),_&2048&&r1(g.alternate,g);break;default:Ou(u,g)}s=s.sibling}}var Mu=8192;function Al(n){if(n.subtreeFlags&Mu)for(n=n.child;n!==null;)Tp(n),n=n.sibling}function Tp(n){switch(n.tag){case 26:Al(n),n.flags&Mu&&n.memoizedState!==null&&jw(ts,n.memoizedState,n.memoizedProps);break;case 5:Al(n);break;case 3:case 4:var s=ts;ts=vh(n.stateNode.containerInfo),Al(n),ts=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=Mu,Mu=16777216,Al(n),Mu=s):Al(n));break;default:Al(n)}}function Cp(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Lu(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var g=s[u];pr=g,vp(g,n)}Cp(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sp(n),n=n.sibling}function Sp(n){switch(n.tag){case 0:case 11:case 15:Lu(n),n.flags&2048&&La(9,n,n.return);break;case 3:Lu(n);break;case 12:Lu(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,gh(n)):Lu(n);break;default:Lu(n)}}function gh(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var g=s[u];pr=g,vp(g,n)}Cp(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:La(8,s,s.return),gh(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,gh(s));break;default:gh(s)}n=n.sibling}}function vp(n,s){for(;pr!==null;){var u=pr;switch(u.tag){case 0:case 11:case 15:La(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var g=u.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:pu(u.memoizedState.cache)}if(g=u.child,g!==null)g.return=u,pr=g;else e:for(u=n;pr!==null;){g=pr;var _=g.sibling,w=g.return;if(yp(g),g===u){pr=null;break e}if(_!==null){_.return=w,pr=_;break e}pr=w}}}var sw={getCacheForType:function(n){var s=Fr(cr),u=s.data.get(n);return u===void 0&&(u=n(),s.data.set(n,u)),u}},aw=typeof WeakMap=="function"?WeakMap:Map,en=0,pn=null,Ct=null,Bt=0,tn=0,Ti=null,ka=!1,xl=!1,i1=!1,ta=0,jn=0,Va=0,ko=0,s1=0,qi=0,wl=0,Pu=null,ui=null,a1=!1,o1=0,mh=1/0,ph=null,Ua=null,vr=0,Fa=null,Tl=null,Cl=0,l1=0,u1=null,Ip=null,Bu=0,c1=null;function Ci(){if((en&2)!==0&&Bt!==0)return Bt&-Bt;if(ge.T!==null){var n=hl;return n!==0?n:y1()}return Xr()}function bp(){qi===0&&(qi=(Bt&536870912)===0||Yt?Bs():536870912);var n=Gi.current;return n!==null&&(n.flags|=32),qi}function Si(n,s,u){(n===pn&&(tn===2||tn===9)||n.cancelPendingCommit!==null)&&(Sl(n,0),za(n,Bt,qi,!1)),_r(n,u),((en&2)===0||n!==pn)&&(n===pn&&((en&2)===0&&(ko|=u),jn===4&&za(n,Bt,qi,!1)),Ts(n))}function Rp(n,s,u){if((en&6)!==0)throw Error(a(327));var g=!u&&(s&124)===0&&(s&n.expiredLanes)===0||Qt(n,s),_=g?uw(n,s):d1(n,s,!0),w=g;do{if(_===0){xl&&!g&&za(n,s,0,!1);break}else{if(u=n.current.alternate,w&&!ow(u)){_=d1(n,s,!1),w=!1;continue}if(_===2){if(w=s,n.errorRecoveryDisabledLanes&w)var N=0;else N=n.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){s=N;e:{var P=n;_=Pu;var G=P.current.memoizedState.isDehydrated;if(G&&(Sl(P,N).flags|=256),N=d1(P,N,!1),N!==2){if(i1&&!G){P.errorRecoveryDisabledLanes|=w,ko|=w,_=4;break e}w=ui,ui=_,w!==null&&(ui===null?ui=w:ui.push.apply(ui,w))}_=N}if(w=!1,_!==2)continue}}if(_===1){Sl(n,0),za(n,s,0,!0);break}e:{switch(g=n,w=_,w){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:za(g,s,qi,!ka);break e;case 2:ui=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(_=o1+300-Xt(),10<_)){if(za(g,s,qi,!ka),Pt(g,0,!0)!==0)break e;g.timeoutHandle=i2(Np.bind(null,g,u,ui,ph,a1,s,qi,ko,wl,ka,w,2,-0,0),_);break e}Np(g,u,ui,ph,a1,s,qi,ko,wl,ka,w,0,-0,0)}}break}while(!0);Ts(n)}function Np(n,s,u,g,_,w,N,P,G,se,Ee,Te,le,he){if(n.timeoutHandle=-1,Te=s.subtreeFlags,(Te&8192||(Te&16785408)===16785408)&&(ju={stylesheets:null,count:0,unsuspend:Hw},Tp(s),Te=Gw(),Te!==null)){n.cancelPendingCommit=Te(kp.bind(null,n,s,w,u,g,_,N,P,G,Ee,1,le,he)),za(n,w,N,!se);return}kp(n,s,w,u,g,_,N,P,G)}function ow(n){for(var s=n;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var g=0;g<u.length;g++){var _=u[g],w=_.getSnapshot;_=_.value;try{if(!h(w(),_))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function za(n,s,u,g){s&=~s1,s&=~ko,n.suspendedLanes|=s,n.pingedLanes&=~s,g&&(n.warmLanes|=s),g=n.expirationTimes;for(var _=s;0<_;){var w=31-Ft(_),N=1<<w;g[w]=-1,_&=~N}u!==0&&hi(n,u,s)}function yh(){return(en&6)===0?(ku(0),!1):!0}function h1(){if(Ct!==null){if(tn===0)var n=Ct.return;else n=Ct,Xs=Do=null,bd(n),yl=null,Iu=0,n=Ct;for(;n!==null;)up(n.alternate,n),n=n.return;Ct=null}}function Sl(n,s){var u=n.timeoutHandle;u!==-1&&(n.timeoutHandle=-1,Sw(u)),u=n.cancelPendingCommit,u!==null&&(n.cancelPendingCommit=null,u()),h1(),pn=n,Ct=u=Gs(n.current,null),Bt=s,tn=0,Ti=null,ka=!1,xl=Qt(n,s),i1=!1,wl=qi=s1=ko=Va=jn=0,ui=Pu=null,a1=!1,(s&8)!==0&&(s|=s&32);var g=n.entangledLanes;if(g!==0)for(n=n.entanglements,g&=s;0<g;){var _=31-Ft(g),w=1<<_;s|=n[_],g&=~w}return ta=s,Uc(),u}function Dp(n,s){xt=null,ge.H=ih,s===Eu||s===Wc?(s=Wg(),tn=3):s===qg?(s=Wg(),tn=4):tn=s===Qm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ti=s,Ct===null&&(jn=1,uh(n,Fi(s,n.current)))}function Op(){var n=ge.H;return ge.H=ih,n===null?ih:n}function Mp(){var n=ge.A;return ge.A=sw,n}function f1(){jn=4,ka||(Bt&4194048)!==Bt&&Gi.current!==null||(xl=!0),(Va&134217727)===0&&(ko&134217727)===0||pn===null||za(pn,Bt,qi,!1)}function d1(n,s,u){var g=en;en|=2;var _=Op(),w=Mp();(pn!==n||Bt!==s)&&(ph=null,Sl(n,s)),s=!1;var N=jn;e:do try{if(tn!==0&&Ct!==null){var P=Ct,G=Ti;switch(tn){case 8:h1(),N=6;break e;case 3:case 2:case 9:case 6:Gi.current===null&&(s=!0);var se=tn;if(tn=0,Ti=null,vl(n,P,G,se),u&&xl){N=0;break e}break;default:se=tn,tn=0,Ti=null,vl(n,P,G,se)}}lw(),N=jn;break}catch(Ee){Dp(n,Ee)}while(!0);return s&&n.shellSuspendCounter++,Xs=Do=null,en=g,ge.H=_,ge.A=w,Ct===null&&(pn=null,Bt=0,Uc()),N}function lw(){for(;Ct!==null;)Lp(Ct)}function uw(n,s){var u=en;en|=2;var g=Op(),_=Mp();pn!==n||Bt!==s?(ph=null,mh=Xt()+500,Sl(n,s)):xl=Qt(n,s);e:do try{if(tn!==0&&Ct!==null){s=Ct;var w=Ti;t:switch(tn){case 1:tn=0,Ti=null,vl(n,s,w,1);break;case 2:case 9:if(Yg(w)){tn=0,Ti=null,Pp(s);break}s=function(){tn!==2&&tn!==9||pn!==n||(tn=7),Ts(n)},w.then(s,s);break e;case 3:tn=7;break e;case 4:tn=5;break e;case 7:Yg(w)?(tn=0,Ti=null,Pp(s)):(tn=0,Ti=null,vl(n,s,w,7));break;case 5:var N=null;switch(Ct.tag){case 26:N=Ct.memoizedState;case 5:case 27:var P=Ct;if(!N||p2(N)){tn=0,Ti=null;var G=P.sibling;if(G!==null)Ct=G;else{var se=P.return;se!==null?(Ct=se,Eh(se)):Ct=null}break t}}tn=0,Ti=null,vl(n,s,w,5);break;case 6:tn=0,Ti=null,vl(n,s,w,6);break;case 8:h1(),jn=6;break e;default:throw Error(a(462))}}cw();break}catch(Ee){Dp(n,Ee)}while(!0);return Xs=Do=null,ge.H=g,ge.A=_,en=u,Ct!==null?0:(pn=null,Bt=0,Uc(),jn)}function cw(){for(;Ct!==null&&!Or();)Lp(Ct)}function Lp(n){var s=op(n.alternate,n,ta);n.memoizedProps=n.pendingProps,s===null?Eh(n):Ct=s}function Pp(n){var s=n,u=s.alternate;switch(s.tag){case 15:case 0:s=tp(u,s,s.pendingProps,s.type,void 0,Bt);break;case 11:s=tp(u,s,s.pendingProps,s.type.render,s.ref,Bt);break;case 5:bd(s);default:up(u,s),s=Ct=Bg(s,ta),s=op(u,s,ta)}n.memoizedProps=n.pendingProps,s===null?Eh(n):Ct=s}function vl(n,s,u,g){Xs=Do=null,bd(s),yl=null,Iu=0;var _=s.return;try{if($x(n,_,s,u,Bt)){jn=1,uh(n,Fi(u,n.current)),Ct=null;return}}catch(w){if(_!==null)throw Ct=_,w;jn=1,uh(n,Fi(u,n.current)),Ct=null;return}s.flags&32768?(Yt||g===1?n=!0:xl||(Bt&536870912)!==0?n=!1:(ka=n=!0,(g===2||g===9||g===3||g===6)&&(g=Gi.current,g!==null&&g.tag===13&&(g.flags|=16384))),Bp(s,n)):Eh(s)}function Eh(n){var s=n;do{if((s.flags&32768)!==0){Bp(s,ka);return}n=s.return;var u=tw(s.alternate,s,ta);if(u!==null){Ct=u;return}if(s=s.sibling,s!==null){Ct=s;return}Ct=s=n}while(s!==null);jn===0&&(jn=5)}function Bp(n,s){do{var u=nw(n.alternate,n);if(u!==null){u.flags&=32767,Ct=u;return}if(u=n.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(n=n.sibling,n!==null)){Ct=n;return}Ct=n=u}while(n!==null);jn=6,Ct=null}function kp(n,s,u,g,_,w,N,P,G){n.cancelPendingCommit=null;do _h();while(vr!==0);if((en&6)!==0)throw Error(a(327));if(s!==null){if(s===n.current)throw Error(a(177));if(w=s.lanes|s.childLanes,w|=rd,Ea(n,u,w,N,P,G),n===pn&&(Ct=pn=null,Bt=0),Tl=s,Fa=n,Cl=u,l1=w,u1=_,Ip=g,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,gw(Ue,function(){return Hp(),null})):(n.callbackNode=null,n.callbackPriority=0),g=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||g){g=ge.T,ge.T=null,_=_e.p,_e.p=2,N=en,en|=4;try{rw(n,s,u)}finally{en=N,_e.p=_,ge.T=g}}vr=1,Vp(),Up(),Fp()}}function Vp(){if(vr===1){vr=0;var n=Fa,s=Tl,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=ge.T,ge.T=null;var g=_e.p;_e.p=2;var _=en;en|=4;try{Ap(s,n);var w=S1,N=C(n.containerInfo),P=w.focusedElem,G=w.selectionRange;if(N!==P&&P&&P.ownerDocument&&A(P.ownerDocument.documentElement,P)){if(G!==null&&b(P)){var se=G.start,Ee=G.end;if(Ee===void 0&&(Ee=se),"selectionStart"in P)P.selectionStart=se,P.selectionEnd=Math.min(Ee,P.value.length);else{var Te=P.ownerDocument||document,le=Te&&Te.defaultView||window;if(le.getSelection){var he=le.getSelection(),it=P.textContent.length,et=Math.min(G.start,it),ln=G.end===void 0?et:Math.min(G.end,it);!he.extend&&et>ln&&(N=ln,ln=et,et=N);var $=p(P,et),J=p(P,ln);if($&&J&&(he.rangeCount!==1||he.anchorNode!==$.node||he.anchorOffset!==$.offset||he.focusNode!==J.node||he.focusOffset!==J.offset)){var ie=Te.createRange();ie.setStart($.node,$.offset),he.removeAllRanges(),et>ln?(he.addRange(ie),he.extend(J.node,J.offset)):(ie.setEnd(J.node,J.offset),he.addRange(ie))}}}}for(Te=[],he=P;he=he.parentNode;)he.nodeType===1&&Te.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<Te.length;P++){var Ae=Te[P];Ae.element.scrollLeft=Ae.left,Ae.element.scrollTop=Ae.top}}Dh=!!C1,S1=C1=null}finally{en=_,_e.p=g,ge.T=u}}n.current=s,vr=2}}function Up(){if(vr===2){vr=0;var n=Fa,s=Tl,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=ge.T,ge.T=null;var g=_e.p;_e.p=2;var _=en;en|=4;try{pp(n,s.alternate,s)}finally{en=_,_e.p=g,ge.T=u}}vr=3}}function Fp(){if(vr===4||vr===3){vr=0,hs();var n=Fa,s=Tl,u=Cl,g=Ip;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?vr=5:(vr=0,Tl=Fa=null,zp(n,n.pendingLanes));var _=n.pendingLanes;if(_===0&&(Ua=null),Ln(u),s=s.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Lt,s,void 0,(s.current.flags&128)===128)}catch{}if(g!==null){s=ge.T,_=_e.p,_e.p=2,ge.T=null;try{for(var w=n.onRecoverableError,N=0;N<g.length;N++){var P=g[N];w(P.value,{componentStack:P.stack})}}finally{ge.T=s,_e.p=_}}(Cl&3)!==0&&_h(),Ts(n),_=n.pendingLanes,(u&4194090)!==0&&(_&42)!==0?n===c1?Bu++:(Bu=0,c1=n):Bu=0,ku(0)}}function zp(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,pu(s)))}function _h(n){return Vp(),Up(),Fp(),Hp()}function Hp(){if(vr!==5)return!1;var n=Fa,s=l1;l1=0;var u=Ln(Cl),g=ge.T,_=_e.p;try{_e.p=32>u?32:u,ge.T=null,u=u1,u1=null;var w=Fa,N=Cl;if(vr=0,Tl=Fa=null,Cl=0,(en&6)!==0)throw Error(a(331));var P=en;if(en|=4,Sp(w.current),wp(w,w.current,N,u),en=P,ku(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Lt,w)}catch{}return!0}finally{_e.p=_,ge.T=g,zp(n,s)}}function jp(n,s,u){s=Fi(u,s),s=Hd(n.stateNode,s,2),n=Na(n,s,2),n!==null&&(_r(n,2),Ts(n))}function gn(n,s,u){if(n.tag===3)jp(n,n,u);else for(;s!==null;){if(s.tag===3){jp(s,n,u);break}else if(s.tag===1){var g=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ua===null||!Ua.has(g))){n=Fi(u,n),u=Xm(2),g=Na(s,u,2),g!==null&&(Wm(u,g,s,n),_r(g,2),Ts(g));break}}s=s.return}}function g1(n,s,u){var g=n.pingCache;if(g===null){g=n.pingCache=new aw;var _=new Set;g.set(s,_)}else _=g.get(s),_===void 0&&(_=new Set,g.set(s,_));_.has(u)||(i1=!0,_.add(u),n=hw.bind(null,n,s,u),s.then(n,n))}function hw(n,s,u){var g=n.pingCache;g!==null&&g.delete(s),n.pingedLanes|=n.suspendedLanes&u,n.warmLanes&=~u,pn===n&&(Bt&u)===u&&(jn===4||jn===3&&(Bt&62914560)===Bt&&300>Xt()-o1?(en&2)===0&&Sl(n,0):s1|=u,wl===Bt&&(wl=0)),Ts(n)}function Gp(n,s){s===0&&(s=ya()),n=ol(n,s),n!==null&&(_r(n,s),Ts(n))}function fw(n){var s=n.memoizedState,u=0;s!==null&&(u=s.retryLane),Gp(n,u)}function dw(n,s){var u=0;switch(n.tag){case 13:var g=n.stateNode,_=n.memoizedState;_!==null&&(u=_.retryLane);break;case 19:g=n.stateNode;break;case 22:g=n.stateNode._retryCache;break;default:throw Error(a(314))}g!==null&&g.delete(s),Gp(n,u)}function gw(n,s){return _t(n,s)}var Ah=null,Il=null,m1=!1,xh=!1,p1=!1,Vo=0;function Ts(n){n!==Il&&n.next===null&&(Il===null?Ah=Il=n:Il=Il.next=n),xh=!0,m1||(m1=!0,pw())}function ku(n,s){if(!p1&&xh){p1=!0;do for(var u=!1,g=Ah;g!==null;){if(n!==0){var _=g.pendingLanes;if(_===0)var w=0;else{var N=g.suspendedLanes,P=g.pingedLanes;w=(1<<31-Ft(42|n)+1)-1,w&=_&~(N&~P),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,Wp(g,w))}else w=Bt,w=Pt(g,g===pn?w:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(w&3)===0||Qt(g,w)||(u=!0,Wp(g,w));g=g.next}while(u);p1=!1}}function mw(){qp()}function qp(){xh=m1=!1;var n=0;Vo!==0&&(Cw()&&(n=Vo),Vo=0);for(var s=Xt(),u=null,g=Ah;g!==null;){var _=g.next,w=Yp(g,s);w===0?(g.next=null,u===null?Ah=_:u.next=_,_===null&&(Il=u)):(u=g,(n!==0||(w&3)!==0)&&(xh=!0)),g=_}ku(n)}function Yp(n,s){for(var u=n.suspendedLanes,g=n.pingedLanes,_=n.expirationTimes,w=n.pendingLanes&-62914561;0<w;){var N=31-Ft(w),P=1<<N,G=_[N];G===-1?((P&u)===0||(P&g)!==0)&&(_[N]=Qi(P,s)):G<=s&&(n.expiredLanes|=P),w&=~P}if(s=pn,u=Bt,u=Pt(n,n===s?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),g=n.callbackNode,u===0||n===s&&(tn===2||tn===9)||n.cancelPendingCommit!==null)return g!==null&&g!==null&&Jr(g),n.callbackNode=null,n.callbackPriority=0;if((u&3)===0||Qt(n,u)){if(s=u&-u,s===n.callbackPriority)return s;switch(g!==null&&Jr(g),Ln(u)){case 2:case 8:u=Wi;break;case 32:u=Ue;break;case 268435456:u=Ls;break;default:u=Ue}return g=Xp.bind(null,n),u=_t(u,g),n.callbackPriority=s,n.callbackNode=u,s}return g!==null&&g!==null&&Jr(g),n.callbackPriority=2,n.callbackNode=null,2}function Xp(n,s){if(vr!==0&&vr!==5)return n.callbackNode=null,n.callbackPriority=0,null;var u=n.callbackNode;if(_h()&&n.callbackNode!==u)return null;var g=Bt;return g=Pt(n,n===pn?g:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),g===0?null:(Rp(n,g,s),Yp(n,Xt()),n.callbackNode!=null&&n.callbackNode===u?Xp.bind(null,n):null)}function Wp(n,s){if(_h())return null;Rp(n,s,!0)}function pw(){vw(function(){(en&6)!==0?_t(At,mw):qp()})}function y1(){return Vo===0&&(Vo=Bs()),Vo}function Qp(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ta(""+n)}function Kp(n,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,n.id&&u.setAttribute("form",n.id),s.parentNode.insertBefore(u,s),n=new FormData(n),u.parentNode.removeChild(u),n}function yw(n,s,u,g,_){if(s==="submit"&&u&&u.stateNode===_){var w=Qp((_[sn]||null).action),N=g.submitter;N&&(s=(s=N[sn]||null)?Qp(s.formAction):N.getAttribute("formAction"),s!==null&&(w=s,N=null));var P=new Ui("action","action",null,g,_);n.push({event:P,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Vo!==0){var G=N?Kp(_,N):new FormData(_);kd(u,{pending:!0,data:G,method:_.method,action:w},null,G)}}else typeof w=="function"&&(P.preventDefault(),G=N?Kp(_,N):new FormData(_),kd(u,{pending:!0,data:G,method:_.method,action:w},w,G))},currentTarget:_}]})}}for(var E1=0;E1<Es.length;E1++){var _1=Es[E1],Ew=_1.toLowerCase(),_w=_1[0].toUpperCase()+_1.slice(1);_i(Ew,"on"+_w)}_i(ot,"onAnimationEnd"),_i(Cr,"onAnimationIteration"),_i(ai,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(Vr,"onTransitionRun"),_i($t,"onTransitionStart"),_i(ur,"onTransitionCancel"),_i(Ur,"onTransitionEnd"),En("onMouseEnter",["mouseout","mouseover"]),En("onMouseLeave",["mouseout","mouseover"]),En("onPointerEnter",["pointerout","pointerover"]),En("onPointerLeave",["pointerout","pointerover"]),Un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Un("onBeforeInput",["compositionend","keypress","textInput","paste"]),Un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Aw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vu));function Zp(n,s){s=(s&4)!==0;for(var u=0;u<n.length;u++){var g=n[u],_=g.event;g=g.listeners;e:{var w=void 0;if(s)for(var N=g.length-1;0<=N;N--){var P=g[N],G=P.instance,se=P.currentTarget;if(P=P.listener,G!==w&&_.isPropagationStopped())break e;w=P,_.currentTarget=se;try{w(_)}catch(Ee){lh(Ee)}_.currentTarget=null,w=G}else for(N=0;N<g.length;N++){if(P=g[N],G=P.instance,se=P.currentTarget,P=P.listener,G!==w&&_.isPropagationStopped())break e;w=P,_.currentTarget=se;try{w(_)}catch(Ee){lh(Ee)}_.currentTarget=null,w=G}}}}function St(n,s){var u=s[$n];u===void 0&&(u=s[$n]=new Set);var g=n+"__bubble";u.has(g)||(Jp(s,n,2,!1),u.add(g))}function A1(n,s,u){var g=0;s&&(g|=4),Jp(u,n,g,s)}var wh="_reactListening"+Math.random().toString(36).slice(2);function x1(n){if(!n[wh]){n[wh]=!0,wo.forEach(function(u){u!=="selectionchange"&&(Aw.has(u)||A1(u,!1,n),A1(u,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[wh]||(s[wh]=!0,A1("selectionchange",!1,s))}}function Jp(n,s,u,g){switch(w2(s)){case 2:var _=Xw;break;case 8:_=Ww;break;default:_=P1}u=_.bind(null,s,u,n),_=void 0,!$e||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(_=!0),g?_!==void 0?n.addEventListener(s,u,{capture:!0,passive:_}):n.addEventListener(s,u,!0):_!==void 0?n.addEventListener(s,u,{passive:_}):n.addEventListener(s,u,!1)}function w1(n,s,u,g,_){var w=g;if((s&1)===0&&(s&2)===0&&g!==null)e:for(;;){if(g===null)return;var N=g.tag;if(N===3||N===4){var P=g.stateNode.containerInfo;if(P===_)break;if(N===4)for(N=g.return;N!==null;){var G=N.tag;if((G===3||G===4)&&N.stateNode.containerInfo===_)return;N=N.return}for(;P!==null;){if(N=vn(P),N===null)return;if(G=N.tag,G===5||G===6||G===26||G===27){g=w=N;continue e}P=P.parentNode}}g=g.return}gi(function(){var se=w,Ee=wr(u),Te=[];e:{var le=js.get(n);if(le!==void 0){var he=Ui,it=n;switch(n){case"keypress":if(Vi(u)===0)break e;case"keydown":case"keyup":he=ps;break;case"focusin":it="focus",he=$i;break;case"focusout":it="blur",he=$i;break;case"beforeblur":case"afterblur":he=$i;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=ti;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=Ht;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=jt;break;case ot:case Cr:case ai:he=Ca;break;case Ur:he=nl;break;case"scroll":case"scrollend":he=lr;break;case"wheel":he=ri;break;case"copy":case"cut":case"paste":he=st;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=ys;break;case"toggle":case"beforetoggle":he=rl}var et=(s&4)!==0,ln=!et&&(n==="scroll"||n==="scrollend"),$=et?le!==null?le+"Capture":null:le;et=[];for(var J=se,ie;J!==null;){var Ae=J;if(ie=Ae.stateNode,Ae=Ae.tag,Ae!==5&&Ae!==26&&Ae!==27||ie===null||$===null||(Ae=Qe(J,$),Ae!=null&&et.push(Uu(J,Ae,ie))),ln)break;J=J.return}0<et.length&&(le=new he(le,it,null,u,Ee),Te.push({event:le,listeners:et}))}}if((s&7)===0){e:{if(le=n==="mouseover"||n==="pointerover",he=n==="mouseout"||n==="pointerout",le&&u!==fi&&(it=u.relatedTarget||u.fromElement)&&(vn(it)||it[Mr]))break e;if((he||le)&&(le=Ee.window===Ee?Ee:(le=Ee.ownerDocument)?le.defaultView||le.parentWindow:window,he?(it=u.relatedTarget||u.toElement,he=se,it=it?vn(it):null,it!==null&&(ln=d(it),et=it.tag,it!==ln||et!==5&&et!==27&&et!==6)&&(it=null)):(he=null,it=se),he!==it)){if(et=ti,Ae="onMouseLeave",$="onMouseEnter",J="mouse",(n==="pointerout"||n==="pointerover")&&(et=ys,Ae="onPointerLeave",$="onPointerEnter",J="pointer"),ln=he==null?le:Wr(he),ie=it==null?le:Wr(it),le=new et(Ae,J+"leave",he,u,Ee),le.target=ln,le.relatedTarget=ie,Ae=null,vn(Ee)===se&&(et=new et($,J+"enter",it,u,Ee),et.target=ie,et.relatedTarget=ln,Ae=et),ln=Ae,he&&it)t:{for(et=he,$=it,J=0,ie=et;ie;ie=bl(ie))J++;for(ie=0,Ae=$;Ae;Ae=bl(Ae))ie++;for(;0<J-ie;)et=bl(et),J--;for(;0<ie-J;)$=bl($),ie--;for(;J--;){if(et===$||$!==null&&et===$.alternate)break t;et=bl(et),$=bl($)}et=null}else et=null;he!==null&&$p(Te,le,he,et,!1),it!==null&&ln!==null&&$p(Te,ln,it,et,!0)}}e:{if(le=se?Wr(se):window,he=le.nodeName&&le.nodeName.toLowerCase(),he==="select"||he==="input"&&le.type==="file")var Ye=kc;else if(Dn(le))if(cu)Ye=o;else{Ye=D;var Tt=sl}else he=le.nodeName,!he||he.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?se&&We(se.elementType)&&(Ye=kc):Ye=r;if(Ye&&(Ye=Ye(n,se))){zn(Te,Ye,u,Ee);break e}Tt&&Tt(n,le,se),n==="focusout"&&se&&le.type==="number"&&se.memoizedProps.value!=null&&ee(le,"number",le.value)}switch(Tt=se?Wr(se):window,n){case"focusin":(Dn(Tt)||Tt.contentEditable==="true")&&(L=Tt,F=se,Y=null);break;case"focusout":Y=F=L=null;break;case"mousedown":Q=!0;break;case"contextmenu":case"mouseup":case"dragend":Q=!1,ne(Te,u,Ee);break;case"selectionchange":if(O)break;case"keydown":case"keyup":ne(Te,u,Ee)}var Ke;if(ii)e:{switch(n){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else It?de(n,u)&&(tt="onCompositionEnd"):n==="keydown"&&u.keyCode===229&&(tt="onCompositionStart");tt&&(R&&u.locale!=="ko"&&(It||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&It&&(Ke=pi()):(Pi=Ee,Bi="value"in Pi?Pi.value:Pi.textContent,It=!0)),Tt=Th(se,tt),0<Tt.length&&(tt=new gs(tt,n,null,u,Ee),Te.push({event:tt,listeners:Tt}),Ke?tt.data=Ke:(Ke=Le(u),Ke!==null&&(tt.data=Ke)))),(Ke=v?wn(n,u):bt(n,u))&&(tt=Th(se,"onBeforeInput"),0<tt.length&&(Tt=new gs("onBeforeInput","beforeinput",null,u,Ee),Te.push({event:Tt,listeners:tt}),Tt.data=Ke)),yw(Te,n,se,u,Ee)}Zp(Te,s)})}function Uu(n,s,u){return{instance:n,listener:s,currentTarget:u}}function Th(n,s){for(var u=s+"Capture",g=[];n!==null;){var _=n,w=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||w===null||(_=Qe(n,u),_!=null&&g.unshift(Uu(n,_,w)),_=Qe(n,s),_!=null&&g.push(Uu(n,_,w))),n.tag===3)return g;n=n.return}return[]}function bl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function $p(n,s,u,g,_){for(var w=s._reactName,N=[];u!==null&&u!==g;){var P=u,G=P.alternate,se=P.stateNode;if(P=P.tag,G!==null&&G===g)break;P!==5&&P!==26&&P!==27||se===null||(G=se,_?(se=Qe(u,w),se!=null&&N.unshift(Uu(u,se,G))):_||(se=Qe(u,w),se!=null&&N.push(Uu(u,se,G)))),u=u.return}N.length!==0&&n.push({event:s,listeners:N})}var xw=/\r\n?/g,ww=/\u0000|\uFFFD/g;function e2(n){return(typeof n=="string"?n:""+n).replace(xw,`
`).replace(ww,"")}function t2(n,s){return s=e2(s),e2(n)===s}function Ch(){}function on(n,s,u,g,_,w){switch(u){case"children":typeof g=="string"?s==="body"||s==="textarea"&&g===""||An(n,g):(typeof g=="number"||typeof g=="bigint")&&s!=="body"&&An(n,""+g);break;case"className":Mi(n,"class",g);break;case"tabIndex":Mi(n,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Mi(n,u,g);break;case"style":gr(n,g,w);break;case"data":if(s!=="object"){Mi(n,"data",g);break}case"src":case"href":if(g===""&&(s!=="a"||u!=="href")){n.removeAttribute(u);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){n.removeAttribute(u);break}g=Ta(""+g),n.setAttribute(u,g);break;case"action":case"formAction":if(typeof g=="function"){n.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(s!=="input"&&on(n,s,"name",_.name,_,null),on(n,s,"formEncType",_.formEncType,_,null),on(n,s,"formMethod",_.formMethod,_,null),on(n,s,"formTarget",_.formTarget,_,null)):(on(n,s,"encType",_.encType,_,null),on(n,s,"method",_.method,_,null),on(n,s,"target",_.target,_,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){n.removeAttribute(u);break}g=Ta(""+g),n.setAttribute(u,g);break;case"onClick":g!=null&&(n.onclick=Ch);break;case"onScroll":g!=null&&St("scroll",n);break;case"onScrollEnd":g!=null&&St("scrollend",n);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(a(61));if(u=g.__html,u!=null){if(_.children!=null)throw Error(a(60));n.innerHTML=u}}break;case"multiple":n.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":n.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){n.removeAttribute("xlink:href");break}u=Ta(""+g),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?n.setAttribute(u,""+g):n.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?n.setAttribute(u,""):n.removeAttribute(u);break;case"capture":case"download":g===!0?n.setAttribute(u,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?n.setAttribute(u,g):n.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?n.setAttribute(u,g):n.removeAttribute(u);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?n.removeAttribute(u):n.setAttribute(u,g);break;case"popover":St("beforetoggle",n),St("toggle",n),xe(n,"popover",g);break;case"xlinkActuate":pt(n,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":pt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":pt(n,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":pt(n,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":pt(n,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":pt(n,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":pt(n,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":pt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":pt(n,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":xe(n,"is",g);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=hn.get(u)||u,xe(n,u,g))}}function T1(n,s,u,g,_,w){switch(u){case"style":gr(n,g,w);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(a(61));if(u=g.__html,u!=null){if(_.children!=null)throw Error(a(60));n.innerHTML=u}}break;case"children":typeof g=="string"?An(n,g):(typeof g=="number"||typeof g=="bigint")&&An(n,""+g);break;case"onScroll":g!=null&&St("scroll",n);break;case"onScrollEnd":g!=null&&St("scrollend",n);break;case"onClick":g!=null&&(n.onclick=Ch);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_a.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(_=u.endsWith("Capture"),s=u.slice(2,_?u.length-7:void 0),w=n[sn]||null,w=w!=null?w[u]:null,typeof w=="function"&&n.removeEventListener(s,w,_),typeof g=="function")){typeof w!="function"&&w!==null&&(u in n?n[u]=null:n.hasAttribute(u)&&n.removeAttribute(u)),n.addEventListener(s,g,_);break e}u in n?n[u]=g:g===!0?n.setAttribute(u,""):xe(n,u,g)}}}function Ir(n,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":St("error",n),St("load",n);var g=!1,_=!1,w;for(w in u)if(u.hasOwnProperty(w)){var N=u[w];if(N!=null)switch(w){case"src":g=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:on(n,s,w,N,u,null)}}_&&on(n,s,"srcSet",u.srcSet,u,null),g&&on(n,s,"src",u.src,u,null);return;case"input":St("invalid",n);var P=w=N=_=null,G=null,se=null;for(g in u)if(u.hasOwnProperty(g)){var Ee=u[g];if(Ee!=null)switch(g){case"name":_=Ee;break;case"type":N=Ee;break;case"checked":G=Ee;break;case"defaultChecked":se=Ee;break;case"value":w=Ee;break;case"defaultValue":P=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(a(137,s));break;default:on(n,s,g,Ee,u,null)}}In(n,w,P,G,se,N,_,!1),xa(n);return;case"select":St("invalid",n),g=N=w=null;for(_ in u)if(u.hasOwnProperty(_)&&(P=u[_],P!=null))switch(_){case"value":w=P;break;case"defaultValue":N=P;break;case"multiple":g=P;default:on(n,s,_,P,u,null)}s=w,u=N,n.multiple=!!g,s!=null?V(n,!!g,s,!1):u!=null&&V(n,!!g,u,!0);return;case"textarea":St("invalid",n),w=_=g=null;for(N in u)if(u.hasOwnProperty(N)&&(P=u[N],P!=null))switch(N){case"value":g=P;break;case"defaultValue":_=P;break;case"children":w=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(91));break;default:on(n,s,N,P,u,null)}mn(n,g,_,w),xa(n);return;case"option":for(G in u)if(u.hasOwnProperty(G)&&(g=u[G],g!=null))switch(G){case"selected":n.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:on(n,s,G,g,u,null)}return;case"dialog":St("beforetoggle",n),St("toggle",n),St("cancel",n),St("close",n);break;case"iframe":case"object":St("load",n);break;case"video":case"audio":for(g=0;g<Vu.length;g++)St(Vu[g],n);break;case"image":St("error",n),St("load",n);break;case"details":St("toggle",n);break;case"embed":case"source":case"link":St("error",n),St("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in u)if(u.hasOwnProperty(se)&&(g=u[se],g!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:on(n,s,se,g,u,null)}return;default:if(We(s)){for(Ee in u)u.hasOwnProperty(Ee)&&(g=u[Ee],g!==void 0&&T1(n,s,Ee,g,u,void 0));return}}for(P in u)u.hasOwnProperty(P)&&(g=u[P],g!=null&&on(n,s,P,g,u,null))}function Tw(n,s,u,g){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,w=null,N=null,P=null,G=null,se=null,Ee=null;for(he in u){var Te=u[he];if(u.hasOwnProperty(he)&&Te!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":G=Te;default:g.hasOwnProperty(he)||on(n,s,he,null,g,Te)}}for(var le in g){var he=g[le];if(Te=u[le],g.hasOwnProperty(le)&&(he!=null||Te!=null))switch(le){case"type":w=he;break;case"name":_=he;break;case"checked":se=he;break;case"defaultChecked":Ee=he;break;case"value":N=he;break;case"defaultValue":P=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(a(137,s));break;default:he!==Te&&on(n,s,le,he,g,Te)}}Et(n,N,P,G,se,Ee,w,_);return;case"select":he=N=P=le=null;for(w in u)if(G=u[w],u.hasOwnProperty(w)&&G!=null)switch(w){case"value":break;case"multiple":he=G;default:g.hasOwnProperty(w)||on(n,s,w,null,g,G)}for(_ in g)if(w=g[_],G=u[_],g.hasOwnProperty(_)&&(w!=null||G!=null))switch(_){case"value":le=w;break;case"defaultValue":P=w;break;case"multiple":N=w;default:w!==G&&on(n,s,_,w,g,G)}s=P,u=N,g=he,le!=null?V(n,!!u,le,!1):!!g!=!!u&&(s!=null?V(n,!!u,s,!0):V(n,!!u,u?[]:"",!1));return;case"textarea":he=le=null;for(P in u)if(_=u[P],u.hasOwnProperty(P)&&_!=null&&!g.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:on(n,s,P,null,g,_)}for(N in g)if(_=g[N],w=u[N],g.hasOwnProperty(N)&&(_!=null||w!=null))switch(N){case"value":le=_;break;case"defaultValue":he=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:_!==w&&on(n,s,N,_,g,w)}Pe(n,le,he);return;case"option":for(var it in u)if(le=u[it],u.hasOwnProperty(it)&&le!=null&&!g.hasOwnProperty(it))switch(it){case"selected":n.selected=!1;break;default:on(n,s,it,null,g,le)}for(G in g)if(le=g[G],he=u[G],g.hasOwnProperty(G)&&le!==he&&(le!=null||he!=null))switch(G){case"selected":n.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:on(n,s,G,le,g,he)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var et in u)le=u[et],u.hasOwnProperty(et)&&le!=null&&!g.hasOwnProperty(et)&&on(n,s,et,null,g,le);for(se in g)if(le=g[se],he=u[se],g.hasOwnProperty(se)&&le!==he&&(le!=null||he!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(a(137,s));break;default:on(n,s,se,le,g,he)}return;default:if(We(s)){for(var ln in u)le=u[ln],u.hasOwnProperty(ln)&&le!==void 0&&!g.hasOwnProperty(ln)&&T1(n,s,ln,void 0,g,le);for(Ee in g)le=g[Ee],he=u[Ee],!g.hasOwnProperty(Ee)||le===he||le===void 0&&he===void 0||T1(n,s,Ee,le,g,he);return}}for(var $ in u)le=u[$],u.hasOwnProperty($)&&le!=null&&!g.hasOwnProperty($)&&on(n,s,$,null,g,le);for(Te in g)le=g[Te],he=u[Te],!g.hasOwnProperty(Te)||le===he||le==null&&he==null||on(n,s,Te,le,g,he)}var C1=null,S1=null;function Sh(n){return n.nodeType===9?n:n.ownerDocument}function n2(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r2(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function v1(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var I1=null;function Cw(){var n=window.event;return n&&n.type==="popstate"?n===I1?!1:(I1=n,!0):(I1=null,!1)}var i2=typeof setTimeout=="function"?setTimeout:void 0,Sw=typeof clearTimeout=="function"?clearTimeout:void 0,s2=typeof Promise=="function"?Promise:void 0,vw=typeof queueMicrotask=="function"?queueMicrotask:typeof s2<"u"?function(n){return s2.resolve(null).then(n).catch(Iw)}:i2;function Iw(n){setTimeout(function(){throw n})}function Ha(n){return n==="head"}function a2(n,s){var u=s,g=0,_=0;do{var w=u.nextSibling;if(n.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"){if(0<g&&8>g){u=g;var N=n.ownerDocument;if(u&1&&Fu(N.documentElement),u&2&&Fu(N.body),u&4)for(u=N.head,Fu(u),N=u.firstChild;N;){var P=N.nextSibling,G=N.nodeName;N[$r]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&N.rel.toLowerCase()==="stylesheet"||u.removeChild(N),N=P}}if(_===0){n.removeChild(w),Wu(s);return}_--}else u==="$"||u==="$?"||u==="$!"?_++:g=u.charCodeAt(0)-48;else g=0;u=w}while(u);Wu(s)}function b1(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":b1(u),Oi(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}n.removeChild(u)}}function bw(n,s,u,g){for(;n.nodeType===1;){var _=u;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!g&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(g){if(!n[$r])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(w=n.getAttribute("rel"),w==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(w!==_.rel||n.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||n.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||n.getAttribute("title")!==(_.title==null?null:_.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(w=n.getAttribute("src"),(w!==(_.src==null?null:_.src)||n.getAttribute("type")!==(_.type==null?null:_.type)||n.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&w&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var w=_.name==null?null:""+_.name;if(_.type==="hidden"&&n.getAttribute("name")===w)return n}else return n;if(n=ns(n.nextSibling),n===null)break}return null}function Rw(n,s,u){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!u||(n=ns(n.nextSibling),n===null))return null;return n}function R1(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function Nw(n,s){var u=n.ownerDocument;if(n.data!=="$?"||u.readyState==="complete")s();else{var g=function(){s(),u.removeEventListener("DOMContentLoaded",g)};u.addEventListener("DOMContentLoaded",g),n._reactRetry=g}}function ns(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var N1=null;function o2(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var u=n.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return n;s--}else u==="/$"&&s++}n=n.previousSibling}return null}function l2(n,s,u){switch(s=Sh(u),n){case"html":if(n=s.documentElement,!n)throw Error(a(452));return n;case"head":if(n=s.head,!n)throw Error(a(453));return n;case"body":if(n=s.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Fu(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Oi(n)}var Yi=new Map,u2=new Set;function vh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var na=_e.d;_e.d={f:Dw,r:Ow,D:Mw,C:Lw,L:Pw,m:Bw,X:Vw,S:kw,M:Uw};function Dw(){var n=na.f(),s=yh();return n||s}function Ow(n){var s=xr(n);s!==null&&s.tag===5&&s.type==="form"?Rm(s):na.r(n)}var Rl=typeof document>"u"?null:document;function c2(n,s,u){var g=Rl;if(g&&typeof s=="string"&&s){var _=cn(s);_='link[rel="'+n+'"][href="'+_+'"]',typeof u=="string"&&(_+='[crossorigin="'+u+'"]'),u2.has(_)||(u2.add(_),n={rel:n,crossOrigin:u,href:s},g.querySelector(_)===null&&(s=g.createElement("link"),Ir(s,"link",n),zt(s),g.head.appendChild(s)))}}function Mw(n){na.D(n),c2("dns-prefetch",n,null)}function Lw(n,s){na.C(n,s),c2("preconnect",n,s)}function Pw(n,s,u){na.L(n,s,u);var g=Rl;if(g&&n&&s){var _='link[rel="preload"][as="'+cn(s)+'"]';s==="image"&&u&&u.imageSrcSet?(_+='[imagesrcset="'+cn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(_+='[imagesizes="'+cn(u.imageSizes)+'"]')):_+='[href="'+cn(n)+'"]';var w=_;switch(s){case"style":w=Nl(n);break;case"script":w=Dl(n)}Yi.has(w)||(n=I({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:n,as:s},u),Yi.set(w,n),g.querySelector(_)!==null||s==="style"&&g.querySelector(zu(w))||s==="script"&&g.querySelector(Hu(w))||(s=g.createElement("link"),Ir(s,"link",n),zt(s),g.head.appendChild(s)))}}function Bw(n,s){na.m(n,s);var u=Rl;if(u&&n){var g=s&&typeof s.as=="string"?s.as:"script",_='link[rel="modulepreload"][as="'+cn(g)+'"][href="'+cn(n)+'"]',w=_;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Dl(n)}if(!Yi.has(w)&&(n=I({rel:"modulepreload",href:n},s),Yi.set(w,n),u.querySelector(_)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Hu(w)))return}g=u.createElement("link"),Ir(g,"link",n),zt(g),u.head.appendChild(g)}}}function kw(n,s,u){na.S(n,s,u);var g=Rl;if(g&&n){var _=er(g).hoistableStyles,w=Nl(n);s=s||"default";var N=_.get(w);if(!N){var P={loading:0,preload:null};if(N=g.querySelector(zu(w)))P.loading=5;else{n=I({rel:"stylesheet",href:n,"data-precedence":s},u),(u=Yi.get(w))&&D1(n,u);var G=N=g.createElement("link");zt(G),Ir(G,"link",n),G._p=new Promise(function(se,Ee){G.onload=se,G.onerror=Ee}),G.addEventListener("load",function(){P.loading|=1}),G.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Ih(N,s,g)}N={type:"stylesheet",instance:N,count:1,state:P},_.set(w,N)}}}function Vw(n,s){na.X(n,s);var u=Rl;if(u&&n){var g=er(u).hoistableScripts,_=Dl(n),w=g.get(_);w||(w=u.querySelector(Hu(_)),w||(n=I({src:n,async:!0},s),(s=Yi.get(_))&&O1(n,s),w=u.createElement("script"),zt(w),Ir(w,"link",n),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},g.set(_,w))}}function Uw(n,s){na.M(n,s);var u=Rl;if(u&&n){var g=er(u).hoistableScripts,_=Dl(n),w=g.get(_);w||(w=u.querySelector(Hu(_)),w||(n=I({src:n,async:!0,type:"module"},s),(s=Yi.get(_))&&O1(n,s),w=u.createElement("script"),zt(w),Ir(w,"link",n),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},g.set(_,w))}}function h2(n,s,u,g){var _=(_=Re.current)?vh(_):null;if(!_)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=Nl(u.href),u=er(_).hoistableStyles,g=u.get(s),g||(g={type:"style",instance:null,count:0,state:null},u.set(s,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){n=Nl(u.href);var w=er(_).hoistableStyles,N=w.get(n);if(N||(_=_.ownerDocument||_,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(n,N),(w=_.querySelector(zu(n)))&&!w._p&&(N.instance=w,N.state.loading=5),Yi.has(n)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Yi.set(n,u),w||Fw(_,n,u,N.state))),s&&g===null)throw Error(a(528,""));return N}if(s&&g!==null)throw Error(a(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Dl(u),u=er(_).hoistableScripts,g=u.get(s),g||(g={type:"script",instance:null,count:0,state:null},u.set(s,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function Nl(n){return'href="'+cn(n)+'"'}function zu(n){return'link[rel="stylesheet"]['+n+"]"}function f2(n){return I({},n,{"data-precedence":n.precedence,precedence:null})}function Fw(n,s,u,g){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?g.loading=1:(s=n.createElement("link"),g.preload=s,s.addEventListener("load",function(){return g.loading|=1}),s.addEventListener("error",function(){return g.loading|=2}),Ir(s,"link",u),zt(s),n.head.appendChild(s))}function Dl(n){return'[src="'+cn(n)+'"]'}function Hu(n){return"script[async]"+n}function d2(n,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var g=n.querySelector('style[data-href~="'+cn(u.href)+'"]');if(g)return s.instance=g,zt(g),g;var _=I({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return g=(n.ownerDocument||n).createElement("style"),zt(g),Ir(g,"style",_),Ih(g,u.precedence,n),s.instance=g;case"stylesheet":_=Nl(u.href);var w=n.querySelector(zu(_));if(w)return s.state.loading|=4,s.instance=w,zt(w),w;g=f2(u),(_=Yi.get(_))&&D1(g,_),w=(n.ownerDocument||n).createElement("link"),zt(w);var N=w;return N._p=new Promise(function(P,G){N.onload=P,N.onerror=G}),Ir(w,"link",g),s.state.loading|=4,Ih(w,u.precedence,n),s.instance=w;case"script":return w=Dl(u.src),(_=n.querySelector(Hu(w)))?(s.instance=_,zt(_),_):(g=u,(_=Yi.get(w))&&(g=I({},u),O1(g,_)),n=n.ownerDocument||n,_=n.createElement("script"),zt(_),Ir(_,"link",g),n.head.appendChild(_),s.instance=_);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(g=s.instance,s.state.loading|=4,Ih(g,u.precedence,n));return s.instance}function Ih(n,s,u){for(var g=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=g.length?g[g.length-1]:null,w=_,N=0;N<g.length;N++){var P=g[N];if(P.dataset.precedence===s)w=P;else if(w!==_)break}w?w.parentNode.insertBefore(n,w.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(n,s.firstChild))}function D1(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function O1(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var bh=null;function g2(n,s,u){if(bh===null){var g=new Map,_=bh=new Map;_.set(u,g)}else _=bh,g=_.get(u),g||(g=new Map,_.set(u,g));if(g.has(n))return g;for(g.set(n,null),u=u.getElementsByTagName(n),_=0;_<u.length;_++){var w=u[_];if(!(w[$r]||w[qn]||n==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var N=w.getAttribute(s)||"";N=n+N;var P=g.get(N);P?P.push(w):g.set(N,[w])}}return g}function m2(n,s,u){n=n.ownerDocument||n,n.head.insertBefore(u,s==="title"?n.querySelector("head > title"):null)}function zw(n,s,u){if(u===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function p2(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var ju=null;function Hw(){}function jw(n,s,u){if(ju===null)throw Error(a(475));var g=ju;if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var _=Nl(u.href),w=n.querySelector(zu(_));if(w){n=w._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(g.count++,g=Rh.bind(g),n.then(g,g)),s.state.loading|=4,s.instance=w,zt(w);return}w=n.ownerDocument||n,u=f2(u),(_=Yi.get(_))&&D1(u,_),w=w.createElement("link"),zt(w);var N=w;N._p=new Promise(function(P,G){N.onload=P,N.onerror=G}),Ir(w,"link",u),s.instance=w}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(g.count++,s=Rh.bind(g),n.addEventListener("load",s),n.addEventListener("error",s))}}function Gw(){if(ju===null)throw Error(a(475));var n=ju;return n.stylesheets&&n.count===0&&M1(n,n.stylesheets),0<n.count?function(s){var u=setTimeout(function(){if(n.stylesheets&&M1(n,n.stylesheets),n.unsuspend){var g=n.unsuspend;n.unsuspend=null,g()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(u)}}:null}function Rh(){if(this.count--,this.count===0){if(this.stylesheets)M1(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Nh=null;function M1(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Nh=new Map,s.forEach(qw,n),Nh=null,Rh.call(n))}function qw(n,s){if(!(s.state.loading&4)){var u=Nh.get(n);if(u)var g=u.get(null);else{u=new Map,Nh.set(n,u);for(var _=n.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<_.length;w++){var N=_[w];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(u.set(N.dataset.precedence,N),g=N)}g&&u.set(null,g)}_=s.instance,N=_.getAttribute("data-precedence"),w=u.get(N)||g,w===g&&u.set(null,_),u.set(N,_),this.count++,g=Rh.bind(this),_.addEventListener("load",g),_.addEventListener("error",g),w?w.parentNode.insertBefore(_,w.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(_,n.firstChild)),s.state.loading|=4}}var Gu={$$typeof:pe,Provider:null,Consumer:null,_currentValue:Xe,_currentValue2:Xe,_threadCount:0};function Yw(n,s,u,g,_,w,N,P){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dt(0),this.hiddenUpdates=dt(null),this.identifierPrefix=g,this.onUncaughtError=_,this.onCaughtError=w,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function y2(n,s,u,g,_,w,N,P,G,se,Ee,Te){return n=new Yw(n,s,u,N,P,G,se,Te),s=1,w===!0&&(s|=24),w=Ai(3,null,null,s),n.current=w,w.stateNode=n,s=gd(),s.refCount++,n.pooledCache=s,s.refCount++,w.memoizedState={element:g,isDehydrated:u,cache:s},Ed(w),n}function E2(n){return n?(n=ll,n):ll}function _2(n,s,u,g,_,w){_=E2(_),g.context===null?g.context=_:g.pendingContext=_,g=Ra(s),g.payload={element:u},w=w===void 0?null:w,w!==null&&(g.callback=w),u=Na(n,g,s),u!==null&&(Si(u,n,s),Au(u,n,s))}function A2(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var u=n.retryLane;n.retryLane=u!==0&&u<s?u:s}}function L1(n,s){A2(n,s),(n=n.alternate)&&A2(n,s)}function x2(n){if(n.tag===13){var s=ol(n,67108864);s!==null&&Si(s,n,67108864),L1(n,67108864)}}var Dh=!0;function Xw(n,s,u,g){var _=ge.T;ge.T=null;var w=_e.p;try{_e.p=2,P1(n,s,u,g)}finally{_e.p=w,ge.T=_}}function Ww(n,s,u,g){var _=ge.T;ge.T=null;var w=_e.p;try{_e.p=8,P1(n,s,u,g)}finally{_e.p=w,ge.T=_}}function P1(n,s,u,g){if(Dh){var _=B1(g);if(_===null)w1(n,s,g,Oh,u),T2(n,g);else if(Kw(_,n,s,u,g))g.stopPropagation();else if(T2(n,g),s&4&&-1<Qw.indexOf(n)){for(;_!==null;){var w=xr(_);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var N=qt(w.pendingLanes);if(N!==0){var P=w;for(P.pendingLanes|=2,P.entangledLanes|=2;N;){var G=1<<31-Ft(N);P.entanglements[1]|=G,N&=~G}Ts(w),(en&6)===0&&(mh=Xt()+500,ku(0))}}break;case 13:P=ol(w,2),P!==null&&Si(P,w,2),yh(),L1(w,2)}if(w=B1(g),w===null&&w1(n,s,g,Oh,u),w===_)break;_=w}_!==null&&g.stopPropagation()}else w1(n,s,g,null,u)}}function B1(n){return n=wr(n),k1(n)}var Oh=null;function k1(n){if(Oh=null,n=vn(n),n!==null){var s=d(n);if(s===null)n=null;else{var u=s.tag;if(u===13){if(n=E(s),n!==null)return n;n=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Oh=n,null}function w2(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wt()){case At:return 2;case Wi:return 8;case Ue:case ga:return 32;case Ls:return 268435456;default:return 32}default:return 32}}var V1=!1,ja=null,Ga=null,qa=null,qu=new Map,Yu=new Map,Ya=[],Qw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T2(n,s){switch(n){case"focusin":case"focusout":ja=null;break;case"dragenter":case"dragleave":Ga=null;break;case"mouseover":case"mouseout":qa=null;break;case"pointerover":case"pointerout":qu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yu.delete(s.pointerId)}}function Xu(n,s,u,g,_,w){return n===null||n.nativeEvent!==w?(n={blockedOn:s,domEventName:u,eventSystemFlags:g,nativeEvent:w,targetContainers:[_]},s!==null&&(s=xr(s),s!==null&&x2(s)),n):(n.eventSystemFlags|=g,s=n.targetContainers,_!==null&&s.indexOf(_)===-1&&s.push(_),n)}function Kw(n,s,u,g,_){switch(s){case"focusin":return ja=Xu(ja,n,s,u,g,_),!0;case"dragenter":return Ga=Xu(Ga,n,s,u,g,_),!0;case"mouseover":return qa=Xu(qa,n,s,u,g,_),!0;case"pointerover":var w=_.pointerId;return qu.set(w,Xu(qu.get(w)||null,n,s,u,g,_)),!0;case"gotpointercapture":return w=_.pointerId,Yu.set(w,Xu(Yu.get(w)||null,n,s,u,g,_)),!0}return!1}function C2(n){var s=vn(n.target);if(s!==null){var u=d(s);if(u!==null){if(s=u.tag,s===13){if(s=E(u),s!==null){n.blockedOn=s,ks(n.priority,function(){if(u.tag===13){var g=Ci();g=Di(g);var _=ol(u,g);_!==null&&Si(_,u,g),L1(u,g)}});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){n.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Mh(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var u=B1(n.nativeEvent);if(u===null){u=n.nativeEvent;var g=new u.constructor(u.type,u);fi=g,u.target.dispatchEvent(g),fi=null}else return s=xr(u),s!==null&&x2(s),n.blockedOn=u,!1;s.shift()}return!0}function S2(n,s,u){Mh(n)&&u.delete(s)}function Zw(){V1=!1,ja!==null&&Mh(ja)&&(ja=null),Ga!==null&&Mh(Ga)&&(Ga=null),qa!==null&&Mh(qa)&&(qa=null),qu.forEach(S2),Yu.forEach(S2)}function Lh(n,s){n.blockedOn===s&&(n.blockedOn=null,V1||(V1=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Zw)))}var Ph=null;function v2(n){Ph!==n&&(Ph=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ph===n&&(Ph=null);for(var s=0;s<n.length;s+=3){var u=n[s],g=n[s+1],_=n[s+2];if(typeof g!="function"){if(k1(g||u)===null)continue;break}var w=xr(u);w!==null&&(n.splice(s,3),s-=3,kd(w,{pending:!0,data:_,method:u.method,action:g},g,_))}}))}function Wu(n){function s(G){return Lh(G,n)}ja!==null&&Lh(ja,n),Ga!==null&&Lh(Ga,n),qa!==null&&Lh(qa,n),qu.forEach(s),Yu.forEach(s);for(var u=0;u<Ya.length;u++){var g=Ya[u];g.blockedOn===n&&(g.blockedOn=null)}for(;0<Ya.length&&(u=Ya[0],u.blockedOn===null);)C2(u),u.blockedOn===null&&Ya.shift();if(u=(n.ownerDocument||n).$$reactFormReplay,u!=null)for(g=0;g<u.length;g+=3){var _=u[g],w=u[g+1],N=_[sn]||null;if(typeof w=="function")N||v2(u);else if(N){var P=null;if(w&&w.hasAttribute("formAction")){if(_=w,N=w[sn]||null)P=N.formAction;else if(k1(_)!==null)continue}else P=N.action;typeof P=="function"?u[g+1]=P:(u.splice(g,3),g-=3),v2(u)}}}function U1(n){this._internalRoot=n}Bh.prototype.render=U1.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(a(409));var u=s.current,g=Ci();_2(u,g,n,s,null,null)},Bh.prototype.unmount=U1.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;_2(n.current,2,null,n,null,null),yh(),s[Mr]=null}};function Bh(n){this._internalRoot=n}Bh.prototype.unstable_scheduleHydration=function(n){if(n){var s=Xr();n={blockedOn:null,target:n,priority:s};for(var u=0;u<Ya.length&&s!==0&&s<Ya[u].priority;u++);Ya.splice(u,0,n),u===0&&C2(n)}};var I2=e.version;if(I2!=="19.1.1")throw Error(a(527,I2,"19.1.1"));_e.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=S(s),n=n!==null?x(n):null,n=n===null?null:n.stateNode,n};var Jw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:ge,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kh.isDisabled&&kh.supportsFiber)try{Lt=kh.inject(Jw),Ut=kh}catch{}}return Ku.createRoot=function(n,s){if(!c(n))throw Error(a(299));var u=!1,g="",_=jm,w=Gm,N=qm,P=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onUncaughtError!==void 0&&(_=s.onUncaughtError),s.onCaughtError!==void 0&&(w=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(P=s.unstable_transitionCallbacks)),s=y2(n,1,!1,null,null,u,g,_,w,N,P,null),n[Mr]=s.current,x1(n),new U1(s)},Ku.hydrateRoot=function(n,s,u){if(!c(n))throw Error(a(299));var g=!1,_="",w=jm,N=Gm,P=qm,G=null,se=null;return u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&(P=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(G=u.unstable_transitionCallbacks),u.formState!==void 0&&(se=u.formState)),s=y2(n,1,!0,s,u??null,g,_,w,N,P,G,se),s.context=E2(null),u=s.current,g=Ci(),g=Di(g),_=Ra(g),_.callback=null,Na(u,_,g),u=g,s.current.lanes=u,_r(s,u),Ts(s),n[Mr]=s.current,x1(n),new Bh(s)},Ku.version="19.1.1",Ku}var k2;function uT(){if(k2)return H1.exports;k2=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),H1.exports=lT(),H1.exports}var cT=uT();const hT=B0(cT);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var V2="popstate";function fT(i={}){function e(a,c){let{pathname:d,search:E,hash:T}=a.location;return a0("",{pathname:d,search:E,hash:T},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function t(a,c){return typeof c=="string"?c:hc(c)}return gT(e,t,null,i)}function Mn(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function os(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dT(){return Math.random().toString(36).substring(2,10)}function U2(i,e){return{usr:i.state,key:i.key,idx:e}}function a0(i,e,t=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Zl(e):e,state:t,key:e&&e.key||a||dT()}}function hc({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Zl(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let a=i.indexOf("?");a>=0&&(e.search=i.substring(a),i=i.substring(0,a)),i&&(e.pathname=i)}return e}function gT(i,e,t,a={}){let{window:c=document.defaultView,v5Compat:d=!1}=a,E=c.history,T="POP",S=null,x=I();x==null&&(x=0,E.replaceState({...E.state,idx:x},""));function I(){return(E.state||{idx:null}).idx}function M(){T="POP";let re=I(),ve=re==null?null:re-x;x=re,S&&S({action:T,location:oe.location,delta:ve})}function U(re,ve){T="PUSH";let me=a0(oe.location,re,ve);x=I()+1;let pe=U2(me,x),Be=oe.createHref(me);try{E.pushState(pe,"",Be)}catch(Ge){if(Ge instanceof DOMException&&Ge.name==="DataCloneError")throw Ge;c.location.assign(Be)}d&&S&&S({action:T,location:oe.location,delta:1})}function W(re,ve){T="REPLACE";let me=a0(oe.location,re,ve);x=I();let pe=U2(me,x),Be=oe.createHref(me);E.replaceState(pe,"",Be),d&&S&&S({action:T,location:oe.location,delta:0})}function ae(re){return mT(re)}let oe={get action(){return T},get location(){return i(c,E)},listen(re){if(S)throw new Error("A history only accepts one active listener");return c.addEventListener(V2,M),S=re,()=>{c.removeEventListener(V2,M),S=null}},createHref(re){return e(c,re)},createURL:ae,encodeLocation(re){let ve=ae(re);return{pathname:ve.pathname,search:ve.search,hash:ve.hash}},push:U,replace:W,go(re){return E.go(re)}};return oe}function mT(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Mn(t,"No window.location.(origin|href) available to create URL");let a=typeof i=="string"?i:hc(i);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=t+a),new URL(a,t)}function zE(i,e,t="/"){return pT(i,e,t,!1)}function pT(i,e,t,a){let c=typeof e=="string"?Zl(e):e,d=la(c.pathname||"/",t);if(d==null)return null;let E=HE(i);yT(E);let T=null;for(let S=0;T==null&&S<E.length;++S){let x=bT(d);T=vT(E[S],x,a)}return T}function HE(i,e=[],t=[],a="",c=!1){let d=(E,T,S=c,x)=>{let I={relativePath:x===void 0?E.path||"":x,caseSensitive:E.caseSensitive===!0,childrenIndex:T,route:E};if(I.relativePath.startsWith("/")){if(!I.relativePath.startsWith(a)&&S)return;Mn(I.relativePath.startsWith(a),`Absolute route path "${I.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),I.relativePath=I.relativePath.slice(a.length)}let M=aa([a,I.relativePath]),U=t.concat(I);E.children&&E.children.length>0&&(Mn(E.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${M}".`),HE(E.children,e,U,M,S)),!(E.path==null&&!E.index)&&e.push({path:M,score:CT(M,E.index),routesMeta:U})};return i.forEach((E,T)=>{if(E.path===""||!E.path?.includes("?"))d(E,T);else for(let S of jE(E.path))d(E,T,!0,S)}),e}function jE(i){let e=i.split("/");if(e.length===0)return[];let[t,...a]=e,c=t.endsWith("?"),d=t.replace(/\?$/,"");if(a.length===0)return c?[d,""]:[d];let E=jE(a.join("/")),T=[];return T.push(...E.map(S=>S===""?d:[d,S].join("/"))),c&&T.push(...E),T.map(S=>i.startsWith("/")&&S===""?"/":S)}function yT(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:ST(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var ET=/^:[\w-]+$/,_T=3,AT=2,xT=1,wT=10,TT=-2,F2=i=>i==="*";function CT(i,e){let t=i.split("/"),a=t.length;return t.some(F2)&&(a+=TT),e&&(a+=AT),t.filter(c=>!F2(c)).reduce((c,d)=>c+(ET.test(d)?_T:d===""?xT:wT),a)}function ST(i,e){return i.length===e.length&&i.slice(0,-1).every((a,c)=>a===e[c])?i[i.length-1]-e[e.length-1]:0}function vT(i,e,t=!1){let{routesMeta:a}=i,c={},d="/",E=[];for(let T=0;T<a.length;++T){let S=a[T],x=T===a.length-1,I=d==="/"?e:e.slice(d.length)||"/",M=sf({path:S.relativePath,caseSensitive:S.caseSensitive,end:x},I),U=S.route;if(!M&&x&&t&&!a[a.length-1].route.index&&(M=sf({path:S.relativePath,caseSensitive:S.caseSensitive,end:!1},I)),!M)return null;Object.assign(c,M.params),E.push({params:c,pathname:aa([d,M.pathname]),pathnameBase:OT(aa([d,M.pathnameBase])),route:U}),M.pathnameBase!=="/"&&(d=aa([d,M.pathnameBase]))}return E}function sf(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,a]=IT(i.path,i.caseSensitive,i.end),c=e.match(t);if(!c)return null;let d=c[0],E=d.replace(/(.)\/+$/,"$1"),T=c.slice(1);return{params:a.reduce((x,{paramName:I,isOptional:M},U)=>{if(I==="*"){let ae=T[U]||"";E=d.slice(0,d.length-ae.length).replace(/(.)\/+$/,"$1")}const W=T[U];return M&&!W?x[I]=void 0:x[I]=(W||"").replace(/%2F/g,"/"),x},{}),pathname:d,pathnameBase:E,pattern:i}}function IT(i,e=!1,t=!0){os(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],c="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(E,T,S)=>(a.push({paramName:T,isOptional:S!=null}),S?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(a.push({paramName:"*"}),c+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?c+="\\/*$":i!==""&&i!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,e?void 0:"i"),a]}function bT(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return os(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function la(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=i.charAt(t);return a&&a!=="/"?null:i.slice(t)||"/"}function RT(i,e="/"){let{pathname:t,search:a="",hash:c=""}=typeof i=="string"?Zl(i):i;return{pathname:t?t.startsWith("/")?t:NT(t,e):e,search:MT(a),hash:LT(c)}}function NT(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(c=>{c===".."?t.length>1&&t.pop():c!=="."&&t.push(c)}),t.length>1?t.join("/"):"/"}function Y1(i,e,t,a){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DT(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function V0(i){let e=DT(i);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function U0(i,e,t,a=!1){let c;typeof i=="string"?c=Zl(i):(c={...i},Mn(!c.pathname||!c.pathname.includes("?"),Y1("?","pathname","search",c)),Mn(!c.pathname||!c.pathname.includes("#"),Y1("#","pathname","hash",c)),Mn(!c.search||!c.search.includes("#"),Y1("#","search","hash",c)));let d=i===""||c.pathname==="",E=d?"/":c.pathname,T;if(E==null)T=t;else{let M=e.length-1;if(!a&&E.startsWith("..")){let U=E.split("/");for(;U[0]==="..";)U.shift(),M-=1;c.pathname=U.join("/")}T=M>=0?e[M]:"/"}let S=RT(c,T),x=E&&E!=="/"&&E.endsWith("/"),I=(d||E===".")&&t.endsWith("/");return!S.pathname.endsWith("/")&&(x||I)&&(S.pathname+="/"),S}var aa=i=>i.join("/").replace(/\/\/+/g,"/"),OT=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),MT=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,LT=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function PT(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var GE=["POST","PUT","PATCH","DELETE"];new Set(GE);var BT=["GET",...GE];new Set(BT);var Jl=ye.createContext(null);Jl.displayName="DataRouter";var Df=ye.createContext(null);Df.displayName="DataRouterState";ye.createContext(!1);var qE=ye.createContext({isTransitioning:!1});qE.displayName="ViewTransition";var kT=ye.createContext(new Map);kT.displayName="Fetchers";var VT=ye.createContext(null);VT.displayName="Await";var cs=ye.createContext(null);cs.displayName="Navigation";var Tc=ye.createContext(null);Tc.displayName="Location";var Ms=ye.createContext({outlet:null,matches:[],isDataRoute:!1});Ms.displayName="Route";var F0=ye.createContext(null);F0.displayName="RouteError";function UT(i,{relative:e}={}){Mn($l(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=ye.useContext(cs),{hash:c,pathname:d,search:E}=Sc(i,{relative:e}),T=d;return t!=="/"&&(T=d==="/"?t:aa([t,d])),a.createHref({pathname:T,search:E,hash:c})}function $l(){return ye.useContext(Tc)!=null}function Eo(){return Mn($l(),"useLocation() may be used only in the context of a <Router> component."),ye.useContext(Tc).location}var YE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function XE(i){ye.useContext(cs).static||ye.useLayoutEffect(i)}function Cc(){let{isDataRoute:i}=ye.useContext(Ms);return i?JT():FT()}function FT(){Mn($l(),"useNavigate() may be used only in the context of a <Router> component.");let i=ye.useContext(Jl),{basename:e,navigator:t}=ye.useContext(cs),{matches:a}=ye.useContext(Ms),{pathname:c}=Eo(),d=JSON.stringify(V0(a)),E=ye.useRef(!1);return XE(()=>{E.current=!0}),ye.useCallback((S,x={})=>{if(os(E.current,YE),!E.current)return;if(typeof S=="number"){t.go(S);return}let I=U0(S,JSON.parse(d),c,x.relative==="path");i==null&&e!=="/"&&(I.pathname=I.pathname==="/"?e:aa([e,I.pathname])),(x.replace?t.replace:t.push)(I,x.state,x)},[e,t,d,c,i])}ye.createContext(null);function Sc(i,{relative:e}={}){let{matches:t}=ye.useContext(Ms),{pathname:a}=Eo(),c=JSON.stringify(V0(t));return ye.useMemo(()=>U0(i,JSON.parse(c),a,e==="path"),[i,c,a,e])}function zT(i,e){return WE(i,e)}function WE(i,e,t,a,c){Mn($l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=ye.useContext(cs),{matches:E}=ye.useContext(Ms),T=E[E.length-1],S=T?T.params:{},x=T?T.pathname:"/",I=T?T.pathnameBase:"/",M=T&&T.route;{let me=M&&M.path||"";QE(x,!M||me.endsWith("*")||me.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${me}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${me}"> to <Route path="${me==="/"?"*":`${me}/*`}">.`)}let U=Eo(),W;if(e){let me=typeof e=="string"?Zl(e):e;Mn(I==="/"||me.pathname?.startsWith(I),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${I}" but pathname "${me.pathname}" was given in the \`location\` prop.`),W=me}else W=U;let ae=W.pathname||"/",oe=ae;if(I!=="/"){let me=I.replace(/^\//,"").split("/");oe="/"+ae.replace(/^\//,"").split("/").slice(me.length).join("/")}let re=zE(i,{pathname:oe});os(M||re!=null,`No routes matched location "${W.pathname}${W.search}${W.hash}" `),os(re==null||re[re.length-1].route.element!==void 0||re[re.length-1].route.Component!==void 0||re[re.length-1].route.lazy!==void 0,`Matched leaf route at location "${W.pathname}${W.search}${W.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ve=YT(re&&re.map(me=>Object.assign({},me,{params:Object.assign({},S,me.params),pathname:aa([I,d.encodeLocation?d.encodeLocation(me.pathname).pathname:me.pathname]),pathnameBase:me.pathnameBase==="/"?I:aa([I,d.encodeLocation?d.encodeLocation(me.pathnameBase).pathname:me.pathnameBase])})),E,t,a,c);return e&&ve?ye.createElement(Tc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...W},navigationType:"POP"}},ve):ve}function HT(){let i=ZT(),e=PT(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:a},d={padding:"2px 4px",backgroundColor:a},E=null;return console.error("Error handled by React Router default ErrorBoundary:",i),E=ye.createElement(ye.Fragment,null,ye.createElement("p",null,"💿 Hey developer 👋"),ye.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ye.createElement("code",{style:d},"ErrorBoundary")," or"," ",ye.createElement("code",{style:d},"errorElement")," prop on your route.")),ye.createElement(ye.Fragment,null,ye.createElement("h2",null,"Unexpected Application Error!"),ye.createElement("h3",{style:{fontStyle:"italic"}},e),t?ye.createElement("pre",{style:c},t):null,E)}var jT=ye.createElement(HT,null),GT=class extends ye.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?ye.createElement(Ms.Provider,{value:this.props.routeContext},ye.createElement(F0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qT({routeContext:i,match:e,children:t}){let a=ye.useContext(Jl);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),ye.createElement(Ms.Provider,{value:i},t)}function YT(i,e=[],t=null,a=null,c=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let d=i,E=t?.errors;if(E!=null){let x=d.findIndex(I=>I.route.id&&E?.[I.route.id]!==void 0);Mn(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(E).join(",")}`),d=d.slice(0,Math.min(d.length,x+1))}let T=!1,S=-1;if(t)for(let x=0;x<d.length;x++){let I=d[x];if((I.route.HydrateFallback||I.route.hydrateFallbackElement)&&(S=x),I.route.id){let{loaderData:M,errors:U}=t,W=I.route.loader&&!M.hasOwnProperty(I.route.id)&&(!U||U[I.route.id]===void 0);if(I.route.lazy||W){T=!0,S>=0?d=d.slice(0,S+1):d=[d[0]];break}}}return d.reduceRight((x,I,M)=>{let U,W=!1,ae=null,oe=null;t&&(U=E&&I.route.id?E[I.route.id]:void 0,ae=I.route.errorElement||jT,T&&(S<0&&M===0?(QE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),W=!0,oe=null):S===M&&(W=!0,oe=I.route.hydrateFallbackElement||null)));let re=e.concat(d.slice(0,M+1)),ve=()=>{let me;return U?me=ae:W?me=oe:I.route.Component?me=ye.createElement(I.route.Component,null):I.route.element?me=I.route.element:me=x,ye.createElement(qT,{match:I,routeContext:{outlet:x,matches:re,isDataRoute:t!=null},children:me})};return t&&(I.route.ErrorBoundary||I.route.errorElement||M===0)?ye.createElement(GT,{location:t.location,revalidation:t.revalidation,component:ae,error:U,children:ve(),routeContext:{outlet:null,matches:re,isDataRoute:!0},unstable_onError:a}):ve()},null)}function z0(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XT(i){let e=ye.useContext(Jl);return Mn(e,z0(i)),e}function WT(i){let e=ye.useContext(Df);return Mn(e,z0(i)),e}function QT(i){let e=ye.useContext(Ms);return Mn(e,z0(i)),e}function H0(i){let e=QT(i),t=e.matches[e.matches.length-1];return Mn(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function KT(){return H0("useRouteId")}function ZT(){let i=ye.useContext(F0),e=WT("useRouteError"),t=H0("useRouteError");return i!==void 0?i:e.errors?.[t]}function JT(){let{router:i}=XT("useNavigate"),e=H0("useNavigate"),t=ye.useRef(!1);return XE(()=>{t.current=!0}),ye.useCallback(async(c,d={})=>{os(t.current,YE),t.current&&(typeof c=="number"?i.navigate(c):await i.navigate(c,{fromRouteId:e,...d}))},[i,e])}var z2={};function QE(i,e,t){!e&&!z2[i]&&(z2[i]=!0,os(!1,t))}ye.memo($T);function $T({routes:i,future:e,state:t,unstable_onError:a}){return WE(i,void 0,t,a,e)}function eC({to:i,replace:e,state:t,relative:a}){Mn($l(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=ye.useContext(cs);os(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=ye.useContext(Ms),{pathname:E}=Eo(),T=Cc(),S=U0(i,V0(d),E,a==="path"),x=JSON.stringify(S);return ye.useEffect(()=>{T(JSON.parse(x),{replace:e,state:t,relative:a})},[T,x,a,e,t]),null}function o0(i){Mn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tC({basename:i="/",children:e=null,location:t,navigationType:a="POP",navigator:c,static:d=!1}){Mn(!$l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let E=i.replace(/^\/*/,"/"),T=ye.useMemo(()=>({basename:E,navigator:c,static:d,future:{}}),[E,c,d]);typeof t=="string"&&(t=Zl(t));let{pathname:S="/",search:x="",hash:I="",state:M=null,key:U="default"}=t,W=ye.useMemo(()=>{let ae=la(S,E);return ae==null?null:{location:{pathname:ae,search:x,hash:I,state:M,key:U},navigationType:a}},[E,S,x,I,M,U,a]);return os(W!=null,`<Router basename="${E}"> is not able to match the URL "${S}${x}${I}" because it does not start with the basename, so the <Router> won't render anything.`),W==null?null:ye.createElement(cs.Provider,{value:T},ye.createElement(Tc.Provider,{children:e,value:W}))}function nC({children:i,location:e}){return zT(l0(i),e)}function l0(i,e=[]){let t=[];return ye.Children.forEach(i,(a,c)=>{if(!ye.isValidElement(a))return;let d=[...e,c];if(a.type===ye.Fragment){t.push.apply(t,l0(a.props.children,d));return}Mn(a.type===o0,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mn(!a.props.index||!a.props.children,"An index route cannot have child routes.");let E={id:a.props.id||d.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(E.children=l0(a.props.children,d)),t.push(E)}),t}var Yh="get",Xh="application/x-www-form-urlencoded";function Of(i){return i!=null&&typeof i.tagName=="string"}function rC(i){return Of(i)&&i.tagName.toLowerCase()==="button"}function iC(i){return Of(i)&&i.tagName.toLowerCase()==="form"}function sC(i){return Of(i)&&i.tagName.toLowerCase()==="input"}function aC(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function oC(i,e){return i.button===0&&(!e||e==="_self")&&!aC(i)}var Uh=null;function lC(){if(Uh===null)try{new FormData(document.createElement("form"),0),Uh=!1}catch{Uh=!0}return Uh}var uC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function X1(i){return i!=null&&!uC.has(i)?(os(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xh}"`),null):i}function cC(i,e){let t,a,c,d,E;if(iC(i)){let T=i.getAttribute("action");a=T?la(T,e):null,t=i.getAttribute("method")||Yh,c=X1(i.getAttribute("enctype"))||Xh,d=new FormData(i)}else if(rC(i)||sC(i)&&(i.type==="submit"||i.type==="image")){let T=i.form;if(T==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let S=i.getAttribute("formaction")||T.getAttribute("action");if(a=S?la(S,e):null,t=i.getAttribute("formmethod")||T.getAttribute("method")||Yh,c=X1(i.getAttribute("formenctype"))||X1(T.getAttribute("enctype"))||Xh,d=new FormData(T,i),!lC()){let{name:x,type:I,value:M}=i;if(I==="image"){let U=x?`${x}.`:"";d.append(`${U}x`,"0"),d.append(`${U}y`,"0")}else x&&d.append(x,M)}}else{if(Of(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Yh,a=null,c=Xh,E=i}return d&&c==="text/plain"&&(E=d,d=void 0),{action:a,method:t.toLowerCase(),encType:c,formData:d,body:E}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function j0(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function hC(i,e,t){let a=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return a.pathname==="/"?a.pathname=`_root.${t}`:e&&la(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${t}`,a}async function fC(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dC(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function gC(i,e,t){let a=await Promise.all(i.map(async c=>{let d=e.routes[c.route.id];if(d){let E=await fC(d,t);return E.links?E.links():[]}return[]}));return EC(a.flat(1).filter(dC).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function H2(i,e,t,a,c,d){let E=(S,x)=>t[x]?S.route.id!==t[x].route.id:!0,T=(S,x)=>t[x].pathname!==S.pathname||t[x].route.path?.endsWith("*")&&t[x].params["*"]!==S.params["*"];return d==="assets"?e.filter((S,x)=>E(S,x)||T(S,x)):d==="data"?e.filter((S,x)=>{let I=a.routes[S.route.id];if(!I||!I.hasLoader)return!1;if(E(S,x)||T(S,x))return!0;if(S.route.shouldRevalidate){let M=S.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:S.params,defaultShouldRevalidate:!0});if(typeof M=="boolean")return M}return!0}):[]}function mC(i,e,{includeHydrateFallback:t}={}){return pC(i.map(a=>{let c=e.routes[a.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),t&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function pC(i){return[...new Set(i)]}function yC(i){let e={},t=Object.keys(i).sort();for(let a of t)e[a]=i[a];return e}function EC(i,e){let t=new Set;return new Set(e),i.reduce((a,c)=>{let d=JSON.stringify(yC(c));return t.has(d)||(t.add(d),a.push({key:d,link:c})),a},[])}function KE(){let i=ye.useContext(Jl);return j0(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function _C(){let i=ye.useContext(Df);return j0(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var G0=ye.createContext(void 0);G0.displayName="FrameworkContext";function ZE(){let i=ye.useContext(G0);return j0(i,"You must render this element inside a <HydratedRouter> element"),i}function AC(i,e){let t=ye.useContext(G0),[a,c]=ye.useState(!1),[d,E]=ye.useState(!1),{onFocus:T,onBlur:S,onMouseEnter:x,onMouseLeave:I,onTouchStart:M}=e,U=ye.useRef(null);ye.useEffect(()=>{if(i==="render"&&E(!0),i==="viewport"){let oe=ve=>{ve.forEach(me=>{E(me.isIntersecting)})},re=new IntersectionObserver(oe,{threshold:.5});return U.current&&re.observe(U.current),()=>{re.disconnect()}}},[i]),ye.useEffect(()=>{if(a){let oe=setTimeout(()=>{E(!0)},100);return()=>{clearTimeout(oe)}}},[a]);let W=()=>{c(!0)},ae=()=>{c(!1),E(!1)};return t?i!=="intent"?[d,U,{}]:[d,U,{onFocus:Zu(T,W),onBlur:Zu(S,ae),onMouseEnter:Zu(x,W),onMouseLeave:Zu(I,ae),onTouchStart:Zu(M,W)}]:[!1,U,{}]}function Zu(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function xC({page:i,...e}){let{router:t}=KE(),a=ye.useMemo(()=>zE(t.routes,i,t.basename),[t.routes,i,t.basename]);return a?ye.createElement(TC,{page:i,matches:a,...e}):null}function wC(i){let{manifest:e,routeModules:t}=ZE(),[a,c]=ye.useState([]);return ye.useEffect(()=>{let d=!1;return gC(i,e,t).then(E=>{d||c(E)}),()=>{d=!0}},[i,e,t]),a}function TC({page:i,matches:e,...t}){let a=Eo(),{manifest:c,routeModules:d}=ZE(),{basename:E}=KE(),{loaderData:T,matches:S}=_C(),x=ye.useMemo(()=>H2(i,e,S,c,a,"data"),[i,e,S,c,a]),I=ye.useMemo(()=>H2(i,e,S,c,a,"assets"),[i,e,S,c,a]),M=ye.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let ae=new Set,oe=!1;if(e.forEach(ve=>{let me=c.routes[ve.route.id];!me||!me.hasLoader||(!x.some(pe=>pe.route.id===ve.route.id)&&ve.route.id in T&&d[ve.route.id]?.shouldRevalidate||me.hasClientLoader?oe=!0:ae.add(ve.route.id))}),ae.size===0)return[];let re=hC(i,E,"data");return oe&&ae.size>0&&re.searchParams.set("_routes",e.filter(ve=>ae.has(ve.route.id)).map(ve=>ve.route.id).join(",")),[re.pathname+re.search]},[E,T,a,c,x,e,i,d]),U=ye.useMemo(()=>mC(I,c),[I,c]),W=wC(I);return ye.createElement(ye.Fragment,null,M.map(ae=>ye.createElement("link",{key:ae,rel:"prefetch",as:"fetch",href:ae,...t})),U.map(ae=>ye.createElement("link",{key:ae,rel:"modulepreload",href:ae,...t})),W.map(({key:ae,link:oe})=>ye.createElement("link",{key:ae,nonce:t.nonce,...oe})))}function CC(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var JE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JE&&(window.__reactRouterVersion="7.8.2")}catch{}function SC({basename:i,children:e,window:t}){let a=ye.useRef();a.current==null&&(a.current=fT({window:t,v5Compat:!0}));let c=a.current,[d,E]=ye.useState({action:c.action,location:c.location}),T=ye.useCallback(S=>{ye.startTransition(()=>E(S))},[E]);return ye.useLayoutEffect(()=>c.listen(T),[c,T]),ye.createElement(tC,{basename:i,children:e,location:d.location,navigationType:d.action,navigator:c})}var $E=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,af=ye.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:c,reloadDocument:d,replace:E,state:T,target:S,to:x,preventScrollReset:I,viewTransition:M,...U},W){let{basename:ae}=ye.useContext(cs),oe=typeof x=="string"&&$E.test(x),re,ve=!1;if(typeof x=="string"&&oe&&(re=x,JE))try{let k=new URL(window.location.href),Z=x.startsWith("//")?new URL(k.protocol+x):new URL(x),K=la(Z.pathname,ae);Z.origin===k.origin&&K!=null?x=K+Z.search+Z.hash:ve=!0}catch{os(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let me=UT(x,{relative:c}),[pe,Be,Ge]=AC(a,U),qe=RC(x,{replace:E,state:T,target:S,preventScrollReset:I,relative:c,viewTransition:M});function H(k){e&&e(k),k.defaultPrevented||qe(k)}let z=ye.createElement("a",{...U,...Ge,href:re||me,onClick:ve||d?e:H,ref:CC(W,Be),target:S,"data-discover":!oe&&t==="render"?"true":void 0});return pe&&!oe?ye.createElement(ye.Fragment,null,z,ye.createElement(xC,{page:me})):z});af.displayName="Link";var vC=ye.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:c=!1,style:d,to:E,viewTransition:T,children:S,...x},I){let M=Sc(E,{relative:x.relative}),U=Eo(),W=ye.useContext(Df),{navigator:ae,basename:oe}=ye.useContext(cs),re=W!=null&&LC(M)&&T===!0,ve=ae.encodeLocation?ae.encodeLocation(M).pathname:M.pathname,me=U.pathname,pe=W&&W.navigation&&W.navigation.location?W.navigation.location.pathname:null;t||(me=me.toLowerCase(),pe=pe?pe.toLowerCase():null,ve=ve.toLowerCase()),pe&&oe&&(pe=la(pe,oe)||pe);const Be=ve!=="/"&&ve.endsWith("/")?ve.length-1:ve.length;let Ge=me===ve||!c&&me.startsWith(ve)&&me.charAt(Be)==="/",qe=pe!=null&&(pe===ve||!c&&pe.startsWith(ve)&&pe.charAt(ve.length)==="/"),H={isActive:Ge,isPending:qe,isTransitioning:re},z=Ge?e:void 0,k;typeof a=="function"?k=a(H):k=[a,Ge?"active":null,qe?"pending":null,re?"transitioning":null].filter(Boolean).join(" ");let Z=typeof d=="function"?d(H):d;return ye.createElement(af,{...x,"aria-current":z,className:k,ref:I,style:Z,to:E,viewTransition:T},typeof S=="function"?S(H):S)});vC.displayName="NavLink";var IC=ye.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:c,state:d,method:E=Yh,action:T,onSubmit:S,relative:x,preventScrollReset:I,viewTransition:M,...U},W)=>{let ae=OC(),oe=MC(T,{relative:x}),re=E.toLowerCase()==="get"?"get":"post",ve=typeof T=="string"&&$E.test(T),me=pe=>{if(S&&S(pe),pe.defaultPrevented)return;pe.preventDefault();let Be=pe.nativeEvent.submitter,Ge=Be?.getAttribute("formmethod")||E;ae(Be||pe.currentTarget,{fetcherKey:e,method:Ge,navigate:t,replace:c,state:d,relative:x,preventScrollReset:I,viewTransition:M})};return ye.createElement("form",{ref:W,method:re,action:oe,onSubmit:a?S:me,...U,"data-discover":!ve&&i==="render"?"true":void 0})});IC.displayName="Form";function bC(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function e_(i){let e=ye.useContext(Jl);return Mn(e,bC(i)),e}function RC(i,{target:e,replace:t,state:a,preventScrollReset:c,relative:d,viewTransition:E}={}){let T=Cc(),S=Eo(),x=Sc(i,{relative:d});return ye.useCallback(I=>{if(oC(I,e)){I.preventDefault();let M=t!==void 0?t:hc(S)===hc(x);T(i,{replace:M,state:a,preventScrollReset:c,relative:d,viewTransition:E})}},[S,T,x,t,a,e,i,c,d,E])}var NC=0,DC=()=>`__${String(++NC)}__`;function OC(){let{router:i}=e_("useSubmit"),{basename:e}=ye.useContext(cs),t=KT();return ye.useCallback(async(a,c={})=>{let{action:d,method:E,encType:T,formData:S,body:x}=cC(a,e);if(c.navigate===!1){let I=c.fetcherKey||DC();await i.fetch(I,t,c.action||d,{preventScrollReset:c.preventScrollReset,formData:S,body:x,formMethod:c.method||E,formEncType:c.encType||T,flushSync:c.flushSync})}else await i.navigate(c.action||d,{preventScrollReset:c.preventScrollReset,formData:S,body:x,formMethod:c.method||E,formEncType:c.encType||T,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,e,t])}function MC(i,{relative:e}={}){let{basename:t}=ye.useContext(cs),a=ye.useContext(Ms);Mn(a,"useFormAction must be used inside a RouteContext");let[c]=a.matches.slice(-1),d={...Sc(i||".",{relative:e})},E=Eo();if(i==null){d.search=E.search;let T=new URLSearchParams(d.search),S=T.getAll("index");if(S.some(I=>I==="")){T.delete("index"),S.filter(M=>M).forEach(M=>T.append("index",M));let I=T.toString();d.search=I?`?${I}`:""}}return(!i||i===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(d.pathname=d.pathname==="/"?t:aa([t,d.pathname])),hc(d)}function LC(i,{relative:e}={}){let t=ye.useContext(qE);Mn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=e_("useViewTransitionState"),c=Sc(i,{relative:e});if(!t.isTransitioning)return!1;let d=la(t.currentLocation.pathname,a)||t.currentLocation.pathname,E=la(t.nextLocation.pathname,a)||t.nextLocation.pathname;return sf(c.pathname,E)!=null||sf(c.pathname,d)!=null}const t_=ye.createContext(),PC=({children:i})=>{const e={setSelectedCanteen:()=>{},setCart:()=>{}};return je.jsx(t_.Provider,{value:e,children:i})},BC=()=>{};var j2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=function(i){const e=[];let t=0;for(let a=0;a<i.length;a++){let c=i.charCodeAt(a);c<128?e[t++]=c:c<2048?(e[t++]=c>>6|192,e[t++]=c&63|128):(c&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(c=65536+((c&1023)<<10)+(i.charCodeAt(++a)&1023),e[t++]=c>>18|240,e[t++]=c>>12&63|128,e[t++]=c>>6&63|128,e[t++]=c&63|128):(e[t++]=c>>12|224,e[t++]=c>>6&63|128,e[t++]=c&63|128)}return e},kC=function(i){const e=[];let t=0,a=0;for(;t<i.length;){const c=i[t++];if(c<128)e[a++]=String.fromCharCode(c);else if(c>191&&c<224){const d=i[t++];e[a++]=String.fromCharCode((c&31)<<6|d&63)}else if(c>239&&c<365){const d=i[t++],E=i[t++],T=i[t++],S=((c&7)<<18|(d&63)<<12|(E&63)<<6|T&63)-65536;e[a++]=String.fromCharCode(55296+(S>>10)),e[a++]=String.fromCharCode(56320+(S&1023))}else{const d=i[t++],E=i[t++];e[a++]=String.fromCharCode((c&15)<<12|(d&63)<<6|E&63)}}return e.join("")},r_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let c=0;c<i.length;c+=3){const d=i[c],E=c+1<i.length,T=E?i[c+1]:0,S=c+2<i.length,x=S?i[c+2]:0,I=d>>2,M=(d&3)<<4|T>>4;let U=(T&15)<<2|x>>6,W=x&63;S||(W=64,E||(U=64)),a.push(t[I],t[M],t[U],t[W])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(n_(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):kC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let c=0;c<i.length;){const d=t[i.charAt(c++)],T=c<i.length?t[i.charAt(c)]:0;++c;const x=c<i.length?t[i.charAt(c)]:64;++c;const M=c<i.length?t[i.charAt(c)]:64;if(++c,d==null||T==null||x==null||M==null)throw new VC;const U=d<<2|T>>4;if(a.push(U),x!==64){const W=T<<4&240|x>>2;if(a.push(W),M!==64){const ae=x<<6&192|M;a.push(ae)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class VC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UC=function(i){const e=n_(i);return r_.encodeByteArray(e,!0)},of=function(i){return UC(i).replace(/\./g,"")},i_=function(i){try{return r_.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=()=>FC().__FIREBASE_DEFAULTS__,HC=()=>{if(typeof process>"u"||typeof j2>"u")return;const i=j2.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},jC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&i_(i[1]);return e&&JSON.parse(e)},Mf=()=>{try{return BC()||zC()||HC()||jC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},s_=i=>Mf()?.emulatorHosts?.[i],GC=i=>{const e=s_(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},a_=()=>Mf()?.config,o_=i=>Mf()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function l_(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",c=i.iat||0,d=i.sub||i.user_id;if(!d)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const E={iss:`https://securetoken.google.com/${a}`,aud:a,iat:c,exp:c+3600,auth_time:c,sub:d,user_id:d,firebase:{sign_in_provider:"custom",identities:{}},...i};return[of(JSON.stringify(t)),of(JSON.stringify(E)),""].join(".")}const sc={};function XC(){const i={prod:[],emulator:[]};for(const e of Object.keys(sc))sc[e]?i.emulator.push(e):i.prod.push(e);return i}function WC(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let G2=!1;function u_(i,e){if(typeof window>"u"||typeof document>"u"||!eu(window.location.host)||sc[i]===e||sc[i]||G2)return;sc[i]=e;function t(U){return`__firebase__banner__${U}`}const a="__firebase__banner",d=XC().prod.length>0;function E(){const U=document.getElementById(a);U&&U.remove()}function T(U){U.style.display="flex",U.style.background="#7faaf0",U.style.position="fixed",U.style.bottom="5px",U.style.left="5px",U.style.padding=".5em",U.style.borderRadius="5px",U.style.alignItems="center"}function S(U,W){U.setAttribute("width","24"),U.setAttribute("id",W),U.setAttribute("height","24"),U.setAttribute("viewBox","0 0 24 24"),U.setAttribute("fill","none"),U.style.marginLeft="-6px"}function x(){const U=document.createElement("span");return U.style.cursor="pointer",U.style.marginLeft="16px",U.style.fontSize="24px",U.innerHTML=" &times;",U.onclick=()=>{G2=!0,E()},U}function I(U,W){U.setAttribute("id",W),U.innerText="Learn more",U.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",U.setAttribute("target","__blank"),U.style.paddingLeft="5px",U.style.textDecoration="underline"}function M(){const U=WC(a),W=t("text"),ae=document.getElementById(W)||document.createElement("span"),oe=t("learnmore"),re=document.getElementById(oe)||document.createElement("a"),ve=t("preprendIcon"),me=document.getElementById(ve)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(U.created){const pe=U.element;T(pe),I(re,oe);const Be=x();S(me,ve),pe.append(me,ae,re,Be),document.body.appendChild(pe)}d?(ae.innerText="Preview backend disconnected.",me.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(me.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ae.innerText="Preview backend running in this workspace."),ae.setAttribute("id",W)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",M):M()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qr())}function KC(){const i=Mf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function $C(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eS(){const i=qr();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function tS(){return!KC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nS(){try{return typeof indexedDB=="object"}catch{return!1}}function rS(){return new Promise((i,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(a);c.onsuccess=()=>{c.result.close(),t||self.indexedDB.deleteDatabase(a),i(!0)},c.onupgradeneeded=()=>{t=!1},c.onerror=()=>{e(c.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="FirebaseError";class da extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=iS,Object.setPrototypeOf(this,da.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vc.prototype.create)}}class vc{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},c=`${this.service}/${e}`,d=this.errors[e],E=d?sS(d,a):"Error",T=`${this.serviceName}: ${E} (${c}).`;return new da(c,T,a)}}function sS(i,e){return i.replace(aS,(t,a)=>{const c=e[a];return c!=null?String(c):`<${a}?>`})}const aS=/\{\$([^}]+)}/g;function oS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ho(i,e){if(i===e)return!0;const t=Object.keys(i),a=Object.keys(e);for(const c of t){if(!a.includes(c))return!1;const d=i[c],E=e[c];if(q2(d)&&q2(E)){if(!Ho(d,E))return!1}else if(d!==E)return!1}for(const c of a)if(!t.includes(c))return!1;return!0}function q2(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(i){const e=[];for(const[t,a]of Object.entries(i))Array.isArray(a)?a.forEach(c=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(c))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Ju(i){const e={};return i.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[c,d]=a.split("=");e[decodeURIComponent(c)]=decodeURIComponent(d)}}),e}function $u(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function lS(i,e){const t=new uS(i,e);return t.subscribe.bind(t)}class uS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let c;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");cS(e,["next","error","complete"])?c=e:c={next:e,error:t,complete:a},c.next===void 0&&(c.next=W1),c.error===void 0&&(c.error=W1),c.complete===void 0&&(c.complete=W1);const d=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?c.error(this.finalError):c.complete()}catch{}}),this.observers.push(c),d}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cS(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function W1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(i){return i&&i._delegate?i._delegate:i}class jo{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new qC;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:t});c&&a.resolve(c)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dS(e))try{this.getOrInitializeService({instanceIdentifier:Uo})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(t);try{const d=this.getOrInitializeService({instanceIdentifier:c});a.resolve(d)}catch{}}}}clearInstance(e=Uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Uo){return this.instances.has(e)}getOptions(e=Uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[d,E]of this.instancesDeferred.entries()){const T=this.normalizeInstanceIdentifier(d);a===T&&E.resolve(c)}return c}onInit(e,t){const a=this.normalizeInstanceIdentifier(t),c=this.onInitCallbacks.get(a)??new Set;c.add(e),this.onInitCallbacks.set(a,c);const d=this.instances.get(a);return d&&e(d,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const c of a)try{c(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:fS(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Uo){return this.component?this.component.multipleInstances?e:Uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fS(i){return i===Uo?void 0:i}function dS(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new hS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Nt||(Nt={}));const mS={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},pS=Nt.INFO,yS={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},ES=(i,e,...t)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),c=yS[e];if(c)console[c](`[${a}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class q0{constructor(e){this.name=e,this._logLevel=pS,this._logHandler=ES,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...e),this._logHandler(this,Nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...e),this._logHandler(this,Nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...e),this._logHandler(this,Nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...e),this._logHandler(this,Nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...e),this._logHandler(this,Nt.ERROR,...e)}}const _S=(i,e)=>e.some(t=>i instanceof t);let Y2,X2;function AS(){return Y2||(Y2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xS(){return X2||(X2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c_=new WeakMap,u0=new WeakMap,h_=new WeakMap,Q1=new WeakMap,Y0=new WeakMap;function wS(i){const e=new Promise((t,a)=>{const c=()=>{i.removeEventListener("success",d),i.removeEventListener("error",E)},d=()=>{t(no(i.result)),c()},E=()=>{a(i.error),c()};i.addEventListener("success",d),i.addEventListener("error",E)});return e.then(t=>{t instanceof IDBCursor&&c_.set(t,i)}).catch(()=>{}),Y0.set(e,i),e}function TS(i){if(u0.has(i))return;const e=new Promise((t,a)=>{const c=()=>{i.removeEventListener("complete",d),i.removeEventListener("error",E),i.removeEventListener("abort",E)},d=()=>{t(),c()},E=()=>{a(i.error||new DOMException("AbortError","AbortError")),c()};i.addEventListener("complete",d),i.addEventListener("error",E),i.addEventListener("abort",E)});u0.set(i,e)}let c0={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return u0.get(i);if(e==="objectStoreNames")return i.objectStoreNames||h_.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return no(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function CS(i){c0=i(c0)}function SS(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=i.call(K1(this),e,...t);return h_.set(a,e.sort?e.sort():[e]),no(a)}:xS().includes(i)?function(...e){return i.apply(K1(this),e),no(c_.get(this))}:function(...e){return no(i.apply(K1(this),e))}}function vS(i){return typeof i=="function"?SS(i):(i instanceof IDBTransaction&&TS(i),_S(i,AS())?new Proxy(i,c0):i)}function no(i){if(i instanceof IDBRequest)return wS(i);if(Q1.has(i))return Q1.get(i);const e=vS(i);return e!==i&&(Q1.set(i,e),Y0.set(e,i)),e}const K1=i=>Y0.get(i);function IS(i,e,{blocked:t,upgrade:a,blocking:c,terminated:d}={}){const E=indexedDB.open(i,e),T=no(E);return a&&E.addEventListener("upgradeneeded",S=>{a(no(E.result),S.oldVersion,S.newVersion,no(E.transaction),S)}),t&&E.addEventListener("blocked",S=>t(S.oldVersion,S.newVersion,S)),T.then(S=>{d&&S.addEventListener("close",()=>d()),c&&S.addEventListener("versionchange",x=>c(x.oldVersion,x.newVersion,x))}).catch(()=>{}),T}const bS=["get","getKey","getAll","getAllKeys","count"],RS=["put","add","delete","clear"],Z1=new Map;function W2(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Z1.get(e))return Z1.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,c=RS.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(c||bS.includes(t)))return;const d=async function(E,...T){const S=this.transaction(E,c?"readwrite":"readonly");let x=S.store;return a&&(x=x.index(T.shift())),(await Promise.all([x[t](...T),c&&S.done]))[0]};return Z1.set(e,d),d}CS(i=>({...i,get:(e,t,a)=>W2(e,t)||i.get(e,t,a),has:(e,t)=>!!W2(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(DS(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function DS(i){return i.getComponent()?.type==="VERSION"}const h0="@firebase/app",Q2="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new q0("@firebase/app"),OS="@firebase/app-compat",MS="@firebase/analytics-compat",LS="@firebase/analytics",PS="@firebase/app-check-compat",BS="@firebase/app-check",kS="@firebase/auth",VS="@firebase/auth-compat",US="@firebase/database",FS="@firebase/data-connect",zS="@firebase/database-compat",HS="@firebase/functions",jS="@firebase/functions-compat",GS="@firebase/installations",qS="@firebase/installations-compat",YS="@firebase/messaging",XS="@firebase/messaging-compat",WS="@firebase/performance",QS="@firebase/performance-compat",KS="@firebase/remote-config",ZS="@firebase/remote-config-compat",JS="@firebase/storage",$S="@firebase/storage-compat",ev="@firebase/firestore",tv="@firebase/ai",nv="@firebase/firestore-compat",rv="firebase",iv="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="[DEFAULT]",sv={[h0]:"fire-core",[OS]:"fire-core-compat",[LS]:"fire-analytics",[MS]:"fire-analytics-compat",[BS]:"fire-app-check",[PS]:"fire-app-check-compat",[kS]:"fire-auth",[VS]:"fire-auth-compat",[US]:"fire-rtdb",[FS]:"fire-data-connect",[zS]:"fire-rtdb-compat",[HS]:"fire-fn",[jS]:"fire-fn-compat",[GS]:"fire-iid",[qS]:"fire-iid-compat",[YS]:"fire-fcm",[XS]:"fire-fcm-compat",[WS]:"fire-perf",[QS]:"fire-perf-compat",[KS]:"fire-rc",[ZS]:"fire-rc-compat",[JS]:"fire-gcs",[$S]:"fire-gcs-compat",[ev]:"fire-fst",[nv]:"fire-fst-compat",[tv]:"fire-vertex","fire-js":"fire-js",[rv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new Map,av=new Map,d0=new Map;function K2(i,e){try{i.container.addComponent(e)}catch(t){ua.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function jl(i){const e=i.name;if(d0.has(e))return ua.debug(`There were multiple attempts to register component ${e}.`),!1;d0.set(e,i);for(const t of lf.values())K2(t,i);for(const t of av.values())K2(t,i);return!0}function X0(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function is(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ro=new vc("app","Firebase",ov);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,t,a){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new jo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ro.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=iv;function f_(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const a={name:f0,automaticDataCollectionEnabled:!0,...e},c=a.name;if(typeof c!="string"||!c)throw ro.create("bad-app-name",{appName:String(c)});if(t||(t=a_()),!t)throw ro.create("no-options");const d=lf.get(c);if(d){if(Ho(t,d.options)&&Ho(a,d.config))return d;throw ro.create("duplicate-app",{appName:c})}const E=new gS(c);for(const S of d0.values())E.addComponent(S);const T=new lv(t,a,E);return lf.set(c,T),T}function d_(i=f0){const e=lf.get(i);if(!e&&i===f0&&a_())return f_();if(!e)throw ro.create("no-app",{appName:i});return e}function io(i,e,t){let a=sv[i]??i;t&&(a+=`-${t}`);const c=a.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const E=[`Unable to register library "${a}" with version "${e}":`];c&&E.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&d&&E.push("and"),d&&E.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ua.warn(E.join(" "));return}jl(new jo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="firebase-heartbeat-database",cv=1,fc="firebase-heartbeat-store";let J1=null;function g_(){return J1||(J1=IS(uv,cv,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(fc)}catch(t){console.warn(t)}}}}).catch(i=>{throw ro.create("idb-open",{originalErrorMessage:i.message})})),J1}async function hv(i){try{const t=(await g_()).transaction(fc),a=await t.objectStore(fc).get(m_(i));return await t.done,a}catch(e){if(e instanceof da)ua.warn(e.message);else{const t=ro.create("idb-get",{originalErrorMessage:e?.message});ua.warn(t.message)}}}async function Z2(i,e){try{const a=(await g_()).transaction(fc,"readwrite");await a.objectStore(fc).put(e,m_(i)),await a.done}catch(t){if(t instanceof da)ua.warn(t.message);else{const a=ro.create("idb-set",{originalErrorMessage:t?.message});ua.warn(a.message)}}}function m_(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=1024,dv=30;class gv{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new pv(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=J2();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:t}),this._heartbeatsCache.heartbeats.length>dv){const c=yv(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ua.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=J2(),{heartbeatsToSend:t,unsentEntries:a}=mv(this._heartbeatsCache.heartbeats),c=of(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(e){return ua.warn(e),""}}}function J2(){return new Date().toISOString().substring(0,10)}function mv(i,e=fv){const t=[];let a=i.slice();for(const c of i){const d=t.find(E=>E.agent===c.agent);if(d){if(d.dates.push(c.date),$2(t)>e){d.dates.pop();break}}else if(t.push({agent:c.agent,dates:[c.date]}),$2(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class pv{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nS()?rS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await hv(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Z2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Z2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function $2(i){return of(JSON.stringify({version:2,heartbeats:i})).length}function yv(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let a=1;a<i.length;a++)i[a].date<t&&(t=i[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(i){jl(new jo("platform-logger",e=>new NS(e),"PRIVATE")),jl(new jo("heartbeat",e=>new gv(e),"PRIVATE")),io(h0,Q2,i),io(h0,Q2,"esm2020"),io("fire-js","")}Ev("");var _v="firebase",Av="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */io(_v,Av,"app");function p_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xv=p_,y_=new vc("auth","Firebase",p_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new q0("@firebase/auth");function wv(i,...e){uf.logLevel<=Nt.WARN&&uf.warn(`Auth (${tu}): ${i}`,...e)}function Wh(i,...e){uf.logLevel<=Nt.ERROR&&uf.error(`Auth (${tu}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(i,...e){throw W0(i,...e)}function vs(i,...e){return W0(i,...e)}function E_(i,e,t){const a={...xv(),[e]:t};return new vc("auth","Firebase",a).create(e,{appName:i.name})}function so(i){return E_(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function W0(i,...e){if(typeof i!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(t,...a)}return y_.create(i,...e)}function nt(i,e,...t){if(!i)throw W0(e,...t)}function ra(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Wh(e),new Error(e)}function ca(i,e){i||ra(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(){return typeof self<"u"&&self.location?.href||""}function Tv(){return ey()==="http:"||ey()==="https:"}function ey(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Tv()||JC()||"connection"in navigator)?navigator.onLine:!0}function Sv(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,t){this.shortDelay=e,this.longDelay=t,ca(t>e,"Short delay should be less than long delay!"),this.isMobile=QC()||$C()}get(){return Cv()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(i,e){ca(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ra("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ra("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ra("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bv=new bc(3e4,6e4);function Xo(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function _o(i,e,t,a,c={}){return A_(i,c,async()=>{let d={},E={};a&&(e==="GET"?E=a:d={body:JSON.stringify(a)});const T=Ic({key:i.config.apiKey,...E}).slice(1),S=await i._getAdditionalHeaders();S["Content-Type"]="application/json",i.languageCode&&(S["X-Firebase-Locale"]=i.languageCode);const x={method:e,headers:S,...d};return ZC()||(x.referrerPolicy="no-referrer"),i.emulatorConfig&&eu(i.emulatorConfig.host)&&(x.credentials="include"),__.fetch()(await x_(i,i.config.apiHost,t,T),x)})}async function A_(i,e,t){i._canInitEmulator=!1;const a={...vv,...e};try{const c=new Nv(i),d=await Promise.race([t(),c.promise]);c.clearNetworkTimeout();const E=await d.json();if("needConfirmation"in E)throw Fh(i,"account-exists-with-different-credential",E);if(d.ok&&!("errorMessage"in E))return E;{const T=d.ok?E.errorMessage:E.error.message,[S,x]=T.split(" : ");if(S==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fh(i,"credential-already-in-use",E);if(S==="EMAIL_EXISTS")throw Fh(i,"email-already-in-use",E);if(S==="USER_DISABLED")throw Fh(i,"user-disabled",E);const I=a[S]||S.toLowerCase().replace(/[_\s]+/g,"-");if(x)throw E_(i,I,x);ls(i,I)}}catch(c){if(c instanceof da)throw c;ls(i,"network-request-failed",{message:String(c)})}}async function Lf(i,e,t,a,c={}){const d=await _o(i,e,t,a,c);return"mfaPendingCredential"in d&&ls(i,"multi-factor-auth-required",{_serverResponse:d}),d}async function x_(i,e,t,a){const c=`${e}${t}?${a}`,d=i,E=d.config.emulator?Q0(i.config,c):`${i.config.apiScheme}://${c}`;return Iv.includes(t)&&(await d._persistenceManagerAvailable,d._getPersistenceType()==="COOKIE")?d._getPersistence()._getFinalTarget(E).toString():E}function Rv(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Nv{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(vs(this.auth,"network-request-failed")),bv.get())})}}function Fh(i,e,t){const a={appName:i.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const c=vs(i,e,a);return c.customData._tokenResponse=t,c}function ty(i){return i!==void 0&&i.enterprise!==void 0}class Dv{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Rv(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ov(i,e){return _o(i,"GET","/v2/recaptchaConfig",Xo(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mv(i,e){return _o(i,"POST","/v1/accounts:delete",e)}async function cf(i,e){return _o(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Lv(i,e=!1){const t=dr(i),a=await t.getIdToken(e),c=K0(a);nt(c&&c.exp&&c.auth_time&&c.iat,t.auth,"internal-error");const d=typeof c.firebase=="object"?c.firebase:void 0,E=d?.sign_in_provider;return{claims:c,token:a,authTime:ac($1(c.auth_time)),issuedAtTime:ac($1(c.iat)),expirationTime:ac($1(c.exp)),signInProvider:E||null,signInSecondFactor:d?.sign_in_second_factor||null}}function $1(i){return Number(i)*1e3}function K0(i){const[e,t,a]=i.split(".");if(e===void 0||t===void 0||a===void 0)return Wh("JWT malformed, contained fewer than 3 sections"),null;try{const c=i_(t);return c?JSON.parse(c):(Wh("Failed to decode base64 JWT payload"),null)}catch(c){return Wh("Caught error parsing JWT payload as JSON",c?.toString()),null}}function ny(i){const e=K0(i);return nt(e,"internal-error"),nt(typeof e.exp<"u","internal-error"),nt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(i,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof da&&Pv(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function Pv({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ac(this.lastLoginAt),this.creationTime=ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hf(i){const e=i.auth,t=await i.getIdToken(),a=await dc(i,cf(e,{idToken:t}));nt(a?.users.length,e,"internal-error");const c=a.users[0];i._notifyReloadListener(c);const d=c.providerUserInfo?.length?w_(c.providerUserInfo):[],E=Vv(i.providerData,d),T=i.isAnonymous,S=!(i.email&&c.passwordHash)&&!E?.length,x=T?S:!1,I={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:E,metadata:new m0(c.createdAt,c.lastLoginAt),isAnonymous:x};Object.assign(i,I)}async function kv(i){const e=dr(i);await hf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Vv(i,e){return[...i.filter(a=>!e.some(c=>c.providerId===a.providerId)),...e]}function w_(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uv(i,e){const t=await A_(i,{},async()=>{const a=Ic({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:c,apiKey:d}=i.config,E=await x_(i,c,"/v1/token",`key=${d}`),T=await i._getAdditionalHeaders();T["Content-Type"]="application/x-www-form-urlencoded";const S={method:"POST",headers:T,body:a};return i.emulatorConfig&&eu(i.emulatorConfig.host)&&(S.credentials="include"),__.fetch()(E,S)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Fv(i,e){return _o(i,"POST","/v2/accounts:revokeToken",Xo(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){nt(e.idToken,"internal-error"),nt(typeof e.idToken<"u","internal-error"),nt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ny(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){nt(e.length!==0,"internal-error");const t=ny(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(nt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:c,expiresIn:d}=await Uv(e,t);this.updateTokensAndExpiration(a,c,Number(d))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:c,expirationTime:d}=t,E=new Vl;return a&&(nt(typeof a=="string","internal-error",{appName:e}),E.refreshToken=a),c&&(nt(typeof c=="string","internal-error",{appName:e}),E.accessToken=c),d&&(nt(typeof d=="number","internal-error",{appName:e}),E.expirationTime=d),E}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return ra("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(i,e){nt(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ss{constructor({uid:e,auth:t,stsTokenManager:a,...c}){this.providerId="firebase",this.proactiveRefresh=new Bv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new m0(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const t=await dc(this,this.stsTokenManager.getToken(this.auth,e));return nt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Lv(this,e)}reload(){return kv(this)}_assign(e){this!==e&&(nt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ss({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await hf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(is(this.auth.app))return Promise.reject(so(this.auth));const e=await this.getIdToken();return await dc(this,Mv(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const a=t.displayName??void 0,c=t.email??void 0,d=t.phoneNumber??void 0,E=t.photoURL??void 0,T=t.tenantId??void 0,S=t._redirectEventId??void 0,x=t.createdAt??void 0,I=t.lastLoginAt??void 0,{uid:M,emailVerified:U,isAnonymous:W,providerData:ae,stsTokenManager:oe}=t;nt(M&&oe,e,"internal-error");const re=Vl.fromJSON(this.name,oe);nt(typeof M=="string",e,"internal-error"),Wa(a,e.name),Wa(c,e.name),nt(typeof U=="boolean",e,"internal-error"),nt(typeof W=="boolean",e,"internal-error"),Wa(d,e.name),Wa(E,e.name),Wa(T,e.name),Wa(S,e.name),Wa(x,e.name),Wa(I,e.name);const ve=new ss({uid:M,auth:e,email:c,emailVerified:U,displayName:a,isAnonymous:W,photoURL:E,phoneNumber:d,tenantId:T,stsTokenManager:re,createdAt:x,lastLoginAt:I});return ae&&Array.isArray(ae)&&(ve.providerData=ae.map(me=>({...me}))),S&&(ve._redirectEventId=S),ve}static async _fromIdTokenResponse(e,t,a=!1){const c=new Vl;c.updateFromServerResponse(t);const d=new ss({uid:t.localId,auth:e,stsTokenManager:c,isAnonymous:a});return await hf(d),d}static async _fromGetAccountInfoResponse(e,t,a){const c=t.users[0];nt(c.localId!==void 0,"internal-error");const d=c.providerUserInfo!==void 0?w_(c.providerUserInfo):[],E=!(c.email&&c.passwordHash)&&!d?.length,T=new Vl;T.updateFromIdToken(a);const S=new ss({uid:c.localId,auth:e,stsTokenManager:T,isAnonymous:E}),x={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:d,metadata:new m0(c.createdAt,c.lastLoginAt),isAnonymous:!(c.email&&c.passwordHash)&&!d?.length};return Object.assign(S,x),S}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=new Map;function ia(i){ca(i instanceof Function,"Expected a class definition");let e=ry.get(i);return e?(ca(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,ry.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}T_.type="NONE";const iy=T_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(i,e,t){return`firebase:${i}:${e}:${t}`}class Ul{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:c,name:d}=this.auth;this.fullUserKey=Qh(this.userKey,c.apiKey,d),this.fullPersistenceKey=Qh("persistence",c.apiKey,d),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await cf(this.auth,{idToken:e}).catch(()=>{});return t?ss._fromGetAccountInfoResponse(this.auth,t,e):null}return ss._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new Ul(ia(iy),e,a);const c=(await Promise.all(t.map(async x=>{if(await x._isAvailable())return x}))).filter(x=>x);let d=c[0]||ia(iy);const E=Qh(a,e.config.apiKey,e.name);let T=null;for(const x of t)try{const I=await x._get(E);if(I){let M;if(typeof I=="string"){const U=await cf(e,{idToken:I}).catch(()=>{});if(!U)break;M=await ss._fromGetAccountInfoResponse(e,U,I)}else M=ss._fromJSON(e,I);x!==d&&(T=M),d=x;break}}catch{}const S=c.filter(x=>x._shouldAllowMigration);return!d._shouldAllowMigration||!S.length?new Ul(d,e,a):(d=S[0],T&&await d._set(E,T.toJSON()),await Promise.all(t.map(async x=>{if(x!==d)try{await x._remove(E)}catch{}})),new Ul(d,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(I_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(C_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(R_(e))return"Blackberry";if(N_(e))return"Webos";if(S_(e))return"Safari";if((e.includes("chrome/")||v_(e))&&!e.includes("edge/"))return"Chrome";if(b_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(t);if(a?.length===2)return a[1]}return"Other"}function C_(i=qr()){return/firefox\//i.test(i)}function S_(i=qr()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function v_(i=qr()){return/crios\//i.test(i)}function I_(i=qr()){return/iemobile/i.test(i)}function b_(i=qr()){return/android/i.test(i)}function R_(i=qr()){return/blackberry/i.test(i)}function N_(i=qr()){return/webos/i.test(i)}function Z0(i=qr()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function zv(i=qr()){return Z0(i)&&!!window.navigator?.standalone}function Hv(){return eS()&&document.documentMode===10}function D_(i=qr()){return Z0(i)||b_(i)||N_(i)||R_(i)||/windows phone/i.test(i)||I_(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(i,e=[]){let t;switch(i){case"Browser":t=sy(qr());break;case"Worker":t=`${sy(qr())}-${i}`;break;default:t=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${tu}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=d=>new Promise((E,T)=>{try{const S=e(d);E(S)}catch(S){T(S)}});a.onAbort=t,this.queue.push(a);const c=this.queue.length-1;return()=>{this.queue[c]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const c of t)try{c()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gv(i,e={}){return _o(i,"GET","/v2/passwordPolicy",Xo(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=6;class Yv{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??qv,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,c=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),c&&(t.meetsMaxPasswordLength=e.length<=c)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let c=0;c<e.length;c++)a=e.charAt(c),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,c,d){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=c)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,t,a,c){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=c,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ay(this),this.idTokenSubscription=new ay(this),this.beforeStateQueue=new jv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=y_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=c.sdkClientVersion,this._persistenceManagerAvailable=new Promise(d=>this._resolvePersistenceManagerAvailable=d)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ia(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ul.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await cf(this,{idToken:e}),a=await ss._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(is(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(E=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(E,E))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let a=t,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=this.redirectUser?._redirectEventId,E=a?._redirectEventId,T=await this.tryRedirectSignIn(e);(!d||d===E)&&T?.user&&(a=T.user,c=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(a)}catch(d){a=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return nt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await hf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Sv()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(is(this.app))return Promise.reject(so(this));const t=e?dr(e):null;return t&&nt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&nt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return is(this.app)?Promise.reject(so(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return is(this.app)?Promise.reject(so(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ia(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Gv(this),t=new Yv(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vc("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await Fv(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ia(e)||this._popupRedirectResolver;nt(t,this,"argument-error"),this.redirectPersistenceManager=await Ul.create(this,[ia(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,c){if(this._deleted)return()=>{};const d=typeof t=="function"?t:t.next.bind(t);let E=!1;const T=this._isInitialized?Promise.resolve():this._initializationPromise;if(nt(T,this,"internal-error"),T.then(()=>{E||d(this.currentUser)}),typeof t=="function"){const S=e.addObserver(t,a,c);return()=>{E=!0,S()}}else{const S=e.addObserver(t);return()=>{E=!0,S()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=O_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(is(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&wv(`Error while retrieving App Check token: ${e.error}`),e?.token}}function nu(i){return dr(i)}class ay{constructor(e){this.auth=e,this.observer=null,this.addObserver=lS(t=>this.observer=t)}get next(){return nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Wv(i){Pf=i}function M_(i){return Pf.loadJS(i)}function Qv(){return Pf.recaptchaEnterpriseScript}function Kv(){return Pf.gapiScript}function Zv(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class Jv{constructor(){this.enterprise=new $v}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class $v{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const eI="recaptcha-enterprise",L_="NO_RECAPTCHA";class tI{constructor(e){this.type=eI,this.auth=nu(e)}async verify(e="verify",t=!1){async function a(d){if(!t){if(d.tenantId==null&&d._agentRecaptchaConfig!=null)return d._agentRecaptchaConfig.siteKey;if(d.tenantId!=null&&d._tenantRecaptchaConfigs[d.tenantId]!==void 0)return d._tenantRecaptchaConfigs[d.tenantId].siteKey}return new Promise(async(E,T)=>{Ov(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(S=>{if(S.recaptchaKey===void 0)T(new Error("recaptcha Enterprise site key undefined"));else{const x=new Dv(S);return d.tenantId==null?d._agentRecaptchaConfig=x:d._tenantRecaptchaConfigs[d.tenantId]=x,E(x.siteKey)}}).catch(S=>{T(S)})})}function c(d,E,T){const S=window.grecaptcha;ty(S)?S.enterprise.ready(()=>{S.enterprise.execute(d,{action:e}).then(x=>{E(x)}).catch(()=>{E(L_)})}):T(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Jv().execute("siteKey",{action:"verify"}):new Promise((d,E)=>{a(this.auth).then(T=>{if(!t&&ty(window.grecaptcha))c(T,d,E);else{if(typeof window>"u"){E(new Error("RecaptchaVerifier is only supported in browser"));return}let S=Qv();S.length!==0&&(S+=T),M_(S).then(()=>{c(T,d,E)}).catch(x=>{E(x)})}}).catch(T=>{E(T)})})}}async function oy(i,e,t,a=!1,c=!1){const d=new tI(i);let E;if(c)E=L_;else try{E=await d.verify(t)}catch{E=await d.verify(t,!0)}const T={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in T){const S=T.phoneEnrollmentInfo.phoneNumber,x=T.phoneEnrollmentInfo.recaptchaToken;Object.assign(T,{phoneEnrollmentInfo:{phoneNumber:S,recaptchaToken:x,captchaResponse:E,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in T){const S=T.phoneSignInInfo.recaptchaToken;Object.assign(T,{phoneSignInInfo:{recaptchaToken:S,captchaResponse:E,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return T}return a?Object.assign(T,{captchaResp:E}):Object.assign(T,{captchaResponse:E}),Object.assign(T,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(T,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),T}async function ly(i,e,t,a,c){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await oy(i,e,t,t==="getOobCode");return a(i,d)}else return a(i,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const E=await oy(i,e,t,t==="getOobCode");return a(i,E)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(i,e){const t=X0(i,"auth");if(t.isInitialized()){const c=t.getImmediate(),d=t.getOptions();if(Ho(d,e??{}))return c;ls(c,"already-initialized")}return t.initialize({options:e})}function rI(i,e){const t=e?.persistence||[],a=(Array.isArray(t)?t:[t]).map(ia);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e?.popupRedirectResolver)}function iI(i,e,t){const a=nu(i);nt(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const c=!1,d=P_(e),{host:E,port:T}=sI(e),S=T===null?"":`:${T}`,x={url:`${d}//${E}${S}/`},I=Object.freeze({host:E,port:T,protocol:d.replace(":",""),options:Object.freeze({disableWarnings:c})});if(!a._canInitEmulator){nt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),nt(Ho(x,a.config.emulator)&&Ho(I,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=x,a.emulatorConfig=I,a.settings.appVerificationDisabledForTesting=!0,eu(E)?(l_(`${d}//${E}${S}`),u_("Auth",!0)):aI()}function P_(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function sI(i){const e=P_(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",c=/^(\[[^\]]+\])(:|$)/.exec(a);if(c){const d=c[1];return{host:d,port:uy(a.substr(d.length+1))}}else{const[d,E]=a.split(":");return{host:d,port:uy(E)}}}function uy(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function aI(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ra("not implemented")}_getIdTokenResponse(e){return ra("not implemented")}_linkToIdToken(e,t){return ra("not implemented")}_getReauthenticationResolver(e){return ra("not implemented")}}async function oI(i,e){return _o(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lI(i,e){return Lf(i,"POST","/v1/accounts:signInWithPassword",Xo(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(i,e){return Lf(i,"POST","/v1/accounts:signInWithEmailLink",Xo(i,e))}async function cI(i,e){return Lf(i,"POST","/v1/accounts:signInWithEmailLink",Xo(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends J0{constructor(e,t,a,c=null){super("password",a),this._email=e,this._password=t,this._tenantId=c}static _fromEmailAndPassword(e,t){return new gc(e,t,"password")}static _fromEmailAndCode(e,t,a=null){return new gc(e,t,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ly(e,t,"signInWithPassword",lI);case"emailLink":return uI(e,{email:this._email,oobCode:this._password});default:ls(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const a={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ly(e,a,"signUpPassword",oI);case"emailLink":return cI(e,{idToken:t,email:this._email,oobCode:this._password});default:ls(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(i,e){return Lf(i,"POST","/v1/accounts:signInWithIdp",Xo(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="http://localhost";class Go extends J0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Go(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ls("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:c,...d}=t;if(!a||!c)return null;const E=new Go(a,c);return E.idToken=d.idToken||void 0,E.accessToken=d.accessToken||void 0,E.secret=d.secret,E.nonce=d.nonce,E.pendingToken=d.pendingToken||null,E}_getIdTokenResponse(e){const t=this.buildRequest();return Fl(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,Fl(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Fl(e,t)}buildRequest(){const e={requestUri:hI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ic(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dI(i){const e=Ju($u(i)).link,t=e?Ju($u(e)).deep_link_id:null,a=Ju($u(i)).deep_link_id;return(a?Ju($u(a)).link:null)||a||t||e||i}class $0{constructor(e){const t=Ju($u(e)),a=t.apiKey??null,c=t.oobCode??null,d=fI(t.mode??null);nt(a&&c&&d,"argument-error"),this.apiKey=a,this.operation=d,this.code=c,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=dI(e);try{return new $0(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(){this.providerId=ru.PROVIDER_ID}static credential(e,t){return gc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const a=$0.parseLink(t);return nt(a,"argument-error"),gc._fromEmailAndCode(e,a.code,a.tenantId)}}ru.PROVIDER_ID="password";ru.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ru.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends B_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends Rc{constructor(){super("facebook.com")}static credential(e){return Go._fromParams({providerId:Ka.PROVIDER_ID,signInMethod:Ka.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ka.credentialFromTaggedObject(e)}static credentialFromError(e){return Ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ka.credential(e.oauthAccessToken)}catch{return null}}}Ka.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ka.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends Rc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Go._fromParams({providerId:Za.PROVIDER_ID,signInMethod:Za.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Za.credentialFromTaggedObject(e)}static credentialFromError(e){return Za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return Za.credential(t,a)}catch{return null}}}Za.GOOGLE_SIGN_IN_METHOD="google.com";Za.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends Rc{constructor(){super("github.com")}static credential(e){return Go._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ja.credentialFromTaggedObject(e)}static credentialFromError(e){return Ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ja.credential(e.oauthAccessToken)}catch{return null}}}Ja.GITHUB_SIGN_IN_METHOD="github.com";Ja.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends Rc{constructor(){super("twitter.com")}static credential(e,t){return Go._fromParams({providerId:$a.PROVIDER_ID,signInMethod:$a.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return $a.credentialFromTaggedObject(e)}static credentialFromError(e){return $a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return $a.credential(t,a)}catch{return null}}}$a.TWITTER_SIGN_IN_METHOD="twitter.com";$a.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,c=!1){const d=await ss._fromIdTokenResponse(e,a,c),E=cy(a);return new Gl({user:d,providerId:E,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const c=cy(a);return new Gl({user:e,providerId:c,_tokenResponse:a,operationType:t})}}function cy(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff extends da{constructor(e,t,a,c){super(t.code,t.message),this.operationType=a,this.user=c,Object.setPrototypeOf(this,ff.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,c){return new ff(e,t,a,c)}}function k_(i,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(d=>{throw d.code==="auth/multi-factor-auth-required"?ff._fromErrorAndOperation(i,d,e,a):d})}async function gI(i,e,t=!1){const a=await dc(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Gl._forOperation(i,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mI(i,e,t=!1){const{auth:a}=i;if(is(a.app))return Promise.reject(so(a));const c="reauthenticate";try{const d=await dc(i,k_(a,c,e,i),t);nt(d.idToken,a,"internal-error");const E=K0(d.idToken);nt(E,a,"internal-error");const{sub:T}=E;return nt(i.uid===T,a,"user-mismatch"),Gl._forOperation(i,c,d)}catch(d){throw d?.code==="auth/user-not-found"&&ls(a,"user-mismatch"),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V_(i,e,t=!1){if(is(i.app))return Promise.reject(so(i));const a="signIn",c=await k_(i,a,e),d=await Gl._fromIdTokenResponse(i,a,c);return t||await i._updateCurrentUser(d.user),d}async function pI(i,e){return V_(nu(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(i){const e=nu(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function EI(i,e,t){return is(i.app)?Promise.reject(so(i)):pI(dr(i),ru.credential(e,t)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&yI(i),a})}function _I(i,e,t,a){return dr(i).onIdTokenChanged(e,t,a)}function AI(i,e,t){return dr(i).beforeAuthStateChanged(e,t)}function U_(i,e,t,a){return dr(i).onAuthStateChanged(e,t,a)}function F_(i){return dr(i).signOut()}const df="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(df,"1"),this.storage.removeItem(df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=1e3,wI=10;class H_ extends z_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=D_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),c=this.localCache[t];a!==c&&e(t,c,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((E,T,S)=>{this.notifyListeners(E,S)});return}const a=e.key;t?this.detachListener():this.stopPolling();const c=()=>{const E=this.storage.getItem(a);!t&&this.localCache[a]===E||this.notifyListeners(a,E)},d=this.storage.getItem(a);Hv()&&d!==e.newValue&&e.newValue!==e.oldValue?setTimeout(c,wI):c()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const c of Array.from(a))c(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},xI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}H_.type="LOCAL";const TI=H_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_ extends z_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}j_.type="SESSION";const G_=j_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(c=>c.isListeningto(e));if(t)return t;const a=new Bf(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:c,data:d}=t.data,E=this.handlersMap[c];if(!E?.size)return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:c});const T=Array.from(E).map(async x=>x(t.origin,d)),S=await CI(T);t.ports[0].postMessage({status:"done",eventId:a,eventType:c,response:S})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(i="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const c=typeof MessageChannel<"u"?new MessageChannel:null;if(!c)throw new Error("connection_unavailable");let d,E;return new Promise((T,S)=>{const x=eg("",20);c.port1.start();const I=setTimeout(()=>{S(new Error("unsupported_event"))},a);E={messageChannel:c,onMessage(M){const U=M;if(U.data.eventId===x)switch(U.data.status){case"ack":clearTimeout(I),d=setTimeout(()=>{S(new Error("timeout"))},3e3);break;case"done":clearTimeout(d),T(U.data.response);break;default:clearTimeout(I),clearTimeout(d),S(new Error("invalid_response"));break}}},this.handlers.add(E),c.port1.addEventListener("message",E.onMessage),this.target.postMessage({eventType:e,eventId:x,data:t},[c.port2])}).finally(()=>{E&&this.removeMessageHandler(E)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(){return window}function vI(i){Is().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(){return typeof Is().WorkerGlobalScope<"u"&&typeof Is().importScripts=="function"}async function II(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bI(){return navigator?.serviceWorker?.controller||null}function RI(){return q_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="firebaseLocalStorageDb",NI=1,gf="firebaseLocalStorage",X_="fbase_key";class Nc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function kf(i,e){return i.transaction([gf],e?"readwrite":"readonly").objectStore(gf)}function DI(){const i=indexedDB.deleteDatabase(Y_);return new Nc(i).toPromise()}function p0(){const i=indexedDB.open(Y_,NI);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(gf,{keyPath:X_})}catch(c){t(c)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(gf)?e(a):(a.close(),await DI(),e(await p0()))})})}async function hy(i,e,t){const a=kf(i,!0).put({[X_]:e,value:t});return new Nc(a).toPromise()}async function OI(i,e){const t=kf(i,!1).get(e),a=await new Nc(t).toPromise();return a===void 0?null:a.value}function fy(i,e){const t=kf(i,!0).delete(e);return new Nc(t).toPromise()}const MI=800,LI=3;class W_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await p0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>LI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return q_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bf._getInstance(RI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await II(),!this.activeServiceWorker)return;this.sender=new SI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await p0();return await hy(e,df,"1"),await fy(e,df),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>hy(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>OI(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>fy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(c=>{const d=kf(c,!1).getAll();return new Nc(d).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:c,value:d}of e)a.add(c),JSON.stringify(this.localCache[c])!==JSON.stringify(d)&&(this.notifyListeners(c,d),t.push(c));for(const c of Object.keys(this.localCache))this.localCache[c]&&!a.has(c)&&(this.notifyListeners(c,null),t.push(c));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const c of Array.from(a))c(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}W_.type="LOCAL";const PI=W_;new bc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(i,e){return e?ia(e):(nt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg extends J0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function kI(i){return V_(i.auth,new tg(i),i.bypassAuthState)}function VI(i){const{auth:e,user:t}=i;return nt(t,e,"internal-error"),mI(t,new tg(i),i.bypassAuthState)}async function UI(i){const{auth:e,user:t}=i;return nt(t,e,"internal-error"),gI(t,new tg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,t,a,c,d=!1){this.auth=e,this.resolver=a,this.user=c,this.bypassAuthState=d,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:c,tenantId:d,error:E,type:T}=e;if(E){this.reject(E);return}const S={auth:this.auth,requestUri:t,sessionId:a,tenantId:d||void 0,postBody:c||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(T)(S))}catch(x){this.reject(x)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kI;case"linkViaPopup":case"linkViaRedirect":return UI;case"reauthViaPopup":case"reauthViaRedirect":return VI;default:ls(this.auth,"internal-error")}}resolve(e){ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=new bc(2e3,1e4);class Bl extends Q_{constructor(e,t,a,c,d){super(e,t,c,d),this.provider=a,this.authWindow=null,this.pollId=null,Bl.currentPopupAction&&Bl.currentPopupAction.cancel(),Bl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return nt(e,this.auth,"internal-error"),e}async onExecution(){ca(this.filter.length===1,"Popup operations only handle one event");const e=eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(vs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(vs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FI.get())};e()}}Bl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="pendingRedirect",Kh=new Map;class HI extends Q_{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=Kh.get(this.auth._key());if(!e){try{const a=await jI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}Kh.set(this.auth._key(),e)}return this.bypassAuthState||Kh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jI(i,e){const t=YI(e),a=qI(i);if(!await a._isAvailable())return!1;const c=await a._get(t)==="true";return await a._remove(t),c}function GI(i,e){Kh.set(i._key(),e)}function qI(i){return ia(i._redirectPersistence)}function YI(i){return Qh(zI,i.config.apiKey,i.name)}async function XI(i,e,t=!1){if(is(i.app))return Promise.reject(so(i));const a=nu(i),c=BI(a,e),E=await new HI(a,c,t).execute();return E&&!t&&(delete E.user._redirectEventId,await a._persistUserIfCurrent(E.user),await a._setRedirectUser(null,e)),E}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=600*1e3;class QI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!K_(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";t.onError(vs(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WI&&this.cachedEventUids.clear(),this.cachedEventUids.has(dy(e))}saveEventToCache(e){this.cachedEventUids.add(dy(e)),this.lastProcessedEventTime=Date.now()}}function dy(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function K_({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function KI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return K_(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI(i,e={}){return _o(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$I=/^https?/;async function e3(i){if(i.config.emulator)return;const{authorizedDomains:e}=await ZI(i);for(const t of e)try{if(t3(t))return}catch{}ls(i,"unauthorized-domain")}function t3(i){const e=g0(),{protocol:t,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const E=new URL(i);return E.hostname===""&&a===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&E.hostname===a}if(!$I.test(t))return!1;if(JI.test(i))return a===i;const c=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+c+"|"+c+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=new bc(3e4,6e4);function gy(){const i=Is().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function r3(i){return new Promise((e,t)=>{function a(){gy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gy(),t(vs(i,"network-request-failed"))},timeout:n3.get()})}if(Is().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Is().gapi?.load)a();else{const c=Zv("iframefcb");return Is()[c]=()=>{gapi.load?a():t(vs(i,"network-request-failed"))},M_(`${Kv()}?onload=${c}`).catch(d=>t(d))}}).catch(e=>{throw Zh=null,e})}let Zh=null;function i3(i){return Zh=Zh||r3(i),Zh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=new bc(5e3,15e3),a3="__/auth/iframe",o3="emulator/auth/iframe",l3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c3(i){const e=i.config;nt(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Q0(e,o3):`https://${i.config.authDomain}/${a3}`,a={apiKey:e.apiKey,appName:i.name,v:tu},c=u3.get(i.config.apiHost);c&&(a.eid=c);const d=i._getFrameworks();return d.length&&(a.fw=d.join(",")),`${t}?${Ic(a).slice(1)}`}async function h3(i){const e=await i3(i),t=Is().gapi;return nt(t,i,"internal-error"),e.open({where:document.body,url:c3(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:l3,dontclear:!0},a=>new Promise(async(c,d)=>{await a.restyle({setHideOnLeave:!1});const E=vs(i,"network-request-failed"),T=Is().setTimeout(()=>{d(E)},s3.get());function S(){Is().clearTimeout(T),c(a)}a.ping(S).then(S,()=>{d(E)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},d3=500,g3=600,m3="_blank",p3="http://localhost";class my{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function y3(i,e,t,a=d3,c=g3){const d=Math.max((window.screen.availHeight-c)/2,0).toString(),E=Math.max((window.screen.availWidth-a)/2,0).toString();let T="";const S={...f3,width:a.toString(),height:c.toString(),top:d,left:E},x=qr().toLowerCase();t&&(T=v_(x)?m3:t),C_(x)&&(e=e||p3,S.scrollbars="yes");const I=Object.entries(S).reduce((U,[W,ae])=>`${U}${W}=${ae},`,"");if(zv(x)&&T!=="_self")return E3(e||"",T),new my(null);const M=window.open(e||"",T,I);nt(M,i,"popup-blocked");try{M.focus()}catch{}return new my(M)}function E3(i,e){const t=document.createElement("a");t.href=i,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3="__/auth/handler",A3="emulator/auth/handler",x3=encodeURIComponent("fac");async function py(i,e,t,a,c,d){nt(i.config.authDomain,i,"auth-domain-config-required"),nt(i.config.apiKey,i,"invalid-api-key");const E={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:a,v:tu,eventId:c};if(e instanceof B_){e.setDefaultLanguage(i.languageCode),E.providerId=e.providerId||"",oS(e.getCustomParameters())||(E.customParameters=JSON.stringify(e.getCustomParameters()));for(const[I,M]of Object.entries({}))E[I]=M}if(e instanceof Rc){const I=e.getScopes().filter(M=>M!=="");I.length>0&&(E.scopes=I.join(","))}i.tenantId&&(E.tid=i.tenantId);const T=E;for(const I of Object.keys(T))T[I]===void 0&&delete T[I];const S=await i._getAppCheckToken(),x=S?`#${x3}=${encodeURIComponent(S)}`:"";return`${w3(i)}?${Ic(T).slice(1)}${x}`}function w3({config:i}){return i.emulator?Q0(i,A3):`https://${i.authDomain}/${_3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="webStorageSupport";class T3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=G_,this._completeRedirectFn=XI,this._overrideRedirectResult=GI}async _openPopup(e,t,a,c){ca(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const d=await py(e,t,a,g0(),c);return y3(e,d,eg())}async _openRedirect(e,t,a,c){await this._originValidation(e);const d=await py(e,t,a,g0(),c);return vI(d),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:c,promise:d}=this.eventManagers[t];return c?Promise.resolve(c):(ca(d,"If manager is not set, promise should be"),d)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await h3(e),a=new QI(e);return t.register("authEvent",c=>(nt(c?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(c.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(e0,{type:e0},c=>{const d=c?.[0]?.[e0];d!==void 0&&t(!!d),ls(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=e3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return D_()||S_()||Z0()}}const C3=T3;var yy="@firebase/auth",Ey="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function I3(i){jl(new jo("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),c=e.getProvider("heartbeat"),d=e.getProvider("app-check-internal"),{apiKey:E,authDomain:T}=a.options;nt(E&&!E.includes(":"),"invalid-api-key",{appName:a.name});const S={apiKey:E,authDomain:T,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:O_(i)},x=new Xv(a,c,d,S);return rI(x,t),x},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),jl(new jo("auth-internal",e=>{const t=nu(e.getProvider("auth").getImmediate());return(a=>new S3(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),io(yy,Ey,v3(i)),io(yy,Ey,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=300,R3=o_("authIdTokenMaxAge")||b3;let _y=null;const N3=i=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>R3)return;const c=t?.token;_y!==c&&(_y=c,await fetch(i,{method:c?"POST":"DELETE",headers:c?{Authorization:`Bearer ${c}`}:{}}))};function D3(i=d_()){const e=X0(i,"auth");if(e.isInitialized())return e.getImmediate();const t=nI(i,{popupRedirectResolver:C3,persistence:[PI,TI,G_]}),a=o_("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const d=new URL(a,location.origin);if(location.origin===d.origin){const E=N3(d.toString());AI(t,E,()=>E(t.currentUser)),_I(t,T=>E(T))}}const c=s_("auth");return c&&iI(t,`http://${c}`),t}function O3(){return document.getElementsByTagName("head")?.[0]??document}Wv({loadJS(i){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=c=>{const d=vs("internal-error");d.customData=c,t(d)},a.type="text/javascript",a.charset="UTF-8",O3().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});I3("Browser");var Ay=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ao,Z_;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(H,z){function k(){}k.prototype=z.prototype,H.D=z.prototype,H.prototype=new k,H.prototype.constructor=H,H.C=function(Z,K,q){for(var j=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)j[vt-2]=arguments[vt];return z.prototype[K].apply(Z,j)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,t),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function c(H,z,k){k||(k=0);var Z=Array(16);if(typeof z=="string")for(var K=0;16>K;++K)Z[K]=z.charCodeAt(k++)|z.charCodeAt(k++)<<8|z.charCodeAt(k++)<<16|z.charCodeAt(k++)<<24;else for(K=0;16>K;++K)Z[K]=z[k++]|z[k++]<<8|z[k++]<<16|z[k++]<<24;z=H.g[0],k=H.g[1],K=H.g[2];var q=H.g[3],j=z+(q^k&(K^q))+Z[0]+3614090360&4294967295;z=k+(j<<7&4294967295|j>>>25),j=q+(K^z&(k^K))+Z[1]+3905402710&4294967295,q=z+(j<<12&4294967295|j>>>20),j=K+(k^q&(z^k))+Z[2]+606105819&4294967295,K=q+(j<<17&4294967295|j>>>15),j=k+(z^K&(q^z))+Z[3]+3250441966&4294967295,k=K+(j<<22&4294967295|j>>>10),j=z+(q^k&(K^q))+Z[4]+4118548399&4294967295,z=k+(j<<7&4294967295|j>>>25),j=q+(K^z&(k^K))+Z[5]+1200080426&4294967295,q=z+(j<<12&4294967295|j>>>20),j=K+(k^q&(z^k))+Z[6]+2821735955&4294967295,K=q+(j<<17&4294967295|j>>>15),j=k+(z^K&(q^z))+Z[7]+4249261313&4294967295,k=K+(j<<22&4294967295|j>>>10),j=z+(q^k&(K^q))+Z[8]+1770035416&4294967295,z=k+(j<<7&4294967295|j>>>25),j=q+(K^z&(k^K))+Z[9]+2336552879&4294967295,q=z+(j<<12&4294967295|j>>>20),j=K+(k^q&(z^k))+Z[10]+4294925233&4294967295,K=q+(j<<17&4294967295|j>>>15),j=k+(z^K&(q^z))+Z[11]+2304563134&4294967295,k=K+(j<<22&4294967295|j>>>10),j=z+(q^k&(K^q))+Z[12]+1804603682&4294967295,z=k+(j<<7&4294967295|j>>>25),j=q+(K^z&(k^K))+Z[13]+4254626195&4294967295,q=z+(j<<12&4294967295|j>>>20),j=K+(k^q&(z^k))+Z[14]+2792965006&4294967295,K=q+(j<<17&4294967295|j>>>15),j=k+(z^K&(q^z))+Z[15]+1236535329&4294967295,k=K+(j<<22&4294967295|j>>>10),j=z+(K^q&(k^K))+Z[1]+4129170786&4294967295,z=k+(j<<5&4294967295|j>>>27),j=q+(k^K&(z^k))+Z[6]+3225465664&4294967295,q=z+(j<<9&4294967295|j>>>23),j=K+(z^k&(q^z))+Z[11]+643717713&4294967295,K=q+(j<<14&4294967295|j>>>18),j=k+(q^z&(K^q))+Z[0]+3921069994&4294967295,k=K+(j<<20&4294967295|j>>>12),j=z+(K^q&(k^K))+Z[5]+3593408605&4294967295,z=k+(j<<5&4294967295|j>>>27),j=q+(k^K&(z^k))+Z[10]+38016083&4294967295,q=z+(j<<9&4294967295|j>>>23),j=K+(z^k&(q^z))+Z[15]+3634488961&4294967295,K=q+(j<<14&4294967295|j>>>18),j=k+(q^z&(K^q))+Z[4]+3889429448&4294967295,k=K+(j<<20&4294967295|j>>>12),j=z+(K^q&(k^K))+Z[9]+568446438&4294967295,z=k+(j<<5&4294967295|j>>>27),j=q+(k^K&(z^k))+Z[14]+3275163606&4294967295,q=z+(j<<9&4294967295|j>>>23),j=K+(z^k&(q^z))+Z[3]+4107603335&4294967295,K=q+(j<<14&4294967295|j>>>18),j=k+(q^z&(K^q))+Z[8]+1163531501&4294967295,k=K+(j<<20&4294967295|j>>>12),j=z+(K^q&(k^K))+Z[13]+2850285829&4294967295,z=k+(j<<5&4294967295|j>>>27),j=q+(k^K&(z^k))+Z[2]+4243563512&4294967295,q=z+(j<<9&4294967295|j>>>23),j=K+(z^k&(q^z))+Z[7]+1735328473&4294967295,K=q+(j<<14&4294967295|j>>>18),j=k+(q^z&(K^q))+Z[12]+2368359562&4294967295,k=K+(j<<20&4294967295|j>>>12),j=z+(k^K^q)+Z[5]+4294588738&4294967295,z=k+(j<<4&4294967295|j>>>28),j=q+(z^k^K)+Z[8]+2272392833&4294967295,q=z+(j<<11&4294967295|j>>>21),j=K+(q^z^k)+Z[11]+1839030562&4294967295,K=q+(j<<16&4294967295|j>>>16),j=k+(K^q^z)+Z[14]+4259657740&4294967295,k=K+(j<<23&4294967295|j>>>9),j=z+(k^K^q)+Z[1]+2763975236&4294967295,z=k+(j<<4&4294967295|j>>>28),j=q+(z^k^K)+Z[4]+1272893353&4294967295,q=z+(j<<11&4294967295|j>>>21),j=K+(q^z^k)+Z[7]+4139469664&4294967295,K=q+(j<<16&4294967295|j>>>16),j=k+(K^q^z)+Z[10]+3200236656&4294967295,k=K+(j<<23&4294967295|j>>>9),j=z+(k^K^q)+Z[13]+681279174&4294967295,z=k+(j<<4&4294967295|j>>>28),j=q+(z^k^K)+Z[0]+3936430074&4294967295,q=z+(j<<11&4294967295|j>>>21),j=K+(q^z^k)+Z[3]+3572445317&4294967295,K=q+(j<<16&4294967295|j>>>16),j=k+(K^q^z)+Z[6]+76029189&4294967295,k=K+(j<<23&4294967295|j>>>9),j=z+(k^K^q)+Z[9]+3654602809&4294967295,z=k+(j<<4&4294967295|j>>>28),j=q+(z^k^K)+Z[12]+3873151461&4294967295,q=z+(j<<11&4294967295|j>>>21),j=K+(q^z^k)+Z[15]+530742520&4294967295,K=q+(j<<16&4294967295|j>>>16),j=k+(K^q^z)+Z[2]+3299628645&4294967295,k=K+(j<<23&4294967295|j>>>9),j=z+(K^(k|~q))+Z[0]+4096336452&4294967295,z=k+(j<<6&4294967295|j>>>26),j=q+(k^(z|~K))+Z[7]+1126891415&4294967295,q=z+(j<<10&4294967295|j>>>22),j=K+(z^(q|~k))+Z[14]+2878612391&4294967295,K=q+(j<<15&4294967295|j>>>17),j=k+(q^(K|~z))+Z[5]+4237533241&4294967295,k=K+(j<<21&4294967295|j>>>11),j=z+(K^(k|~q))+Z[12]+1700485571&4294967295,z=k+(j<<6&4294967295|j>>>26),j=q+(k^(z|~K))+Z[3]+2399980690&4294967295,q=z+(j<<10&4294967295|j>>>22),j=K+(z^(q|~k))+Z[10]+4293915773&4294967295,K=q+(j<<15&4294967295|j>>>17),j=k+(q^(K|~z))+Z[1]+2240044497&4294967295,k=K+(j<<21&4294967295|j>>>11),j=z+(K^(k|~q))+Z[8]+1873313359&4294967295,z=k+(j<<6&4294967295|j>>>26),j=q+(k^(z|~K))+Z[15]+4264355552&4294967295,q=z+(j<<10&4294967295|j>>>22),j=K+(z^(q|~k))+Z[6]+2734768916&4294967295,K=q+(j<<15&4294967295|j>>>17),j=k+(q^(K|~z))+Z[13]+1309151649&4294967295,k=K+(j<<21&4294967295|j>>>11),j=z+(K^(k|~q))+Z[4]+4149444226&4294967295,z=k+(j<<6&4294967295|j>>>26),j=q+(k^(z|~K))+Z[11]+3174756917&4294967295,q=z+(j<<10&4294967295|j>>>22),j=K+(z^(q|~k))+Z[2]+718787259&4294967295,K=q+(j<<15&4294967295|j>>>17),j=k+(q^(K|~z))+Z[9]+3951481745&4294967295,H.g[0]=H.g[0]+z&4294967295,H.g[1]=H.g[1]+(K+(j<<21&4294967295|j>>>11))&4294967295,H.g[2]=H.g[2]+K&4294967295,H.g[3]=H.g[3]+q&4294967295}a.prototype.u=function(H,z){z===void 0&&(z=H.length);for(var k=z-this.blockSize,Z=this.B,K=this.h,q=0;q<z;){if(K==0)for(;q<=k;)c(this,H,q),q+=this.blockSize;if(typeof H=="string"){for(;q<z;)if(Z[K++]=H.charCodeAt(q++),K==this.blockSize){c(this,Z),K=0;break}}else for(;q<z;)if(Z[K++]=H[q++],K==this.blockSize){c(this,Z),K=0;break}}this.h=K,this.o+=z},a.prototype.v=function(){var H=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);H[0]=128;for(var z=1;z<H.length-8;++z)H[z]=0;var k=8*this.o;for(z=H.length-8;z<H.length;++z)H[z]=k&255,k/=256;for(this.u(H),H=Array(16),z=k=0;4>z;++z)for(var Z=0;32>Z;Z+=8)H[k++]=this.g[z]>>>Z&255;return H};function d(H,z){var k=T;return Object.prototype.hasOwnProperty.call(k,H)?k[H]:k[H]=z(H)}function E(H,z){this.h=z;for(var k=[],Z=!0,K=H.length-1;0<=K;K--){var q=H[K]|0;Z&&q==z||(k[K]=q,Z=!1)}this.g=k}var T={};function S(H){return-128<=H&&128>H?d(H,function(z){return new E([z|0],0>z?-1:0)}):new E([H|0],0>H?-1:0)}function x(H){if(isNaN(H)||!isFinite(H))return M;if(0>H)return re(x(-H));for(var z=[],k=1,Z=0;H>=k;Z++)z[Z]=H/k|0,k*=4294967296;return new E(z,0)}function I(H,z){if(H.length==0)throw Error("number format error: empty string");if(z=z||10,2>z||36<z)throw Error("radix out of range: "+z);if(H.charAt(0)=="-")return re(I(H.substring(1),z));if(0<=H.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=x(Math.pow(z,8)),Z=M,K=0;K<H.length;K+=8){var q=Math.min(8,H.length-K),j=parseInt(H.substring(K,K+q),z);8>q?(q=x(Math.pow(z,q)),Z=Z.j(q).add(x(j))):(Z=Z.j(k),Z=Z.add(x(j)))}return Z}var M=S(0),U=S(1),W=S(16777216);i=E.prototype,i.m=function(){if(oe(this))return-re(this).m();for(var H=0,z=1,k=0;k<this.g.length;k++){var Z=this.i(k);H+=(0<=Z?Z:4294967296+Z)*z,z*=4294967296}return H},i.toString=function(H){if(H=H||10,2>H||36<H)throw Error("radix out of range: "+H);if(ae(this))return"0";if(oe(this))return"-"+re(this).toString(H);for(var z=x(Math.pow(H,6)),k=this,Z="";;){var K=Be(k,z).g;k=ve(k,K.j(z));var q=((0<k.g.length?k.g[0]:k.h)>>>0).toString(H);if(k=K,ae(k))return q+Z;for(;6>q.length;)q="0"+q;Z=q+Z}},i.i=function(H){return 0>H?0:H<this.g.length?this.g[H]:this.h};function ae(H){if(H.h!=0)return!1;for(var z=0;z<H.g.length;z++)if(H.g[z]!=0)return!1;return!0}function oe(H){return H.h==-1}i.l=function(H){return H=ve(this,H),oe(H)?-1:ae(H)?0:1};function re(H){for(var z=H.g.length,k=[],Z=0;Z<z;Z++)k[Z]=~H.g[Z];return new E(k,~H.h).add(U)}i.abs=function(){return oe(this)?re(this):this},i.add=function(H){for(var z=Math.max(this.g.length,H.g.length),k=[],Z=0,K=0;K<=z;K++){var q=Z+(this.i(K)&65535)+(H.i(K)&65535),j=(q>>>16)+(this.i(K)>>>16)+(H.i(K)>>>16);Z=j>>>16,q&=65535,j&=65535,k[K]=j<<16|q}return new E(k,k[k.length-1]&-2147483648?-1:0)};function ve(H,z){return H.add(re(z))}i.j=function(H){if(ae(this)||ae(H))return M;if(oe(this))return oe(H)?re(this).j(re(H)):re(re(this).j(H));if(oe(H))return re(this.j(re(H)));if(0>this.l(W)&&0>H.l(W))return x(this.m()*H.m());for(var z=this.g.length+H.g.length,k=[],Z=0;Z<2*z;Z++)k[Z]=0;for(Z=0;Z<this.g.length;Z++)for(var K=0;K<H.g.length;K++){var q=this.i(Z)>>>16,j=this.i(Z)&65535,vt=H.i(K)>>>16,fe=H.i(K)&65535;k[2*Z+2*K]+=j*fe,me(k,2*Z+2*K),k[2*Z+2*K+1]+=q*fe,me(k,2*Z+2*K+1),k[2*Z+2*K+1]+=j*vt,me(k,2*Z+2*K+1),k[2*Z+2*K+2]+=q*vt,me(k,2*Z+2*K+2)}for(Z=0;Z<z;Z++)k[Z]=k[2*Z+1]<<16|k[2*Z];for(Z=z;Z<2*z;Z++)k[Z]=0;return new E(k,0)};function me(H,z){for(;(H[z]&65535)!=H[z];)H[z+1]+=H[z]>>>16,H[z]&=65535,z++}function pe(H,z){this.g=H,this.h=z}function Be(H,z){if(ae(z))throw Error("division by zero");if(ae(H))return new pe(M,M);if(oe(H))return z=Be(re(H),z),new pe(re(z.g),re(z.h));if(oe(z))return z=Be(H,re(z)),new pe(re(z.g),z.h);if(30<H.g.length){if(oe(H)||oe(z))throw Error("slowDivide_ only works with positive integers.");for(var k=U,Z=z;0>=Z.l(H);)k=Ge(k),Z=Ge(Z);var K=qe(k,1),q=qe(Z,1);for(Z=qe(Z,2),k=qe(k,2);!ae(Z);){var j=q.add(Z);0>=j.l(H)&&(K=K.add(k),q=j),Z=qe(Z,1),k=qe(k,1)}return z=ve(H,K.j(z)),new pe(K,z)}for(K=M;0<=H.l(z);){for(k=Math.max(1,Math.floor(H.m()/z.m())),Z=Math.ceil(Math.log(k)/Math.LN2),Z=48>=Z?1:Math.pow(2,Z-48),q=x(k),j=q.j(z);oe(j)||0<j.l(H);)k-=Z,q=x(k),j=q.j(z);ae(q)&&(q=U),K=K.add(q),H=ve(H,j)}return new pe(K,H)}i.A=function(H){return Be(this,H).h},i.and=function(H){for(var z=Math.max(this.g.length,H.g.length),k=[],Z=0;Z<z;Z++)k[Z]=this.i(Z)&H.i(Z);return new E(k,this.h&H.h)},i.or=function(H){for(var z=Math.max(this.g.length,H.g.length),k=[],Z=0;Z<z;Z++)k[Z]=this.i(Z)|H.i(Z);return new E(k,this.h|H.h)},i.xor=function(H){for(var z=Math.max(this.g.length,H.g.length),k=[],Z=0;Z<z;Z++)k[Z]=this.i(Z)^H.i(Z);return new E(k,this.h^H.h)};function Ge(H){for(var z=H.g.length+1,k=[],Z=0;Z<z;Z++)k[Z]=H.i(Z)<<1|H.i(Z-1)>>>31;return new E(k,H.h)}function qe(H,z){var k=z>>5;z%=32;for(var Z=H.g.length-k,K=[],q=0;q<Z;q++)K[q]=0<z?H.i(q+k)>>>z|H.i(q+k+1)<<32-z:H.i(q+k);return new E(K,H.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Z_=a,E.prototype.add=E.prototype.add,E.prototype.multiply=E.prototype.j,E.prototype.modulo=E.prototype.A,E.prototype.compare=E.prototype.l,E.prototype.toNumber=E.prototype.m,E.prototype.toString=E.prototype.toString,E.prototype.getBits=E.prototype.i,E.fromNumber=x,E.fromString=I,ao=E}).apply(typeof Ay<"u"?Ay:typeof self<"u"?self:typeof window<"u"?window:{});var zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var J_,ec,$_,Jh,y0,eA,tA,nA;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,v,R){return y==Array.prototype||y==Object.prototype||(y[v]=R.value),y};function t(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof zh=="object"&&zh];for(var v=0;v<y.length;++v){var R=y[v];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var a=t(this);function c(y,v){if(v)e:{var R=a;y=y.split(".");for(var B=0;B<y.length-1;B++){var te=y[B];if(!(te in R))break e;R=R[te]}y=y[y.length-1],B=R[y],v=v(B),v!=B&&v!=null&&e(R,y,{configurable:!0,writable:!0,value:v})}}function d(y,v){y instanceof String&&(y+="");var R=0,B=!1,te={next:function(){if(!B&&R<y.length){var de=R++;return{value:v(de,y[de]),done:!1}}return B=!0,{done:!0,value:void 0}}};return te[Symbol.iterator]=function(){return te},te}c("Array.prototype.values",function(y){return y||function(){return d(this,function(v,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var E=E||{},T=this||self;function S(y){var v=typeof y;return v=v!="object"?v:y?Array.isArray(y)?"array":v:"null",v=="array"||v=="object"&&typeof y.length=="number"}function x(y){var v=typeof y;return v=="object"&&y!=null||v=="function"}function I(y,v,R){return y.call.apply(y.bind,arguments)}function M(y,v,R){if(!y)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var te=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(te,B),y.apply(v,te)}}return function(){return y.apply(v,arguments)}}function U(y,v,R){return U=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?I:M,U.apply(null,arguments)}function W(y,v){var R=Array.prototype.slice.call(arguments,1);return function(){var B=R.slice();return B.push.apply(B,arguments),y.apply(this,B)}}function ae(y,v){function R(){}R.prototype=v.prototype,y.aa=v.prototype,y.prototype=new R,y.prototype.constructor=y,y.Qb=function(B,te,de){for(var Le=Array(arguments.length-2),It=2;It<arguments.length;It++)Le[It-2]=arguments[It];return v.prototype[te].apply(B,Le)}}function oe(y){const v=y.length;if(0<v){const R=Array(v);for(let B=0;B<v;B++)R[B]=y[B];return R}return[]}function re(y,v){for(let R=1;R<arguments.length;R++){const B=arguments[R];if(S(B)){const te=y.length||0,de=B.length||0;y.length=te+de;for(let Le=0;Le<de;Le++)y[te+Le]=B[Le]}else y.push(B)}}class ve{constructor(v,R){this.i=v,this.j=R,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function me(y){return/^[\s\xa0]*$/.test(y)}function pe(){var y=T.navigator;return y&&(y=y.userAgent)?y:""}function Be(y){return Be[" "](y),y}Be[" "]=function(){};var Ge=pe().indexOf("Gecko")!=-1&&!(pe().toLowerCase().indexOf("webkit")!=-1&&pe().indexOf("Edge")==-1)&&!(pe().indexOf("Trident")!=-1||pe().indexOf("MSIE")!=-1)&&pe().indexOf("Edge")==-1;function qe(y,v,R){for(const B in y)v.call(R,y[B],B,y)}function H(y,v){for(const R in y)v.call(void 0,y[R],R,y)}function z(y){const v={};for(const R in y)v[R]=y[R];return v}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(y,v){let R,B;for(let te=1;te<arguments.length;te++){B=arguments[te];for(R in B)y[R]=B[R];for(let de=0;de<k.length;de++)R=k[de],Object.prototype.hasOwnProperty.call(B,R)&&(y[R]=B[R])}}function K(y){var v=1;y=y.split(":");const R=[];for(;0<v&&y.length;)R.push(y.shift()),v--;return y.length&&R.push(y.join(":")),R}function q(y){T.setTimeout(()=>{throw y},0)}function j(){var y=mt;let v=null;return y.g&&(v=y.g,y.g=y.g.next,y.g||(y.h=null),v.next=null),v}class vt{constructor(){this.h=this.g=null}add(v,R){const B=fe.get();B.set(v,R),this.h?this.h.next=B:this.g=B,this.h=B}}var fe=new ve(()=>new ge,y=>y.reset());class ge{constructor(){this.next=this.g=this.h=null}set(v,R){this.h=v,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,Xe=!1,mt=new vt,X=()=>{const y=T.Promise.resolve(void 0);_e=()=>{y.then(Se)}};var Se=()=>{for(var y;y=j();){try{y.h.call(y.g)}catch(R){q(R)}var v=fe;v.j(y),100>v.h&&(v.h++,y.next=v.g,v.g=y)}Xe=!1};function Oe(){this.s=this.s,this.C=this.C}Oe.prototype.s=!1,Oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},Oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ne(y,v){this.type=y,this.g=this.target=v,this.defaultPrevented=!1}Ne.prototype.h=function(){this.defaultPrevented=!0};var Ve=(function(){if(!T.addEventListener||!Object.defineProperty)return!1;var y=!1,v=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const R=()=>{};T.addEventListener("test",R,v),T.removeEventListener("test",R,v)}catch{}return y})();function ht(y,v){if(Ne.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var R=this.type=y.type,B=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=v,v=y.relatedTarget){if(Ge){e:{try{Be(v.nodeName);var te=!0;break e}catch{}te=!1}te||(v=null)}}else R=="mouseover"?v=y.fromElement:R=="mouseout"&&(v=y.toElement);this.relatedTarget=v,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=typeof y.pointerType=="string"?y.pointerType:Re[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&ht.aa.h.call(this)}}ae(ht,Ne);var Re={2:"touch",3:"pen",4:"mouse"};ht.prototype.h=function(){ht.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var kn="closure_listenable_"+(1e6*Math.random()|0),at=0;function Dr(y,v,R,B,te){this.listener=y,this.proxy=null,this.src=v,this.type=R,this.capture=!!B,this.ha=te,this.key=++at,this.da=this.fa=!1}function Zr(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function Sn(y){this.src=y,this.g={},this.h=0}Sn.prototype.add=function(y,v,R,B,te){var de=y.toString();y=this.g[de],y||(y=this.g[de]=[],this.h++);var Le=_t(y,v,B,te);return-1<Le?(v=y[Le],R||(v.fa=!1)):(v=new Dr(v,this.src,de,!!B,te),v.fa=R,y.push(v)),v};function Ni(y,v){var R=v.type;if(R in y.g){var B=y.g[R],te=Array.prototype.indexOf.call(B,v,void 0),de;(de=0<=te)&&Array.prototype.splice.call(B,te,1),de&&(Zr(v),y.g[R].length==0&&(delete y.g[R],y.h--))}}function _t(y,v,R,B){for(var te=0;te<y.length;++te){var de=y[te];if(!de.da&&de.listener==v&&de.capture==!!R&&de.ha==B)return te}return-1}var Jr="closure_lm_"+(1e6*Math.random()|0),Or={};function hs(y,v,R,B,te){if(Array.isArray(v)){for(var de=0;de<v.length;de++)hs(y,v[de],R,B,te);return null}return R=ma(R),y&&y[kn]?y.K(v,R,x(B)?!!B.capture:!1,te):Xt(y,v,R,!1,B,te)}function Xt(y,v,R,B,te,de){if(!v)throw Error("Invalid event type");var Le=x(te)?!!te.capture:!!te,It=Ls(y);if(It||(y[Jr]=It=new Sn(y)),R=It.add(v,R,B,Le,de),R.proxy)return R;if(B=Wt(),R.proxy=B,B.src=y,B.listener=R,y.addEventListener)Ve||(te=Le),te===void 0&&(te=!1),y.addEventListener(v.toString(),B,te);else if(y.attachEvent)y.attachEvent(Ue(v.toString()),B);else if(y.addListener&&y.removeListener)y.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return R}function Wt(){function y(R){return v.call(y.src,y.listener,R)}const v=ga;return y}function At(y,v,R,B,te){if(Array.isArray(v))for(var de=0;de<v.length;de++)At(y,v[de],R,B,te);else B=x(B)?!!B.capture:!!B,R=ma(R),y&&y[kn]?(y=y.i,v=String(v).toString(),v in y.g&&(de=y.g[v],R=_t(de,R,B,te),-1<R&&(Zr(de[R]),Array.prototype.splice.call(de,R,1),de.length==0&&(delete y.g[v],y.h--)))):y&&(y=Ls(y))&&(v=y.g[v.toString()],y=-1,v&&(y=_t(v,R,B,te)),(R=-1<y?v[y]:null)&&Wi(R))}function Wi(y){if(typeof y!="number"&&y&&!y.da){var v=y.src;if(v&&v[kn])Ni(v.i,y);else{var R=y.type,B=y.proxy;v.removeEventListener?v.removeEventListener(R,B,y.capture):v.detachEvent?v.detachEvent(Ue(R),B):v.addListener&&v.removeListener&&v.removeListener(B),(R=Ls(v))?(Ni(R,y),R.h==0&&(R.src=null,v[Jr]=null)):Zr(y)}}}function Ue(y){return y in Or?Or[y]:Or[y]="on"+y}function ga(y,v){if(y.da)y=!0;else{v=new ht(v,this);var R=y.listener,B=y.ha||y.src;y.fa&&Wi(y),y=R.call(B,v)}return y}function Ls(y){return y=y[Jr],y instanceof Sn?y:null}var Yr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ma(y){return typeof y=="function"?y:(y[Yr]||(y[Yr]=function(v){return y.handleEvent(v)}),y[Yr])}function Lt(){Oe.call(this),this.i=new Sn(this),this.M=this,this.F=null}ae(Lt,Oe),Lt.prototype[kn]=!0,Lt.prototype.removeEventListener=function(y,v,R,B){At(this,y,v,R,B)};function Ut(y,v){var R,B=y.F;if(B)for(R=[];B;B=B.F)R.push(B);if(y=y.M,B=v.type||v,typeof v=="string")v=new Ne(v,y);else if(v instanceof Ne)v.target=v.target||y;else{var te=v;v=new Ne(B,y),Z(v,te)}if(te=!0,R)for(var de=R.length-1;0<=de;de--){var Le=v.g=R[de];te=Vn(Le,B,!0,v)&&te}if(Le=v.g=y,te=Vn(Le,B,!0,v)&&te,te=Vn(Le,B,!1,v)&&te,R)for(de=0;de<R.length;de++)Le=v.g=R[de],te=Vn(Le,B,!1,v)&&te}Lt.prototype.N=function(){if(Lt.aa.N.call(this),this.i){var y=this.i,v;for(v in y.g){for(var R=y.g[v],B=0;B<R.length;B++)Zr(R[B]);delete y.g[v],y.h--}}this.F=null},Lt.prototype.K=function(y,v,R,B){return this.i.add(String(y),v,!1,R,B)},Lt.prototype.L=function(y,v,R,B){return this.i.add(String(y),v,!0,R,B)};function Vn(y,v,R,B){if(v=y.i.g[String(v)],!v)return!0;v=v.concat();for(var te=!0,de=0;de<v.length;++de){var Le=v[de];if(Le&&!Le.da&&Le.capture==R){var It=Le.listener,wn=Le.ha||Le.src;Le.fa&&Ni(y.i,Le),te=It.call(wn,B)!==!1&&te}}return te&&!B.defaultPrevented}function Ft(y,v,R){if(typeof y=="function")R&&(y=U(y,R));else if(y&&typeof y.handleEvent=="function")y=U(y.handleEvent,y);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:T.setTimeout(y,v||0)}function xo(y){y.g=Ft(()=>{y.g=null,y.i&&(y.i=!1,xo(y))},y.l);const v=y.h;y.h=null,y.m.apply(null,v)}class pa extends Oe{constructor(v,R){super(),this.m=v,this.l=R,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:xo(this)}N(){super.N(),this.g&&(T.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ps(y){Oe.call(this),this.h=y,this.g={}}ae(Ps,Oe);var rn=[];function Me(y){qe(y.g,function(v,R){this.g.hasOwnProperty(R)&&Wi(v)},y),y.g={}}Ps.prototype.N=function(){Ps.aa.N.call(this),Me(this)},Ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qt=T.JSON.stringify,Pt=T.JSON.parse,Qt=class{stringify(y){return T.JSON.stringify(y,void 0)}parse(y){return T.JSON.parse(y,void 0)}};function Qi(){}Qi.prototype.h=null;function Bs(y){return y.h||(y.h=y.i())}function ya(){}var dt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _r(){Ne.call(this,"d")}ae(_r,Ne);function Ea(){Ne.call(this,"c")}ae(Ea,Ne);var hi={},Ar=null;function Di(){return Ar=Ar||new Lt}hi.La="serverreachability";function Ln(y){Ne.call(this,hi.La,y)}ae(Ln,Ne);function Xr(y){const v=Di();Ut(v,new Ln(v))}hi.STAT_EVENT="statevent";function ks(y,v){Ne.call(this,hi.STAT_EVENT,y),this.stat=v}ae(ks,Ne);function Mt(y){const v=Di();Ut(v,new ks(v,y))}hi.Ma="timingevent";function qn(y,v){Ne.call(this,hi.Ma,y),this.size=v}ae(qn,Ne);function sn(y,v){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return T.setTimeout(function(){y()},v)}function Mr(){this.g=!0}Mr.prototype.xa=function(){this.g=!1};function $n(y,v,R,B,te,de){y.info(function(){if(y.g)if(de)for(var Le="",It=de.split("&"),wn=0;wn<It.length;wn++){var bt=It[wn].split("=");if(1<bt.length){var dn=bt[0];bt=bt[1];var Dn=dn.split("_");Le=2<=Dn.length&&Dn[1]=="type"?Le+(dn+"="+bt+"&"):Le+(dn+"=redacted&")}}else Le=null;else Le=de;return"XMLHTTP REQ ("+B+") [attempt "+te+"]: "+v+`
`+R+`
`+Le})}function Ki(y,v,R,B,te,de,Le){y.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+te+"]: "+v+`
`+R+`
`+de+" "+Le})}function Yn(y,v,R,B){y.info(function(){return"XMLHTTP TEXT ("+v+"): "+$r(y,R)+(B?" "+B:"")})}function ke(y,v){y.info(function(){return"TIMEOUT: "+v})}Mr.prototype.info=function(){};function $r(y,v){if(!y.g)return v;if(!v)return null;try{var R=JSON.parse(v);if(R){for(y=0;y<R.length;y++)if(Array.isArray(R[y])){var B=R[y];if(!(2>B.length)){var te=B[1];if(Array.isArray(te)&&!(1>te.length)){var de=te[0];if(de!="noop"&&de!="stop"&&de!="close")for(var Le=1;Le<te.length;Le++)te[Le]=""}}}}return qt(R)}catch{return v}}var Oi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xr;function Wr(){}ae(Wr,Qi),Wr.prototype.g=function(){return new XMLHttpRequest},Wr.prototype.i=function(){return{}},xr=new Wr;function er(y,v,R,B){this.j=y,this.i=v,this.l=R,this.R=B||1,this.U=new Ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zt}function zt(){this.i=null,this.g="",this.h=!1}var wo={},_a={};function Un(y,v,R){y.L=1,y.v=mn(Et(v)),y.m=R,y.P=!0,En(y,null)}function En(y,v){y.F=Date.now(),Lr(y),y.A=Et(y.v);var R=y.A,B=y.R;Array.isArray(B)||(B=[String(B)]),bn(R.i,"t",B),y.C=0,R=y.j.J,y.h=new zt,y.g=nl(y.j,R?v:null,!y.m),0<y.O&&(y.M=new pa(U(y.Y,y,y.g),y.O)),v=y.U,R=y.g,B=y.ca;var te="readystatechange";Array.isArray(te)||(te&&(rn[0]=te.toString()),te=rn);for(var de=0;de<te.length;de++){var Le=hs(R,te[de],B||v.handleEvent,!1,v.h||v);if(!Le)break;v.g[Le.key]=Le}v=y.H?z(y.H):{},y.m?(y.u||(y.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,v)):(y.u="GET",y.g.ea(y.A,y.u,null,v)),Xr(),$n(y.i,y.u,y.A,y.l,y.R,y.m)}er.prototype.ca=function(y){y=y.target;const v=this.M;v&&ti(y)==3?v.j():this.Y(y)},er.prototype.Y=function(y){try{if(y==this.g)e:{const Dn=ti(this.g);var v=this.g.Ba();const zn=this.g.Z();if(!(3>Dn)&&(Dn!=3||this.g&&(this.h.h||this.g.oa()||$o(this.g)))){this.J||Dn!=4||v==7||(v==8||0>=zn?Xr(3):Xr(2)),xe(this);var R=this.g.Z();this.X=R;t:if(Jt(this)){var B=$o(this.g);y="";var te=B.length,de=ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pt(this),Mi(this);var Le="";break t}this.h.i=new T.TextDecoder}for(v=0;v<te;v++)this.h.h=!0,y+=this.h.i.decode(B[v],{stream:!(de&&v==te-1)});B.length=0,this.h.g+=y,this.C=0,Le=this.h.g}else Le=this.g.oa();if(this.o=R==200,Ki(this.i,this.u,this.A,this.l,this.R,Dn,R),this.o){if(this.T&&!this.K){t:{if(this.g){var It,wn=this.g;if((It=wn.g?wn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!me(It)){var bt=It;break t}}bt=null}if(R=bt)Yn(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ei(this,R);else{this.o=!1,this.s=3,Mt(12),pt(this),Mi(this);break e}}if(this.P){R=!0;let tr;for(;!this.J&&this.C<Le.length;)if(tr=To(this,Le),tr==_a){Dn==4&&(this.s=4,Mt(14),R=!1),Yn(this.i,this.l,null,"[Incomplete Response]");break}else if(tr==wo){this.s=4,Mt(15),Yn(this.i,this.l,Le,"[Invalid Chunk]"),R=!1;break}else Yn(this.i,this.l,tr,null),ei(this,tr);if(Jt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dn!=4||Le.length!=0||this.h.h||(this.s=1,Mt(16),R=!1),this.o=this.o&&R,!R)Yn(this.i,this.l,Le,"[Invalid Chunked Response]"),pt(this),Mi(this);else if(0<Le.length&&!this.W){this.W=!0;var dn=this.j;dn.g==this&&dn.ba&&!dn.M&&(dn.j.info("Great, no buffering proxy detected. Bytes received: "+Le.length),es(dn),dn.M=!0,Mt(11))}}else Yn(this.i,this.l,Le,null),ei(this,Le);Dn==4&&pt(this),this.o&&!this.J&&(Dn==4?fn(this.j,this):(this.o=!1,Lr(this)))}else Ht(this.g),R==400&&0<Le.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),pt(this),Mi(this)}}}catch{}finally{}};function Jt(y){return y.g?y.u=="GET"&&y.L!=2&&y.j.Ca:!1}function To(y,v){var R=y.C,B=v.indexOf(`
`,R);return B==-1?_a:(R=Number(v.substring(R,B)),isNaN(R)?wo:(B+=1,B+R>v.length?_a:(v=v.slice(B,B+R),y.C=B+R,v)))}er.prototype.cancel=function(){this.J=!0,pt(this)};function Lr(y){y.S=Date.now()+y.I,Aa(y,y.I)}function Aa(y,v){if(y.B!=null)throw Error("WatchDog timer not null");y.B=sn(U(y.ba,y),v)}function xe(y){y.B&&(T.clearTimeout(y.B),y.B=null)}er.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(ke(this.i,this.A),this.L!=2&&(Xr(),Mt(17)),pt(this),this.s=2,Mi(this)):Aa(this,this.S-y)};function Mi(y){y.j.G==0||y.J||fn(y.j,y)}function pt(y){xe(y);var v=y.M;v&&typeof v.ma=="function"&&v.ma(),y.M=null,Me(y.U),y.g&&(v=y.g,y.g=null,v.abort(),v.ma())}function ei(y,v){try{var R=y.j;if(R.G!=0&&(R.g==y||Vs(R.h,y))){if(!y.K&&Vs(R.h,y)&&R.G==3){try{var B=R.Da.g.parse(v)}catch{B=null}if(Array.isArray(B)&&B.length==3){var te=B;if(te[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<y.F)ps(R),Ca(R);else break e;Co(R),Mt(18)}}else R.za=te[1],0<R.za-R.T&&37500>te[2]&&R.F&&R.v==0&&!R.C&&(R.C=sn(U(R.Za,R),6e3));if(1>=ft(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else Tr(R,11)}else if((y.K||R.g==y)&&ps(R),!me(v))for(te=R.Da.g.parse(v),v=0;v<te.length;v++){let bt=te[v];if(R.T=bt[0],bt=bt[1],R.G==2)if(bt[0]=="c"){R.K=bt[1],R.ia=bt[2];const dn=bt[3];dn!=null&&(R.la=dn,R.j.info("VER="+R.la));const Dn=bt[4];Dn!=null&&(R.Aa=Dn,R.j.info("SVER="+R.Aa));const zn=bt[5];zn!=null&&typeof zn=="number"&&0<zn&&(B=1.5*zn,R.L=B,R.j.info("backChannelRequestTimeoutMs_="+B)),B=R;const tr=y.g;if(tr){const Wn=tr.g?tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wn){var de=B.h;de.g||Wn.indexOf("spdy")==-1&&Wn.indexOf("quic")==-1&&Wn.indexOf("h2")==-1||(de.j=de.l,de.g=new Set,de.h&&(fs(de,de.h),de.h=null))}if(B.D){const So=tr.g?tr.g.getResponseHeader("X-HTTP-Session-Id"):null;So&&(B.ya=So,Pe(B.I,B.D,So))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-y.F,R.j.info("Handshake RTT: "+R.R+"ms")),B=R;var Le=y;if(B.qa=Ze(B,B.J?B.ia:null,B.W),Le.K){or(B.h,Le);var It=Le,wn=B.L;wn&&(It.I=wn),It.B&&(xe(It),Lr(It)),B.g=Le}else tl(B);0<R.i.length&&st(R)}else bt[0]!="stop"&&bt[0]!="close"||Tr(R,7);else R.G==3&&(bt[0]=="stop"||bt[0]=="close"?bt[0]=="stop"?Tr(R,7):ni(R):bt[0]!="noop"&&R.l&&R.l.ta(bt),R.v=0)}}Xr(4)}catch{}}var Zo=class{constructor(y,v){this.g=y,this.map=v}};function yt(y){this.l=y||10,T.PerformanceNavigationTiming?(y=T.performance.getEntriesByType("navigation"),y=0<y.length&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(T.chrome&&T.chrome.loadTimes&&T.chrome.loadTimes()&&T.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wt(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function ft(y){return y.h?1:y.g?y.g.size:0}function Vs(y,v){return y.h?y.h==v:y.g?y.g.has(v):!1}function fs(y,v){y.g?y.g.add(v):y.h=v}function or(y,v){y.h&&y.h==v?y.h=null:y.g&&y.g.has(v)&&y.g.delete(v)}yt.prototype.cancel=function(){if(this.i=_n(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function _n(y){if(y.h!=null)return y.i.concat(y.h.D);if(y.g!=null&&y.g.size!==0){let v=y.i;for(const R of y.g.values())v=v.concat(R.D);return v}return oe(y.i)}function Li(y){if(y.V&&typeof y.V=="function")return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if(typeof y=="string")return y.split("");if(S(y)){for(var v=[],R=y.length,B=0;B<R;B++)v.push(y[B]);return v}v=[],R=0;for(B in y)v[R++]=y[B];return v}function xa(y){if(y.na&&typeof y.na=="function")return y.na();if(!y.V||typeof y.V!="function"){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(S(y)||typeof y=="string"){var v=[];y=y.length;for(var R=0;R<y;R++)v.push(R);return v}v=[],R=0;for(const B in y)v[R++]=B;return v}}}function un(y,v){if(y.forEach&&typeof y.forEach=="function")y.forEach(v,void 0);else if(S(y)||typeof y=="string")Array.prototype.forEach.call(y,v,void 0);else for(var R=xa(y),B=Li(y),te=B.length,de=0;de<te;de++)v.call(void 0,B[de],R&&R[de],y)}var Pr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uu(y,v){if(y){y=y.split("&");for(var R=0;R<y.length;R++){var B=y[R].indexOf("="),te=null;if(0<=B){var de=y[R].substring(0,B);te=y[R].substring(B+1)}else de=y[R];v(de,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function cn(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof cn){this.h=y.h,In(this,y.j),this.o=y.o,this.g=y.g,ee(this,y.s),this.l=y.l;var v=y.i,R=new fi;R.i=v.i,v.g&&(R.g=new Map(v.g),R.h=v.h),V(this,R),this.m=y.m}else y&&(v=String(y).match(Pr))?(this.h=!1,In(this,v[1]||"",!0),this.o=An(v[2]||""),this.g=An(v[3]||"",!0),ee(this,v[4]),this.l=An(v[5]||"",!0),V(this,v[6]||"",!0),this.m=An(v[7]||"")):(this.h=!1,this.i=new fi(null,this.h))}cn.prototype.toString=function(){var y=[],v=this.j;v&&y.push(Us(v,gr,!0),":");var R=this.g;return(R||v=="file")&&(y.push("//"),(v=this.o)&&y.push(Us(v,gr,!0),"@"),y.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&y.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&y.push("/"),y.push(Us(R,R.charAt(0)=="/"?hn:We,!0))),(R=this.i.toString())&&y.push("?",R),(R=this.m)&&y.push("#",Us(R,Ta)),y.join("")};function Et(y){return new cn(y)}function In(y,v,R){y.j=R?An(v,!0):v,y.j&&(y.j=y.j.replace(/:$/,""))}function ee(y,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);y.s=v}else y.s=null}function V(y,v,R){v instanceof fi?(y.i=v,gi(y.i,y.h)):(R||(v=Us(v,Jo)),y.i=new fi(v,y.h))}function Pe(y,v,R){y.i.set(v,R)}function mn(y){return Pe(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function An(y,v){return y?v?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Us(y,v,R){return typeof y=="string"?(y=encodeURI(y).replace(v,wa),R&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function wa(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var gr=/[#\/\?@]/g,We=/[#\?:]/g,hn=/[#\?]/g,Jo=/[#\?@]/g,Ta=/#/g;function fi(y,v){this.h=this.g=null,this.i=y||null,this.j=!!v}function wr(y){y.g||(y.g=new Map,y.h=0,y.i&&uu(y.i,function(v,R){y.add(decodeURIComponent(v.replace(/\+/g," ")),R)}))}i=fi.prototype,i.add=function(y,v){wr(this),this.i=null,y=Br(this,y);var R=this.g.get(y);return R||this.g.set(y,R=[]),R.push(v),this.h+=1,this};function di(y,v){wr(y),v=Br(y,v),y.g.has(v)&&(y.i=null,y.h-=y.g.get(v).length,y.g.delete(v))}function Zi(y,v){return wr(y),v=Br(y,v),y.g.has(v)}i.forEach=function(y,v){wr(this),this.g.forEach(function(R,B){R.forEach(function(te){y.call(v,te,B,this)},this)},this)},i.na=function(){wr(this);const y=Array.from(this.g.values()),v=Array.from(this.g.keys()),R=[];for(let B=0;B<v.length;B++){const te=y[B];for(let de=0;de<te.length;de++)R.push(v[B])}return R},i.V=function(y){wr(this);let v=[];if(typeof y=="string")Zi(this,y)&&(v=v.concat(this.g.get(Br(this,y))));else{y=Array.from(this.g.values());for(let R=0;R<y.length;R++)v=v.concat(y[R])}return v},i.set=function(y,v){return wr(this),this.i=null,y=Br(this,y),Zi(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[v]),this.h+=1,this},i.get=function(y,v){return y?(y=this.V(y),0<y.length?String(y[0]):v):v};function bn(y,v,R){di(y,v),0<R.length&&(y.i=null,y.g.set(Br(y,v),oe(R)),y.h+=R.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],v=Array.from(this.g.keys());for(var R=0;R<v.length;R++){var B=v[R];const de=encodeURIComponent(String(B)),Le=this.V(B);for(B=0;B<Le.length;B++){var te=de;Le[B]!==""&&(te+="="+encodeURIComponent(String(Le[B]))),y.push(te)}}return this.i=y.join("&")};function Br(y,v){return v=String(v),y.j&&(v=v.toLowerCase()),v}function gi(y,v){v&&!y.j&&(wr(y),y.i=null,y.g.forEach(function(R,B){var te=B.toLowerCase();B!=te&&(di(this,B),bn(this,te,R))},y)),y.j=v}function Qe(y,v){const R=new Mr;if(T.Image){const B=new Image;B.onload=W($e,R,"TestLoadImage: loaded",!0,v,B),B.onerror=W($e,R,"TestLoadImage: error",!1,v,B),B.onabort=W($e,R,"TestLoadImage: abort",!1,v,B),B.ontimeout=W($e,R,"TestLoadImage: timeout",!1,v,B),T.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=y}else v(!1)}function mi(y,v){const R=new Mr,B=new AbortController,te=setTimeout(()=>{B.abort(),$e(R,"TestPingServer: timeout",!1,v)},1e4);fetch(y,{signal:B.signal}).then(de=>{clearTimeout(te),de.ok?$e(R,"TestPingServer: ok",!0,v):$e(R,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(te),$e(R,"TestPingServer: error",!1,v)})}function $e(y,v,R,B,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),B(R)}catch{}}function xn(){this.g=new Qt}function Pi(y,v,R){const B=R||"";try{un(y,function(te,de){let Le=te;x(te)&&(Le=qt(te)),v.push(B+de+"="+encodeURIComponent(Le))})}catch(te){throw v.push(B+"type="+encodeURIComponent("_badmap")),te}}function Bi(y){this.l=y.Ub||null,this.j=y.eb||!1}ae(Bi,Qi),Bi.prototype.g=function(){return new ki(this.l,this.j)},Bi.prototype.i=(function(y){return function(){return y}})({});function ki(y,v){Lt.call(this),this.D=y,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}ae(ki,Lt),i=ki.prototype,i.open=function(y,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=v,this.readyState=1,kr(this)},i.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(v.body=y),(this.D||T).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vi(this)),this.readyState=0},i.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,kr(this)),this.g&&(this.readyState=3,kr(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof T.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pi(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))};function pi(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}i.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var v=y.value?y.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!y.done}))&&(this.response=this.responseText+=v)}y.done?Vi(this):kr(this),this.readyState==3&&pi(this)}},i.Ra=function(y){this.g&&(this.response=this.responseText=y,Vi(this))},i.Qa=function(y){this.g&&(this.response=y,Vi(this))},i.ga=function(){this.g&&Vi(this)};function Vi(y){y.readyState=4,y.l=null,y.j=null,y.v=null,kr(y)}i.setRequestHeader=function(y,v){this.u.append(y,v)},i.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],v=this.h.entries();for(var R=v.next();!R.done;)R=R.value,y.push(R[0]+": "+R[1]),R=v.next();return y.join(`\r
`)};function kr(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Ji(y){let v="";return qe(y,function(R,B){v+=B,v+=":",v+=R,v+=`\r
`}),v}function Rn(y,v,R){e:{for(B in R){var B=!1;break e}B=!0}B||(R=Ji(R),typeof y=="string"?R!=null&&encodeURIComponent(String(R)):Pe(y,v,R))}function Vt(y){Lt.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}ae(Vt,Lt);var Ui=/^https?$/i,yi=["POST","PUT"];i=Vt.prototype,i.Ha=function(y){this.J=y},i.ea=function(y,v,R,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);v=v?v.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xr.g(),this.v=this.o?Bs(this.o):Bs(xr),this.g.onreadystatechange=U(this.Ea,this);try{this.B=!0,this.g.open(v,String(y),!0),this.B=!1}catch(de){lr(this,de);return}if(y=R||"",R=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var te in B)R.set(te,B[te]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const de of B.keys())R.set(de,B.get(de));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(R.keys()).find(de=>de.toLowerCase()=="content-type"),te=T.FormData&&y instanceof T.FormData,!(0<=Array.prototype.indexOf.call(yi,v,void 0))||B||te||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[de,Le]of R)this.g.setRequestHeader(de,Le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hs(this),this.u=!0,this.g.send(y),this.u=!1}catch(de){lr(this,de)}};function lr(y,v){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=v,y.m=5,Fs(y),Ei(y)}function Fs(y){y.A||(y.A=!0,Ut(y,"complete"),Ut(y,"error"))}i.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,Ut(this,"complete"),Ut(this,"abort"),Ei(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ei(this,!0)),Vt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?zs(this):this.bb())},i.bb=function(){zs(this)};function zs(y){if(y.h&&typeof E<"u"&&(!y.v[1]||ti(y)!=4||y.Z()!=2)){if(y.u&&ti(y)==4)Ft(y.Ea,0,y);else if(Ut(y,"readystatechange"),ti(y)==4){y.h=!1;try{const Le=y.Z();e:switch(Le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var R;if(!(R=v)){var B;if(B=Le===0){var te=String(y.D).match(Pr)[1]||null;!te&&T.self&&T.self.location&&(te=T.self.location.protocol.slice(0,-1)),B=!Ui.test(te?te.toLowerCase():"")}R=B}if(R)Ut(y,"complete"),Ut(y,"success");else{y.m=6;try{var de=2<ti(y)?y.g.statusText:""}catch{de=""}y.l=de+" ["+y.Z()+"]",Fs(y)}}finally{Ei(y)}}}}function Ei(y,v){if(y.g){Hs(y);const R=y.g,B=y.v[0]?()=>{}:null;y.g=null,y.v=null,v||Ut(y,"ready");try{R.onreadystatechange=B}catch{}}}function Hs(y){y.I&&(T.clearTimeout(y.I),y.I=null)}i.isActive=function(){return!!this.g};function ti(y){return y.g?y.g.readyState:0}i.Z=function(){try{return 2<ti(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(y){if(this.g){var v=this.g.responseText;return y&&v.indexOf(y)==0&&(v=v.substring(y.length)),Pt(v)}};function $o(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Ht(y){const v={};y=(y.g&&2<=ti(y)&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<y.length;B++){if(me(y[B]))continue;var R=K(y[B]);const te=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const de=v[te]||[];v[te]=de,de.push(R)}H(v,function(B){return B.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ds(y,v,R){return R&&R.internalChannelParams&&R.internalChannelParams[y]||v}function $i(y){this.Aa=0,this.i=[],this.j=new Mr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ds("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ds("baseRetryDelayMs",5e3,y),this.cb=ds("retryDelaySeedMs",1e4,y),this.Wa=ds("forwardChannelMaxRetries",2,y),this.wa=ds("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new yt(y&&y.concurrentRequestLimit),this.Da=new xn,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=$i.prototype,i.la=8,i.G=1,i.connect=function(y,v,R,B){Mt(0),this.W=y,this.H=v||{},R&&B!==void 0&&(this.H.OSID=R,this.H.OAID=B),this.F=this.X,this.I=Ze(this,null,this.W),st(this)};function ni(y){if(ce(y),y.G==3){var v=y.U++,R=Et(y.I);if(Pe(R,"SID",y.K),Pe(R,"RID",v),Pe(R,"TYPE","terminate"),ms(y,R),v=new er(y,y.j,v),v.L=2,v.v=mn(Et(R)),R=!1,T.navigator&&T.navigator.sendBeacon)try{R=T.navigator.sendBeacon(v.v.toString(),"")}catch{}!R&&T.Image&&(new Image().src=v.v,R=!0),R||(v.g=nl(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Lr(v)}jt(y)}function Ca(y){y.g&&(es(y),y.g.cancel(),y.g=null)}function ce(y){Ca(y),y.u&&(T.clearTimeout(y.u),y.u=null),ps(y),y.h.cancel(),y.s&&(typeof y.s=="number"&&T.clearTimeout(y.s),y.s=null)}function st(y){if(!wt(y.h)&&!y.s){y.s=!0;var v=y.Ga;_e||X(),Xe||(_e(),Xe=!0),mt.add(v,y),y.B=0}}function Xn(y,v){return ft(y.h)>=y.h.j-(y.s?1:0)?!1:y.s?(y.i=v.D.concat(y.i),!0):y.G==1||y.G==2||y.B>=(y.Va?0:y.Wa)?!1:(y.s=sn(U(y.Ga,y,v),ys(y,y.B)),y.B++,!0)}i.Ga=function(y){if(this.s)if(this.s=null,this.G==1){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const te=new er(this,this.j,y);let de=this.o;if(this.S&&(de?(de=z(de),Z(de,this.S)):de=this.S),this.m!==null||this.O||(te.H=de,de=null),this.P)e:{for(var v=0,R=0;R<this.i.length;R++){t:{var B=this.i[R];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(v+=B,4096<v){v=R;break e}if(v===4096||R===this.i.length-1){v=R+1;break e}}v=1e3}else v=1e3;v=el(this,te,v),R=Et(this.I),Pe(R,"RID",y),Pe(R,"CVER",22),this.D&&Pe(R,"X-HTTP-Session-Id",this.D),ms(this,R),de&&(this.O?v="headers="+encodeURIComponent(String(Ji(de)))+"&"+v:this.m&&Rn(R,this.m,de)),fs(this.h,te),this.Ua&&Pe(R,"TYPE","init"),this.P?(Pe(R,"$req",v),Pe(R,"SID","null"),te.T=!0,Un(te,R,null)):Un(te,R,v),this.G=2}}else this.G==3&&(y?gs(this,y):this.i.length==0||wt(this.h)||gs(this))};function gs(y,v){var R;v?R=v.l:R=y.U++;const B=Et(y.I);Pe(B,"SID",y.K),Pe(B,"RID",R),Pe(B,"AID",y.T),ms(y,B),y.m&&y.o&&Rn(B,y.m,y.o),R=new er(y,y.j,R,y.B+1),y.m===null&&(R.H=y.o),v&&(y.i=v.D.concat(y.i)),v=el(y,R,1e3),R.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),fs(y.h,R),Un(R,B,v)}function ms(y,v){y.H&&qe(y.H,function(R,B){Pe(v,B,R)}),y.l&&un({},function(R,B){Pe(v,B,R)})}function el(y,v,R){R=Math.min(y.i.length,R);var B=y.l?U(y.l.Na,y.l,y):null;e:{var te=y.i;let de=-1;for(;;){const Le=["count="+R];de==-1?0<R?(de=te[0].g,Le.push("ofs="+de)):de=0:Le.push("ofs="+de);let It=!0;for(let wn=0;wn<R;wn++){let bt=te[wn].g;const dn=te[wn].map;if(bt-=de,0>bt)de=Math.max(0,te[wn].g-100),It=!1;else try{Pi(dn,Le,"req"+bt+"_")}catch{B&&B(dn)}}if(It){B=Le.join("&");break e}}}return y=y.i.splice(0,R),v.D=y,B}function tl(y){if(!y.g&&!y.u){y.Y=1;var v=y.Fa;_e||X(),Xe||(_e(),Xe=!0),mt.add(v,y),y.v=0}}function Co(y){return y.g||y.u||3<=y.v?!1:(y.Y++,y.u=sn(U(y.Fa,y),ys(y,y.v)),y.v++,!0)}i.Fa=function(){if(this.u=null,Nn(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=sn(U(this.ab,this),y)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),Ca(this),Nn(this))};function es(y){y.A!=null&&(T.clearTimeout(y.A),y.A=null)}function Nn(y){y.g=new er(y,y.j,"rpc",y.Y),y.m===null&&(y.g.H=y.o),y.g.O=0;var v=Et(y.qa);Pe(v,"RID","rpc"),Pe(v,"SID",y.K),Pe(v,"AID",y.T),Pe(v,"CI",y.F?"0":"1"),!y.F&&y.ja&&Pe(v,"TO",y.ja),Pe(v,"TYPE","xmlhttp"),ms(y,v),y.m&&y.o&&Rn(v,y.m,y.o),y.L&&(y.g.I=y.L);var R=y.g;y=y.ia,R.L=1,R.v=mn(Et(v)),R.m=null,R.P=!0,En(R,y)}i.Za=function(){this.C!=null&&(this.C=null,Ca(this),Co(this),Mt(19))};function ps(y){y.C!=null&&(T.clearTimeout(y.C),y.C=null)}function fn(y,v){var R=null;if(y.g==v){ps(y),es(y),y.g=null;var B=2}else if(Vs(y.h,v))R=v.D,or(y.h,v),B=1;else return;if(y.G!=0){if(v.o)if(B==1){R=v.m?v.m.length:0,v=Date.now()-v.F;var te=y.B;B=Di(),Ut(B,new qn(B,R)),st(y)}else tl(y);else if(te=v.s,te==3||te==0&&0<v.X||!(B==1&&Xn(y,v)||B==2&&Co(y)))switch(R&&0<R.length&&(v=y.h,v.i=v.i.concat(R)),te){case 1:Tr(y,5);break;case 4:Tr(y,10);break;case 3:Tr(y,6);break;default:Tr(y,2)}}}function ys(y,v){let R=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(R*=2),R*v}function Tr(y,v){if(y.j.info("Error code "+v),v==2){var R=U(y.fb,y),B=y.Xa;const te=!B;B=new cn(B||"//www.google.com/images/cleardot.gif"),T.location&&T.location.protocol=="http"||In(B,"https"),mn(B),te?Qe(B.toString(),R):mi(B.toString(),R)}else Mt(2);y.G=0,y.l&&y.l.sa(v),jt(y),ce(y)}i.fb=function(y){y?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function jt(y){if(y.G=0,y.ka=[],y.l){const v=_n(y.h);(v.length!=0||y.i.length!=0)&&(re(y.ka,v),re(y.ka,y.i),y.h.i.length=0,oe(y.i),y.i.length=0),y.l.ra()}}function Ze(y,v,R){var B=R instanceof cn?Et(R):new cn(R);if(B.g!="")v&&(B.g=v+"."+B.g),ee(B,B.s);else{var te=T.location;B=te.protocol,v=v?v+"."+te.hostname:te.hostname,te=+te.port;var de=new cn(null);B&&In(de,B),v&&(de.g=v),te&&ee(de,te),R&&(de.l=R),B=de}return R=y.D,v=y.ya,R&&v&&Pe(B,R,v),Pe(B,"VER",y.la),ms(y,B),B}function nl(y,v,R){if(v&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=y.Ca&&!y.pa?new Vt(new Bi({eb:R})):new Vt(y.pa),v.Ha(y.J),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kt(){}i=Kt.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ri(){}ri.prototype.g=function(y,v){return new Fn(y,v)};function Fn(y,v){Lt.call(this),this.g=new $i(v),this.l=y,this.h=v&&v.messageUrlParams||null,y=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(y?y["X-WebChannel-Content-Type"]=v.messageContentType:y={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(y?y["X-WebChannel-Client-Profile"]=v.va:y={"X-WebChannel-Client-Profile":v.va}),this.g.S=y,(y=v&&v.Sb)&&!me(y)&&(this.g.m=y),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!me(v)&&(this.g.D=v,y=this.h,y!==null&&v in y&&(y=this.h,v in y&&delete y[v])),this.j=new ii(this)}ae(Fn,Lt),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){ni(this.g)},Fn.prototype.o=function(y){var v=this.g;if(typeof y=="string"){var R={};R.__data__=y,y=R}else this.u&&(R={},R.__data__=qt(y),y=R);v.i.push(new Zo(v.Ya++,y)),v.G==3&&st(v)},Fn.prototype.N=function(){this.g.l=null,delete this.j,ni(this.g),delete this.g,Fn.aa.N.call(this)};function rl(y){_r.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var v=y.__sm__;if(v){e:{for(const R in v){y=R;break e}y=void 0}(this.i=y)&&(y=this.i,v=v!==null&&y in v?v[y]:void 0),this.data=v}else this.data=y}ae(rl,_r);function Qr(){Ea.call(this),this.status=1}ae(Qr,Ea);function ii(y){this.g=y}ae(ii,Kt),ii.prototype.ua=function(){Ut(this.g,"a")},ii.prototype.ta=function(y){Ut(this.g,new rl(y))},ii.prototype.sa=function(y){Ut(this.g,new Qr)},ii.prototype.ra=function(){Ut(this.g,"b")},ri.prototype.createWebChannel=ri.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,nA=function(){return new ri},tA=function(){return Di()},eA=hi,y0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oi.NO_ERROR=0,Oi.TIMEOUT=8,Oi.HTTP_ERROR=6,Jh=Oi,vn.COMPLETE="complete",$_=vn,ya.EventType=dt,dt.OPEN="a",dt.CLOSE="b",dt.ERROR="c",dt.MESSAGE="d",Lt.prototype.listen=Lt.prototype.K,ec=ya,Vt.prototype.listenOnce=Vt.prototype.L,Vt.prototype.getLastError=Vt.prototype.Ka,Vt.prototype.getLastErrorCode=Vt.prototype.Ba,Vt.prototype.getStatus=Vt.prototype.Z,Vt.prototype.getResponseJson=Vt.prototype.Oa,Vt.prototype.getResponseText=Vt.prototype.oa,Vt.prototype.send=Vt.prototype.ea,Vt.prototype.setWithCredentials=Vt.prototype.Ha,J_=Vt}).apply(typeof zh<"u"?zh:typeof self<"u"?self:typeof window<"u"?window:{});const xy="@firebase/firestore",wy="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jr.UNAUTHENTICATED=new jr(null),jr.GOOGLE_CREDENTIALS=new jr("google-credentials-uid"),jr.FIRST_PARTY=new jr("first-party-uid"),jr.MOCK_USER=new jr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iu="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new q0("@firebase/firestore");function Ol(){return qo.logLevel}function ze(i,...e){if(qo.logLevel<=Nt.DEBUG){const t=e.map(ng);qo.debug(`Firestore (${iu}): ${i}`,...t)}}function ha(i,...e){if(qo.logLevel<=Nt.ERROR){const t=e.map(ng);qo.error(`Firestore (${iu}): ${i}`,...t)}}function ql(i,...e){if(qo.logLevel<=Nt.WARN){const t=e.map(ng);qo.warn(`Firestore (${iu}): ${i}`,...t)}}function ng(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(i,e,t){let a="Unexpected state";typeof e=="string"?a=e:t=e,rA(i,a,t)}function rA(i,e,t){let a=`FIRESTORE (${iu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{a+=" CONTEXT: "+JSON.stringify(t)}catch{a+=" CONTEXT: "+t}throw ha(a),new Error(a)}function Zt(i,e,t,a){let c="Unexpected state";typeof t=="string"?c=t:a=t,i||rA(e,c,a)}function ct(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends da{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class M3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(jr.UNAUTHENTICATED)))}shutdown(){}}class L3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class P3{constructor(e){this.t=e,this.currentUser=jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Zt(this.o===void 0,42304);let a=this.i;const c=S=>this.i!==a?(a=this.i,t(S)):Promise.resolve();let d=new oo;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new oo,e.enqueueRetryable((()=>c(this.currentUser)))};const E=()=>{const S=d;e.enqueueRetryable((async()=>{await S.promise,await c(this.currentUser)}))},T=S=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=S,this.o&&(this.auth.addAuthTokenListener(this.o),E())};this.t.onInit((S=>T(S))),setTimeout((()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?T(S):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new oo)}}),0),E()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((a=>this.i!==e?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Zt(typeof a.accessToken=="string",31837,{l:a}),new iA(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Zt(e===null||typeof e=="string",2055,{h:e}),new jr(e)}}class B3{constructor(e,t,a){this.P=e,this.T=t,this.I=a,this.type="FirstParty",this.user=jr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class k3{constructor(e,t,a){this.P=e,this.T=t,this.I=a}getToken(){return Promise.resolve(new B3(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(jr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ty{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class V3{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,is(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Zt(this.o===void 0,3512);const a=d=>{d.error!=null&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const E=d.token!==this.m;return this.m=d.token,ze("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable((()=>a(d)))};const c=d=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((d=>c(d))),setTimeout((()=>{if(!this.appCheck){const d=this.V.getImmediate({optional:!0});d?c(d):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ty(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Zt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Ty(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<i;a++)t[a]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const c=U3(40);for(let d=0;d<c.length;++d)a.length<20&&c[d]<t&&(a+=e.charAt(c[d]%62))}return a}}function Dt(i,e){return i<e?-1:i>e?1:0}function E0(i,e){const t=Math.min(i.length,e.length);for(let a=0;a<t;a++){const c=i.charAt(a),d=e.charAt(a);if(c!==d)return t0(c)===t0(d)?Dt(c,d):t0(c)?1:-1}return Dt(i.length,e.length)}const F3=55296,z3=57343;function t0(i){const e=i.charCodeAt(0);return e>=F3&&e<=z3}function Yl(i,e,t){return i.length===e.length&&i.every(((a,c)=>t(a,e[c])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="__name__";class Ss{constructor(e,t,a){t===void 0?t=0:t>e.length&&rt(637,{offset:t,range:e.length}),a===void 0?a=e.length-t:a>e.length-t&&rt(1746,{length:a,range:e.length-t}),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return Ss.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ss?e.forEach((a=>{t.push(a)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let c=0;c<a;c++){const d=Ss.compareSegments(e.get(c),t.get(c));if(d!==0)return d}return Dt(e.length,t.length)}static compareSegments(e,t){const a=Ss.isNumericId(e),c=Ss.isNumericId(t);return a&&!c?-1:!a&&c?1:a&&c?Ss.extractNumericId(e).compare(Ss.extractNumericId(t)):E0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ao.fromString(e.substring(4,e.length-2))}}class yn extends Ss{construct(e,t,a){return new yn(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new Fe(we.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter((c=>c.length>0)))}return new yn(t)}static emptyPath(){return new yn([])}}const H3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rr extends Ss{construct(e,t,a){return new Rr(e,t,a)}static isValidIdentifier(e){return H3.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cy}static keyField(){return new Rr([Cy])}static fromServerFormat(e){const t=[];let a="",c=0;const d=()=>{if(a.length===0)throw new Fe(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let E=!1;for(;c<e.length;){const T=e[c];if(T==="\\"){if(c+1===e.length)throw new Fe(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const S=e[c+1];if(S!=="\\"&&S!=="."&&S!=="`")throw new Fe(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=S,c+=2}else T==="`"?(E=!E,c++):T!=="."||E?(a+=T,c++):(d(),c++)}if(d(),E)throw new Fe(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rr(t)}static emptyPath(){return new Rr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.path=e}static fromPath(e){return new Je(yn.fromString(e))}static fromName(e){return new Je(yn.fromString(e).popFirst(5))}static empty(){return new Je(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return yn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Je(new yn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(i,e,t){if(!t)throw new Fe(we.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function j3(i,e,t,a){if(e===!0&&a===!0)throw new Fe(we.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Sy(i){if(!Je.isDocumentKey(i))throw new Fe(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function vy(i){if(Je.isDocumentKey(i))throw new Fe(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function aA(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Vf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":rt(12329,{type:typeof i})}function lo(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Fe(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Vf(i);throw new Fe(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(i,e){const t={typeString:i};return e&&(t.value=e),t}function Dc(i,e){if(!aA(i))throw new Fe(we.INVALID_ARGUMENT,"JSON must be an object");let t;for(const a in e)if(e[a]){const c=e[a].typeString,d="value"in e[a]?{value:e[a].value}:void 0;if(!(a in i)){t=`JSON missing required field: '${a}'`;break}const E=i[a];if(c&&typeof E!==c){t=`JSON field '${a}' must be a ${c}.`;break}if(d!==void 0&&E!==d.value){t=`Expected '${a}' field to equal '${d.value}'`;break}}if(t)throw new Fe(we.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=-62135596800,by=1e6;class Cn{static now(){return Cn.fromMillis(Date.now())}static fromDate(e){return Cn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*by);return new Cn(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Iy)throw new Fe(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/by}_compareTo(e){return this.seconds===e.seconds?Dt(this.nanoseconds,e.nanoseconds):Dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Cn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Dc(e,Cn._jsonSchema))return new Cn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Iy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Cn._jsonSchemaVersion="firestore/timestamp/1.0",Cn._jsonSchema={type:ar("string",Cn._jsonSchemaVersion),seconds:ar("number"),nanoseconds:ar("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{static fromTimestamp(e){return new lt(e)}static min(){return new lt(new Cn(0,0))}static max(){return new lt(new Cn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=-1;function G3(i,e){const t=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,c=lt.fromTimestamp(a===1e9?new Cn(t+1,0):new Cn(t,a));return new co(c,Je.empty(),e)}function q3(i){return new co(i.readTime,i.key,mc)}class co{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new co(lt.min(),Je.empty(),mc)}static max(){return new co(lt.max(),Je.empty(),mc)}}function Y3(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Je.comparator(i.documentKey,e.documentKey),t!==0?t:Dt(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function su(i){if(i.code!==we.FAILED_PRECONDITION||i.message!==X3)throw i;ze("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ce(((a,c)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(a,c)},this.catchCallback=d=>{this.wrapFailure(t,d).next(a,c)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ce?t:Ce.resolve(t)}catch(t){return Ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ce.reject(t)}static resolve(e){return new Ce(((t,a)=>{t(e)}))}static reject(e){return new Ce(((t,a)=>{a(e)}))}static waitFor(e){return new Ce(((t,a)=>{let c=0,d=0,E=!1;e.forEach((T=>{++c,T.next((()=>{++d,E&&d===c&&t()}),(S=>a(S)))})),E=!0,d===c&&t()}))}static or(e){let t=Ce.resolve(!1);for(const a of e)t=t.next((c=>c?Ce.resolve(c):a()));return t}static forEach(e,t){const a=[];return e.forEach(((c,d)=>{a.push(t.call(this,c,d))})),this.waitFor(a)}static mapArray(e,t){return new Ce(((a,c)=>{const d=e.length,E=new Array(d);let T=0;for(let S=0;S<d;S++){const x=S;t(e[x]).next((I=>{E[x]=I,++T,T===d&&a(E)}),(I=>c(I)))}}))}static doWhile(e,t){return new Ce(((a,c)=>{const d=()=>{e()===!0?t().next((()=>{d()}),c):a()};d()}))}}function Q3(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function au(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>t.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Uf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=-1;function Ff(i){return i==null}function mf(i){return i===0&&1/i==-1/0}function K3(i){return typeof i=="number"&&Number.isInteger(i)&&!mf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA="";function Z3(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Ry(e)),e=J3(i.get(t),e);return Ry(e)}function J3(i,e){let t=e;const a=i.length;for(let c=0;c<a;c++){const d=i.charAt(c);switch(d){case"\0":t+="";break;case oA:t+="";break;default:t+=d}}return t}function Ry(i){return i+oA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ao(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function lA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,t){this.comparator=e,this.root=t||br.EMPTY}insert(e,t){return new Bn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,br.BLACK,null,null))}remove(e){return new Bn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,br.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const c=this.comparator(e,a.key);if(c===0)return t+a.left.size;c<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,a)=>(e(t,a),!1)))}toString(){const e=[];return this.inorderTraversal(((t,a)=>(e.push(`${t}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hh(this.root,e,this.comparator,!0)}}class Hh{constructor(e,t,a,c){this.isReverse=c,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?a(e.key,t):1,t&&c&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(d===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class br{constructor(e,t,a,c,d){this.key=e,this.value=t,this.color=a??br.RED,this.left=c??br.EMPTY,this.right=d??br.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,c,d){return new br(e??this.key,t??this.value,a??this.color,c??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let c=this;const d=a(e,c.key);return c=d<0?c.copy(null,null,null,c.left.insert(e,t,a),null):d===0?c.copy(null,t,null,null,null):c.copy(null,null,null,null,c.right.insert(e,t,a)),c.fixUp()}removeMin(){if(this.left.isEmpty())return br.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,c=this;if(t(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,t),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),t(e,c.key)===0){if(c.right.isEmpty())return br.EMPTY;a=c.right.min(),c=c.copy(a.key,a.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,t))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,br.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,br.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw rt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw rt(27949);return e+(this.isRed()?0:1)}}br.EMPTY=null,br.RED=!0,br.BLACK=!1;br.EMPTY=new class{constructor(){this.size=0}get key(){throw rt(57766)}get value(){throw rt(16141)}get color(){throw rt(16727)}get left(){throw rt(29726)}get right(){throw rt(36894)}copy(e,t,a,c,d){return this}insert(e,t,a){return new br(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.comparator=e,this.data=new Bn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,a)=>(e(t),!1)))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const c=a.getNext();if(this.comparator(c.key,e[1])>=0)return;t(c.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Dy(this.data.getIterator())}getIteratorFrom(e){return new Dy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((a=>{t=t.add(a)})),t}isEqual(e){if(!(e instanceof fr)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const c=t.getNext().key,d=a.getNext().key;if(this.comparator(c,d)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new fr(this.comparator);return t.data=e,t}}class Dy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this.fields=e,e.sort(Rr.comparator)}static empty(){return new as([])}unionWith(e){let t=new fr(Rr.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new as(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yl(this.fields,e.fields,((t,a)=>t.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(c){try{return atob(c)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new uA("Invalid base64 string: "+d):d}})(e);return new Nr(t)}static fromUint8Array(e){const t=(function(c){let d="";for(let E=0;E<c.length;++E)d+=String.fromCharCode(c[E]);return d})(e);return new Nr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const a=new Uint8Array(t.length);for(let c=0;c<t.length;c++)a[c]=t.charCodeAt(c);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nr.EMPTY_BYTE_STRING=new Nr("");const $3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ho(i){if(Zt(!!i,39018),typeof i=="string"){let e=0;const t=$3.exec(i);if(Zt(!!t,46558,{timestamp:i}),t[1]){let c=t[1];c=(c+"000000000").substr(0,9),e=Number(c)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Zn(i.seconds),nanos:Zn(i.nanos)}}function Zn(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function fo(i){return typeof i=="string"?Nr.fromBase64String(i):Nr.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="server_timestamp",hA="__type__",fA="__previous_value__",dA="__local_write_time__";function sg(i){return(i?.mapValue?.fields||{})[hA]?.stringValue===cA}function zf(i){const e=i.mapValue.fields[fA];return sg(e)?zf(e):e}function pc(i){const e=ho(i.mapValue.fields[dA].timestampValue);return new Cn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,t,a,c,d,E,T,S,x,I){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=c,this.ssl=d,this.forceLongPolling=E,this.autoDetectLongPolling=T,this.longPollingOptions=S,this.useFetchStreams=x,this.isUsingEmulator=I}}const pf="(default)";class yc{constructor(e,t){this.projectId=e,this.database=t||pf}static empty(){return new yc("","")}get isDefaultDatabase(){return this.database===pf}isEqual(e){return e instanceof yc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="__type__",tb="__max__",jh={mapValue:{}},mA="__vector__",yf="value";function go(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?sg(i)?4:rb(i)?9007199254740991:nb(i)?10:11:rt(28295,{value:i})}function Os(i,e){if(i===e)return!0;const t=go(i);if(t!==go(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return pc(i).isEqual(pc(e));case 3:return(function(c,d){if(typeof c.timestampValue=="string"&&typeof d.timestampValue=="string"&&c.timestampValue.length===d.timestampValue.length)return c.timestampValue===d.timestampValue;const E=ho(c.timestampValue),T=ho(d.timestampValue);return E.seconds===T.seconds&&E.nanos===T.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(c,d){return fo(c.bytesValue).isEqual(fo(d.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(c,d){return Zn(c.geoPointValue.latitude)===Zn(d.geoPointValue.latitude)&&Zn(c.geoPointValue.longitude)===Zn(d.geoPointValue.longitude)})(i,e);case 2:return(function(c,d){if("integerValue"in c&&"integerValue"in d)return Zn(c.integerValue)===Zn(d.integerValue);if("doubleValue"in c&&"doubleValue"in d){const E=Zn(c.doubleValue),T=Zn(d.doubleValue);return E===T?mf(E)===mf(T):isNaN(E)&&isNaN(T)}return!1})(i,e);case 9:return Yl(i.arrayValue.values||[],e.arrayValue.values||[],Os);case 10:case 11:return(function(c,d){const E=c.mapValue.fields||{},T=d.mapValue.fields||{};if(Ny(E)!==Ny(T))return!1;for(const S in E)if(E.hasOwnProperty(S)&&(T[S]===void 0||!Os(E[S],T[S])))return!1;return!0})(i,e);default:return rt(52216,{left:i})}}function Ec(i,e){return(i.values||[]).find((t=>Os(t,e)))!==void 0}function Xl(i,e){if(i===e)return 0;const t=go(i),a=go(e);if(t!==a)return Dt(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return Dt(i.booleanValue,e.booleanValue);case 2:return(function(d,E){const T=Zn(d.integerValue||d.doubleValue),S=Zn(E.integerValue||E.doubleValue);return T<S?-1:T>S?1:T===S?0:isNaN(T)?isNaN(S)?0:-1:1})(i,e);case 3:return Oy(i.timestampValue,e.timestampValue);case 4:return Oy(pc(i),pc(e));case 5:return E0(i.stringValue,e.stringValue);case 6:return(function(d,E){const T=fo(d),S=fo(E);return T.compareTo(S)})(i.bytesValue,e.bytesValue);case 7:return(function(d,E){const T=d.split("/"),S=E.split("/");for(let x=0;x<T.length&&x<S.length;x++){const I=Dt(T[x],S[x]);if(I!==0)return I}return Dt(T.length,S.length)})(i.referenceValue,e.referenceValue);case 8:return(function(d,E){const T=Dt(Zn(d.latitude),Zn(E.latitude));return T!==0?T:Dt(Zn(d.longitude),Zn(E.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return My(i.arrayValue,e.arrayValue);case 10:return(function(d,E){const T=d.fields||{},S=E.fields||{},x=T[yf]?.arrayValue,I=S[yf]?.arrayValue,M=Dt(x?.values?.length||0,I?.values?.length||0);return M!==0?M:My(x,I)})(i.mapValue,e.mapValue);case 11:return(function(d,E){if(d===jh.mapValue&&E===jh.mapValue)return 0;if(d===jh.mapValue)return 1;if(E===jh.mapValue)return-1;const T=d.fields||{},S=Object.keys(T),x=E.fields||{},I=Object.keys(x);S.sort(),I.sort();for(let M=0;M<S.length&&M<I.length;++M){const U=E0(S[M],I[M]);if(U!==0)return U;const W=Xl(T[S[M]],x[I[M]]);if(W!==0)return W}return Dt(S.length,I.length)})(i.mapValue,e.mapValue);default:throw rt(23264,{he:t})}}function Oy(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Dt(i,e);const t=ho(i),a=ho(e),c=Dt(t.seconds,a.seconds);return c!==0?c:Dt(t.nanos,a.nanos)}function My(i,e){const t=i.values||[],a=e.values||[];for(let c=0;c<t.length&&c<a.length;++c){const d=Xl(t[c],a[c]);if(d)return d}return Dt(t.length,a.length)}function Wl(i){return _0(i)}function _0(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const a=ho(t);return`time(${a.seconds},${a.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return fo(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return Je.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let a="[",c=!0;for(const d of t.values||[])c?c=!1:a+=",",a+=_0(d);return a+"]"})(i.arrayValue):"mapValue"in i?(function(t){const a=Object.keys(t.fields||{}).sort();let c="{",d=!0;for(const E of a)d?d=!1:c+=",",c+=`${E}:${_0(t.fields[E])}`;return c+"}"})(i.mapValue):rt(61005,{value:i})}function $h(i){switch(go(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zf(i);return e?16+$h(e):16;case 5:return 2*i.stringValue.length;case 6:return fo(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((c,d)=>c+$h(d)),0)})(i.arrayValue);case 10:case 11:return(function(a){let c=0;return Ao(a.fields,((d,E)=>{c+=d.length+$h(E)})),c})(i.mapValue);default:throw rt(13486,{value:i})}}function Ly(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function A0(i){return!!i&&"integerValue"in i}function ag(i){return!!i&&"arrayValue"in i}function Py(i){return!!i&&"nullValue"in i}function By(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ef(i){return!!i&&"mapValue"in i}function nb(i){return(i?.mapValue?.fields||{})[gA]?.stringValue===mA}function oc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ao(i.mapValue.fields,((t,a)=>e.mapValue.fields[t]=oc(a))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=oc(i.arrayValue.values[t]);return e}return{...i}}function rb(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===tb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.value=e}static empty(){return new bi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!ef(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=oc(t)}setAll(e){let t=Rr.emptyPath(),a={},c=[];e.forEach(((E,T)=>{if(!t.isImmediateParentOf(T)){const S=this.getFieldsMap(t);this.applyChanges(S,a,c),a={},c=[],t=T.popLast()}E?a[T.lastSegment()]=oc(E):c.push(T.lastSegment())}));const d=this.getFieldsMap(t);this.applyChanges(d,a,c)}delete(e){const t=this.field(e.popLast());ef(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Os(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let c=t.mapValue.fields[e.get(a)];ef(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=c),t=c}return t.mapValue.fields}applyChanges(e,t,a){Ao(t,((c,d)=>e[c]=d));for(const c of a)delete e[c]}clone(){return new bi(oc(this.value))}}function pA(i){const e=[];return Ao(i.fields,((t,a)=>{const c=new Rr([t]);if(ef(a)){const d=pA(a.mapValue).fields;if(d.length===0)e.push(c);else for(const E of d)e.push(c.child(E))}else e.push(c)})),new as(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,t,a,c,d,E,T){this.key=e,this.documentType=t,this.version=a,this.readTime=c,this.createTime=d,this.data=E,this.documentState=T}static newInvalidDocument(e){return new Gr(e,0,lt.min(),lt.min(),lt.min(),bi.empty(),0)}static newFoundDocument(e,t,a,c){return new Gr(e,1,t,lt.min(),a,c,0)}static newNoDocument(e,t){return new Gr(e,2,t,lt.min(),lt.min(),bi.empty(),0)}static newUnknownDocument(e,t){return new Gr(e,3,t,lt.min(),lt.min(),bi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,t){this.position=e,this.inclusive=t}}function ky(i,e,t){let a=0;for(let c=0;c<i.position.length;c++){const d=e[c],E=i.position[c];if(d.field.isKeyField()?a=Je.comparator(Je.fromName(E.referenceValue),t.key):a=Xl(E,t.data.field(d.field)),d.dir==="desc"&&(a*=-1),a!==0)break}return a}function Vy(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Os(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,t="asc"){this.field=e,this.dir=t}}function ib(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{}class sr extends yA{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new ab(e,t,a):t==="array-contains"?new ub(e,a):t==="in"?new cb(e,a):t==="not-in"?new hb(e,a):t==="array-contains-any"?new fb(e,a):new sr(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new ob(e,a):new lb(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Xl(t,this.value)):t!==null&&go(this.value)===go(t)&&this.matchesComparison(Xl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class us extends yA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new us(e,t)}matches(e){return EA(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function EA(i){return i.op==="and"}function _A(i){return sb(i)&&EA(i)}function sb(i){for(const e of i.filters)if(e instanceof us)return!1;return!0}function x0(i){if(i instanceof sr)return i.field.canonicalString()+i.op.toString()+Wl(i.value);if(_A(i))return i.filters.map((e=>x0(e))).join(",");{const e=i.filters.map((t=>x0(t))).join(",");return`${i.op}(${e})`}}function AA(i,e){return i instanceof sr?(function(a,c){return c instanceof sr&&a.op===c.op&&a.field.isEqual(c.field)&&Os(a.value,c.value)})(i,e):i instanceof us?(function(a,c){return c instanceof us&&a.op===c.op&&a.filters.length===c.filters.length?a.filters.reduce(((d,E,T)=>d&&AA(E,c.filters[T])),!0):!1})(i,e):void rt(19439)}function xA(i){return i instanceof sr?(function(t){return`${t.field.canonicalString()} ${t.op} ${Wl(t.value)}`})(i):i instanceof us?(function(t){return t.op.toString()+" {"+t.getFilters().map(xA).join(" ,")+"}"})(i):"Filter"}class ab extends sr{constructor(e,t,a){super(e,t,a),this.key=Je.fromName(a.referenceValue)}matches(e){const t=Je.comparator(e.key,this.key);return this.matchesComparison(t)}}class ob extends sr{constructor(e,t){super(e,"in",t),this.keys=wA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class lb extends sr{constructor(e,t){super(e,"not-in",t),this.keys=wA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function wA(i,e){return(e.arrayValue?.values||[]).map((t=>Je.fromName(t.referenceValue)))}class ub extends sr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ag(t)&&Ec(t.arrayValue,this.value)}}class cb extends sr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ec(this.value.arrayValue,t)}}class hb extends sr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ec(this.value.arrayValue,t)}}class fb extends sr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ag(t)||!t.arrayValue.values)&&t.arrayValue.values.some((a=>Ec(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,t=null,a=[],c=[],d=null,E=null,T=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=c,this.limit=d,this.startAt=E,this.endAt=T,this.Te=null}}function Uy(i,e=null,t=[],a=[],c=null,d=null,E=null){return new db(i,e,t,a,c,d,E)}function og(i){const e=ct(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((a=>x0(a))).join(","),t+="|ob:",t+=e.orderBy.map((a=>(function(d){return d.field.canonicalString()+d.dir})(a))).join(","),Ff(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((a=>Wl(a))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((a=>Wl(a))).join(",")),e.Te=t}return e.Te}function lg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!ib(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!AA(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Vy(i.startAt,e.startAt)&&Vy(i.endAt,e.endAt)}function w0(i){return Je.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t=null,a=[],c=[],d=null,E="F",T=null,S=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=c,this.limit=d,this.limitType=E,this.startAt=T,this.endAt=S,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gb(i,e,t,a,c,d,E,T){return new Oc(i,e,t,a,c,d,E,T)}function Hf(i){return new Oc(i)}function Fy(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function TA(i){return i.collectionGroup!==null}function lc(i){const e=ct(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const d of e.explicitOrderBy)e.Ie.push(d),t.add(d.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(E){let T=new fr(Rr.comparator);return E.filters.forEach((S=>{S.getFlattenedFilters().forEach((x=>{x.isInequality()&&(T=T.add(x.field))}))})),T})(e).forEach((d=>{t.has(d.canonicalString())||d.isKeyField()||e.Ie.push(new _f(d,a))})),t.has(Rr.keyField().canonicalString())||e.Ie.push(new _f(Rr.keyField(),a))}return e.Ie}function bs(i){const e=ct(i);return e.Ee||(e.Ee=mb(e,lc(i))),e.Ee}function mb(i,e){if(i.limitType==="F")return Uy(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((c=>{const d=c.dir==="desc"?"asc":"desc";return new _f(c.field,d)}));const t=i.endAt?new Ef(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new Ef(i.startAt.position,i.startAt.inclusive):null;return Uy(i.path,i.collectionGroup,e,i.filters,i.limit,t,a)}}function T0(i,e){const t=i.filters.concat([e]);return new Oc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function C0(i,e,t){return new Oc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function jf(i,e){return lg(bs(i),bs(e))&&i.limitType===e.limitType}function CA(i){return`${og(bs(i))}|lt:${i.limitType}`}function Ml(i){return`Query(target=${(function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map((c=>xA(c))).join(", ")}]`),Ff(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map((c=>(function(E){return`${E.field.canonicalString()} (${E.dir})`})(c))).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map((c=>Wl(c))).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map((c=>Wl(c))).join(",")),`Target(${a})`})(bs(i))}; limitType=${i.limitType})`}function Gf(i,e){return e.isFoundDocument()&&(function(a,c){const d=c.key.path;return a.collectionGroup!==null?c.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(d):Je.isDocumentKey(a.path)?a.path.isEqual(d):a.path.isImmediateParentOf(d)})(i,e)&&(function(a,c){for(const d of lc(a))if(!d.field.isKeyField()&&c.data.field(d.field)===null)return!1;return!0})(i,e)&&(function(a,c){for(const d of a.filters)if(!d.matches(c))return!1;return!0})(i,e)&&(function(a,c){return!(a.startAt&&!(function(E,T,S){const x=ky(E,T,S);return E.inclusive?x<=0:x<0})(a.startAt,lc(a),c)||a.endAt&&!(function(E,T,S){const x=ky(E,T,S);return E.inclusive?x>=0:x>0})(a.endAt,lc(a),c))})(i,e)}function pb(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function SA(i){return(e,t)=>{let a=!1;for(const c of lc(i)){const d=yb(c,e,t);if(d!==0)return d;a=a||c.field.isKeyField()}return 0}}function yb(i,e,t){const a=i.field.isKeyField()?Je.comparator(e.key,t.key):(function(d,E,T){const S=E.data.field(d),x=T.data.field(d);return S!==null&&x!==null?Xl(S,x):rt(42886)})(i.field,e,t);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return rt(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[c,d]of a)if(this.equalsFn(c,e))return d}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),c=this.inner[a];if(c===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let d=0;d<c.length;d++)if(this.equalsFn(c[d][0],e))return void(c[d]=[e,t]);c.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return a.length===1?delete this.inner[t]:a.splice(c,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,((t,a)=>{for(const[c,d]of a)e(c,d)}))}isEmpty(){return lA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=new Bn(Je.comparator);function fa(){return Eb}const vA=new Bn(Je.comparator);function tc(...i){let e=vA;for(const t of i)e=e.insert(t.key,t);return e}function IA(i){let e=vA;return i.forEach(((t,a)=>e=e.insert(t,a.overlayedDocument))),e}function Fo(){return uc()}function bA(){return uc()}function uc(){return new Wo((i=>i.toString()),((i,e)=>i.isEqual(e)))}const _b=new Bn(Je.comparator),Ab=new fr(Je.comparator);function Ot(...i){let e=Ab;for(const t of i)e=e.add(t);return e}const xb=new fr(Dt);function wb(){return xb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mf(e)?"-0":e}}function RA(i){return{integerValue:""+i}}function Tb(i,e){return K3(e)?RA(e):ug(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(){this._=void 0}}function Cb(i,e,t){return i instanceof Af?(function(c,d){const E={fields:{[hA]:{stringValue:cA},[dA]:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return d&&sg(d)&&(d=zf(d)),d&&(E.fields[fA]=d),{mapValue:E}})(t,e):i instanceof _c?DA(i,e):i instanceof Ac?OA(i,e):(function(c,d){const E=NA(c,d),T=zy(E)+zy(c.Ae);return A0(E)&&A0(c.Ae)?RA(T):ug(c.serializer,T)})(i,e)}function Sb(i,e,t){return i instanceof _c?DA(i,e):i instanceof Ac?OA(i,e):t}function NA(i,e){return i instanceof xf?(function(a){return A0(a)||(function(d){return!!d&&"doubleValue"in d})(a)})(e)?e:{integerValue:0}:null}class Af extends qf{}class _c extends qf{constructor(e){super(),this.elements=e}}function DA(i,e){const t=MA(e);for(const a of i.elements)t.some((c=>Os(c,a)))||t.push(a);return{arrayValue:{values:t}}}class Ac extends qf{constructor(e){super(),this.elements=e}}function OA(i,e){let t=MA(e);for(const a of i.elements)t=t.filter((c=>!Os(c,a)));return{arrayValue:{values:t}}}class xf extends qf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function zy(i){return Zn(i.integerValue||i.doubleValue)}function MA(i){return ag(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function vb(i,e){return i.field.isEqual(e.field)&&(function(a,c){return a instanceof _c&&c instanceof _c||a instanceof Ac&&c instanceof Ac?Yl(a.elements,c.elements,Os):a instanceof xf&&c instanceof xf?Os(a.Ae,c.Ae):a instanceof Af&&c instanceof Af})(i.transform,e.transform)}class Ib{constructor(e,t){this.version=e,this.transformResults=t}}class oa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new oa}static exists(e){return new oa(void 0,e)}static updateTime(e){return new oa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tf(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Yf{}function LA(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new BA(i.key,oa.none()):new Xf(i.key,i.data,oa.none());{const t=i.data,a=bi.empty();let c=new fr(Rr.comparator);for(let d of e.fields)if(!c.has(d)){let E=t.field(d);E===null&&d.length>1&&(d=d.popLast(),E=t.field(d)),E===null?a.delete(d):a.set(d,E),c=c.add(d)}return new Qo(i.key,a,new as(c.toArray()),oa.none())}}function bb(i,e,t){i instanceof Xf?(function(c,d,E){const T=c.value.clone(),S=jy(c.fieldTransforms,d,E.transformResults);T.setAll(S),d.convertToFoundDocument(E.version,T).setHasCommittedMutations()})(i,e,t):i instanceof Qo?(function(c,d,E){if(!tf(c.precondition,d))return void d.convertToUnknownDocument(E.version);const T=jy(c.fieldTransforms,d,E.transformResults),S=d.data;S.setAll(PA(c)),S.setAll(T),d.convertToFoundDocument(E.version,S).setHasCommittedMutations()})(i,e,t):(function(c,d,E){d.convertToNoDocument(E.version).setHasCommittedMutations()})(0,e,t)}function cc(i,e,t,a){return i instanceof Xf?(function(d,E,T,S){if(!tf(d.precondition,E))return T;const x=d.value.clone(),I=Gy(d.fieldTransforms,S,E);return x.setAll(I),E.convertToFoundDocument(E.version,x).setHasLocalMutations(),null})(i,e,t,a):i instanceof Qo?(function(d,E,T,S){if(!tf(d.precondition,E))return T;const x=Gy(d.fieldTransforms,S,E),I=E.data;return I.setAll(PA(d)),I.setAll(x),E.convertToFoundDocument(E.version,I).setHasLocalMutations(),T===null?null:T.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map((M=>M.field)))})(i,e,t,a):(function(d,E,T){return tf(d.precondition,E)?(E.convertToNoDocument(E.version).setHasLocalMutations(),null):T})(i,e,t)}function Rb(i,e){let t=null;for(const a of i.fieldTransforms){const c=e.data.field(a.field),d=NA(a.transform,c||null);d!=null&&(t===null&&(t=bi.empty()),t.set(a.field,d))}return t||null}function Hy(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(a,c){return a===void 0&&c===void 0||!(!a||!c)&&Yl(a,c,((d,E)=>vb(d,E)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Xf extends Yf{constructor(e,t,a,c=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class Qo extends Yf{constructor(e,t,a,c,d=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=c,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function PA(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const a=i.data.field(t);e.set(t,a)}})),e}function jy(i,e,t){const a=new Map;Zt(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let c=0;c<t.length;c++){const d=i[c],E=d.transform,T=e.data.field(d.field);a.set(d.field,Sb(E,T,t[c]))}return a}function Gy(i,e,t){const a=new Map;for(const c of i){const d=c.transform,E=t.data.field(c.field);a.set(c.field,Cb(d,E,e))}return a}class BA extends Yf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nb extends Yf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,t,a,c){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=c}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let c=0;c<this.mutations.length;c++){const d=this.mutations[c];d.key.isEqual(e.key)&&bb(d,e,a[c])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=cc(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=cc(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=bA();return this.mutations.forEach((c=>{const d=e.get(c.key),E=d.overlayedDocument;let T=this.applyToLocalView(E,d.mutatedFields);T=t.has(c.key)?null:T;const S=LA(E,T);S!==null&&a.set(c.key,S),E.isValidDocument()||E.convertToNoDocument(lt.min())})),a}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ot())}isEqual(e){return this.batchId===e.batchId&&Yl(this.mutations,e.mutations,((t,a)=>Hy(t,a)))&&Yl(this.baseMutations,e.baseMutations,((t,a)=>Hy(t,a)))}}class cg{constructor(e,t,a,c){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=c}static from(e,t,a){Zt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let c=(function(){return _b})();const d=e.mutations;for(let E=0;E<d.length;E++)c=c.insert(d[E].key,a[E].version);return new cg(e,t,a,c)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ir,kt;function Lb(i){switch(i){case we.OK:return rt(64938);case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0;default:return rt(15467,{code:i})}}function kA(i){if(i===void 0)return ha("GRPC error has no .code"),we.UNKNOWN;switch(i){case ir.OK:return we.OK;case ir.CANCELLED:return we.CANCELLED;case ir.UNKNOWN:return we.UNKNOWN;case ir.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case ir.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case ir.INTERNAL:return we.INTERNAL;case ir.UNAVAILABLE:return we.UNAVAILABLE;case ir.UNAUTHENTICATED:return we.UNAUTHENTICATED;case ir.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case ir.NOT_FOUND:return we.NOT_FOUND;case ir.ALREADY_EXISTS:return we.ALREADY_EXISTS;case ir.PERMISSION_DENIED:return we.PERMISSION_DENIED;case ir.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case ir.ABORTED:return we.ABORTED;case ir.OUT_OF_RANGE:return we.OUT_OF_RANGE;case ir.UNIMPLEMENTED:return we.UNIMPLEMENTED;case ir.DATA_LOSS:return we.DATA_LOSS;default:return rt(39323,{code:i})}}(kt=ir||(ir={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=new ao([4294967295,4294967295],0);function qy(i){const e=Pb().encode(i),t=new Z_;return t.update(e),new Uint8Array(t.digest())}function Yy(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),c=e.getUint32(8,!0),d=e.getUint32(12,!0);return[new ao([t,a],0),new ao([c,d],0)]}class hg{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new nc(`Invalid padding: ${t}`);if(a<0)throw new nc(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new nc(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new nc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ao.fromNumber(this.ge)}ye(e,t,a){let c=e.add(t.multiply(ao.fromNumber(a)));return c.compare(Bb)===1&&(c=new ao([c.getBits(0),c.getBits(1)],0)),c.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=qy(e),[a,c]=Yy(t);for(let d=0;d<this.hashCount;d++){const E=this.ye(a,c,d);if(!this.we(E))return!1}return!0}static create(e,t,a){const c=e%8==0?0:8-e%8,d=new Uint8Array(Math.ceil(e/8)),E=new hg(d,c,t);return a.forEach((T=>E.insert(T))),E}insert(e){if(this.ge===0)return;const t=qy(e),[a,c]=Yy(t);for(let d=0;d<this.hashCount;d++){const E=this.ye(a,c,d);this.Se(E)}}Se(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,t,a,c,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=c,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const c=new Map;return c.set(e,Mc.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new Wf(lt.min(),c,new Bn(Dt),fa(),Ot())}}class Mc{constructor(e,t,a,c,d){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=c,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new Mc(a,t,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,t,a,c){this.be=e,this.removedTargetIds=t,this.key=a,this.De=c}}class VA{constructor(e,t){this.targetId=e,this.Ce=t}}class UA{constructor(e,t,a=Nr.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=c}}class Xy{constructor(){this.ve=0,this.Fe=Wy(),this.Me=Nr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ot(),t=Ot(),a=Ot();return this.Fe.forEach(((c,d)=>{switch(d){case 0:e=e.add(c);break;case 2:t=t.add(c);break;case 1:a=a.add(c);break;default:rt(38017,{changeType:d})}})),new Mc(this.Me,this.xe,e,t,a)}qe(){this.Oe=!1,this.Fe=Wy()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Zt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kb{constructor(e){this.Ge=e,this.ze=new Map,this.je=fa(),this.Je=Gh(),this.He=Gh(),this.Ye=new Bn(Dt)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const a=this.nt(t);switch(e.state){case 0:this.rt(t)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),a.Le(e.resumeToken));break;default:rt(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((a,c)=>{this.rt(c)&&t(c)}))}st(e){const t=e.targetId,a=e.Ce.count,c=this.ot(t);if(c){const d=c.target;if(w0(d))if(a===0){const E=new Je(d.path);this.et(t,E,Gr.newNoDocument(E,lt.min()))}else Zt(a===1,20013,{expectedCount:a});else{const E=this._t(t);if(E!==a){const T=this.ut(e),S=T?this.ct(T,e,E):1;if(S!==0){this.it(t);const x=S===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,x)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:c=0},hashCount:d=0}=t;let E,T;try{E=fo(a).toUint8Array()}catch(S){if(S instanceof uA)return ql("Decoding the base64 bloom filter in existence filter failed ("+S.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw S}try{T=new hg(E,c,d)}catch(S){return ql(S instanceof nc?"BloomFilter error: ":"Applying bloom filter failed: ",S),null}return T.ge===0?null:T}ct(e,t,a){return t.Ce.count===a-this.Pt(e,t.targetId)?0:2}Pt(e,t){const a=this.Ge.getRemoteKeysForTarget(t);let c=0;return a.forEach((d=>{const E=this.Ge.ht(),T=`projects/${E.projectId}/databases/${E.database}/documents/${d.path.canonicalString()}`;e.mightContain(T)||(this.et(t,d,null),c++)})),c}Tt(e){const t=new Map;this.ze.forEach(((d,E)=>{const T=this.ot(E);if(T){if(d.current&&w0(T.target)){const S=new Je(T.target.path);this.It(S).has(E)||this.Et(E,S)||this.et(E,S,Gr.newNoDocument(S,e))}d.Be&&(t.set(E,d.ke()),d.qe())}}));let a=Ot();this.He.forEach(((d,E)=>{let T=!0;E.forEachWhile((S=>{const x=this.ot(S);return!x||x.purpose==="TargetPurposeLimboResolution"||(T=!1,!1)})),T&&(a=a.add(d))})),this.je.forEach(((d,E)=>E.setReadTime(e)));const c=new Wf(e,t,this.Ye,this.je,a);return this.je=fa(),this.Je=Gh(),this.He=Gh(),this.Ye=new Bn(Dt),c}Xe(e,t){if(!this.rt(e))return;const a=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,a),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,a){if(!this.rt(e))return;const c=this.nt(e);this.Et(e,t)?c.Qe(t,1):c.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),a&&(this.je=this.je.insert(t,a))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Xy,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new fr(Dt),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new fr(Dt),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ze("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Xy),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Gh(){return new Bn(Je.comparator)}function Wy(){return new Bn(Je.comparator)}const Vb={asc:"ASCENDING",desc:"DESCENDING"},Ub={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fb={and:"AND",or:"OR"};class zb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function S0(i,e){return i.useProto3Json||Ff(e)?e:{value:e}}function wf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FA(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Hb(i,e){return wf(i,e.toTimestamp())}function Rs(i){return Zt(!!i,49232),lt.fromTimestamp((function(t){const a=ho(t);return new Cn(a.seconds,a.nanos)})(i))}function fg(i,e){return v0(i,e).canonicalString()}function v0(i,e){const t=(function(c){return new yn(["projects",c.projectId,"databases",c.database])})(i).child("documents");return e===void 0?t:t.child(e)}function zA(i){const e=yn.fromString(i);return Zt(YA(e),10190,{key:e.toString()}),e}function I0(i,e){return fg(i.databaseId,e.path)}function n0(i,e){const t=zA(e);if(t.get(1)!==i.databaseId.projectId)throw new Fe(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Fe(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Je(jA(t))}function HA(i,e){return fg(i.databaseId,e)}function jb(i){const e=zA(i);return e.length===4?yn.emptyPath():jA(e)}function b0(i){return new yn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function jA(i){return Zt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Qy(i,e,t){return{name:I0(i,e),fields:t.value.mapValue.fields}}function Gb(i,e){let t;if("targetChange"in e){e.targetChange;const a=(function(x){return x==="NO_CHANGE"?0:x==="ADD"?1:x==="REMOVE"?2:x==="CURRENT"?3:x==="RESET"?4:rt(39313,{state:x})})(e.targetChange.targetChangeType||"NO_CHANGE"),c=e.targetChange.targetIds||[],d=(function(x,I){return x.useProto3Json?(Zt(I===void 0||typeof I=="string",58123),Nr.fromBase64String(I||"")):(Zt(I===void 0||I instanceof Buffer||I instanceof Uint8Array,16193),Nr.fromUint8Array(I||new Uint8Array))})(i,e.targetChange.resumeToken),E=e.targetChange.cause,T=E&&(function(x){const I=x.code===void 0?we.UNKNOWN:kA(x.code);return new Fe(I,x.message||"")})(E);t=new UA(a,c,d,T||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const c=n0(i,a.document.name),d=Rs(a.document.updateTime),E=a.document.createTime?Rs(a.document.createTime):lt.min(),T=new bi({mapValue:{fields:a.document.fields}}),S=Gr.newFoundDocument(c,d,E,T),x=a.targetIds||[],I=a.removedTargetIds||[];t=new nf(x,I,S.key,S)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const c=n0(i,a.document),d=a.readTime?Rs(a.readTime):lt.min(),E=Gr.newNoDocument(c,d),T=a.removedTargetIds||[];t=new nf([],T,E.key,E)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const c=n0(i,a.document),d=a.removedTargetIds||[];t=new nf([],d,c,null)}else{if(!("filter"in e))return rt(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:c=0,unchangedNames:d}=a,E=new Mb(c,d),T=a.targetId;t=new VA(T,E)}}return t}function qb(i,e){let t;if(e instanceof Xf)t={update:Qy(i,e.key,e.value)};else if(e instanceof BA)t={delete:I0(i,e.key)};else if(e instanceof Qo)t={update:Qy(i,e.key,e.data),updateMask:e4(e.fieldMask)};else{if(!(e instanceof Nb))return rt(16599,{Vt:e.type});t={verify:I0(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((a=>(function(d,E){const T=E.transform;if(T instanceof Af)return{fieldPath:E.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(T instanceof _c)return{fieldPath:E.field.canonicalString(),appendMissingElements:{values:T.elements}};if(T instanceof Ac)return{fieldPath:E.field.canonicalString(),removeAllFromArray:{values:T.elements}};if(T instanceof xf)return{fieldPath:E.field.canonicalString(),increment:T.Ae};throw rt(20930,{transform:E.transform})})(0,a)))),e.precondition.isNone||(t.currentDocument=(function(c,d){return d.updateTime!==void 0?{updateTime:Hb(c,d.updateTime)}:d.exists!==void 0?{exists:d.exists}:rt(27497)})(i,e.precondition)),t}function Yb(i,e){return i&&i.length>0?(Zt(e!==void 0,14353),i.map((t=>(function(c,d){let E=c.updateTime?Rs(c.updateTime):Rs(d);return E.isEqual(lt.min())&&(E=Rs(d)),new Ib(E,c.transformResults||[])})(t,e)))):[]}function Xb(i,e){return{documents:[HA(i,e.path)]}}function Wb(i,e){const t={structuredQuery:{}},a=e.path;let c;e.collectionGroup!==null?(c=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(c=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=HA(i,c);const d=(function(x){if(x.length!==0)return qA(us.create(x,"and"))})(e.filters);d&&(t.structuredQuery.where=d);const E=(function(x){if(x.length!==0)return x.map((I=>(function(U){return{field:Ll(U.field),direction:Zb(U.dir)}})(I)))})(e.orderBy);E&&(t.structuredQuery.orderBy=E);const T=S0(i,e.limit);return T!==null&&(t.structuredQuery.limit=T),e.startAt&&(t.structuredQuery.startAt=(function(x){return{before:x.inclusive,values:x.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(x){return{before:!x.inclusive,values:x.position}})(e.endAt)),{ft:t,parent:c}}function Qb(i){let e=jb(i.parent);const t=i.structuredQuery,a=t.from?t.from.length:0;let c=null;if(a>0){Zt(a===1,65062);const I=t.from[0];I.allDescendants?c=I.collectionId:e=e.child(I.collectionId)}let d=[];t.where&&(d=(function(M){const U=GA(M);return U instanceof us&&_A(U)?U.getFilters():[U]})(t.where));let E=[];t.orderBy&&(E=(function(M){return M.map((U=>(function(ae){return new _f(Pl(ae.field),(function(re){switch(re){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ae.direction))})(U)))})(t.orderBy));let T=null;t.limit&&(T=(function(M){let U;return U=typeof M=="object"?M.value:M,Ff(U)?null:U})(t.limit));let S=null;t.startAt&&(S=(function(M){const U=!!M.before,W=M.values||[];return new Ef(W,U)})(t.startAt));let x=null;return t.endAt&&(x=(function(M){const U=!M.before,W=M.values||[];return new Ef(W,U)})(t.endAt)),gb(e,c,E,d,T,"F",S,x)}function Kb(i,e){const t=(function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt(28987,{purpose:c})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function GA(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=Pl(t.unaryFilter.field);return sr.create(a,"==",{doubleValue:NaN});case"IS_NULL":const c=Pl(t.unaryFilter.field);return sr.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=Pl(t.unaryFilter.field);return sr.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const E=Pl(t.unaryFilter.field);return sr.create(E,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return rt(61313);default:return rt(60726)}})(i):i.fieldFilter!==void 0?(function(t){return sr.create(Pl(t.fieldFilter.field),(function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return rt(58110);default:return rt(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return us.create(t.compositeFilter.filters.map((a=>GA(a))),(function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return rt(1026)}})(t.compositeFilter.op))})(i):rt(30097,{filter:i})}function Zb(i){return Vb[i]}function Jb(i){return Ub[i]}function $b(i){return Fb[i]}function Ll(i){return{fieldPath:i.canonicalString()}}function Pl(i){return Rr.fromServerFormat(i.fieldPath)}function qA(i){return i instanceof sr?(function(t){if(t.op==="=="){if(By(t.value))return{unaryFilter:{field:Ll(t.field),op:"IS_NAN"}};if(Py(t.value))return{unaryFilter:{field:Ll(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(By(t.value))return{unaryFilter:{field:Ll(t.field),op:"IS_NOT_NAN"}};if(Py(t.value))return{unaryFilter:{field:Ll(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ll(t.field),op:Jb(t.op),value:t.value}}})(i):i instanceof us?(function(t){const a=t.getFilters().map((c=>qA(c)));return a.length===1?a[0]:{compositeFilter:{op:$b(t.op),filters:a}}})(i):rt(54877,{filter:i})}function e4(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function YA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,t,a,c,d=lt.min(),E=lt.min(),T=Nr.EMPTY_BYTE_STRING,S=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=c,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=T,this.expectedCount=S}withSequenceNumber(e){return new eo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.yt=e}}function n4(i){const e=Qb({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?C0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this.Cn=new i4}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ce.resolve()}getCollectionParents(e,t){return Ce.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ce.resolve()}deleteFieldIndex(e,t){return Ce.resolve()}deleteAllFieldIndexes(e){return Ce.resolve()}createTargetIndexes(e,t){return Ce.resolve()}getDocumentsMatchingTarget(e,t){return Ce.resolve(null)}getIndexType(e,t){return Ce.resolve(0)}getFieldIndexes(e,t){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,t){return Ce.resolve(co.min())}getMinOffsetFromCollectionGroup(e,t){return Ce.resolve(co.min())}updateCollectionGroup(e,t,a){return Ce.resolve()}updateIndexEntries(e,t){return Ce.resolve()}}class i4{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),c=this.index[t]||new fr(yn.comparator),d=!c.has(a);return this.index[t]=c.add(a),d}has(e){const t=e.lastSegment(),a=e.popLast(),c=this.index[t];return c&&c.has(a)}getEntries(e){return(this.index[e]||new fr(yn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XA=41943040;class ci{static withCacheSize(e){return new ci(e,ci.DEFAULT_COLLECTION_PERCENTILE,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ci.DEFAULT_COLLECTION_PERCENTILE=10,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ci.DEFAULT=new ci(XA,ci.DEFAULT_COLLECTION_PERCENTILE,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ci.DISABLED=new ci(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ql(0)}static cr(){return new Ql(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="LruGarbageCollector",s4=1048576;function Jy([i,e],[t,a]){const c=Dt(i,t);return c===0?Dt(e,a):c}class a4{constructor(e){this.Ir=e,this.buffer=new fr(Jy),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();Jy(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class o4{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ze(Zy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){au(t)?ze(Zy,"Ignoring IndexedDB error during garbage collection: ",t):await su(t)}await this.Vr(3e5)}))}}class l4{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((a=>Math.floor(t/100*a)))}nthSequenceNumber(e,t){if(t===0)return Ce.resolve(Uf.ce);const a=new a4(t);return this.mr.forEachTarget(e,(c=>a.Ar(c.sequenceNumber))).next((()=>this.mr.pr(e,(c=>a.Ar(c))))).next((()=>a.maxValue))}removeTargets(e,t,a){return this.mr.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ze("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(Ky)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ky):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let a,c,d,E,T,S,x;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((M=>(M>this.params.maximumSequenceNumbersToCollect?(ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),c=this.params.maximumSequenceNumbersToCollect):c=M,E=Date.now(),this.nthSequenceNumber(e,c)))).next((M=>(a=M,T=Date.now(),this.removeTargets(e,a,t)))).next((M=>(d=M,S=Date.now(),this.removeOrphanedDocuments(e,a)))).next((M=>(x=Date.now(),Ol()<=Nt.DEBUG&&ze("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${E-I}ms
	Determined least recently used ${c} in `+(T-E)+`ms
	Removed ${d} targets in `+(S-T)+`ms
	Removed ${M} documents in `+(x-S)+`ms
Total Duration: ${x-I}ms`),Ce.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:d,documentsRemoved:M}))))}}function u4(i,e){return new l4(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.changes=new Wo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?Ce.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,t,a,c){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=c}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next((c=>(a=c,this.remoteDocumentCache.getEntry(e,t)))).next((c=>(a!==null&&cc(a.mutation,c,as.empty(),Cn.now()),c)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((a=>this.getLocalViewOfDocuments(e,a,Ot()).next((()=>a))))}getLocalViewOfDocuments(e,t,a=Ot()){const c=Fo();return this.populateOverlays(e,c,t).next((()=>this.computeViews(e,t,c,a).next((d=>{let E=tc();return d.forEach(((T,S)=>{E=E.insert(T,S.overlayedDocument)})),E}))))}getOverlayedDocuments(e,t){const a=Fo();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,Ot())))}populateOverlays(e,t,a){const c=[];return a.forEach((d=>{t.has(d)||c.push(d)})),this.documentOverlayCache.getOverlays(e,c).next((d=>{d.forEach(((E,T)=>{t.set(E,T)}))}))}computeViews(e,t,a,c){let d=fa();const E=uc(),T=(function(){return uc()})();return t.forEach(((S,x)=>{const I=a.get(x.key);c.has(x.key)&&(I===void 0||I.mutation instanceof Qo)?d=d.insert(x.key,x):I!==void 0?(E.set(x.key,I.mutation.getFieldMask()),cc(I.mutation,x,I.mutation.getFieldMask(),Cn.now())):E.set(x.key,as.empty())})),this.recalculateAndSaveOverlays(e,d).next((S=>(S.forEach(((x,I)=>E.set(x,I))),t.forEach(((x,I)=>T.set(x,new h4(I,E.get(x)??null)))),T)))}recalculateAndSaveOverlays(e,t){const a=uc();let c=new Bn(((E,T)=>E-T)),d=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((E=>{for(const T of E)T.keys().forEach((S=>{const x=t.get(S);if(x===null)return;let I=a.get(S)||as.empty();I=T.applyToLocalView(x,I),a.set(S,I);const M=(c.get(T.batchId)||Ot()).add(S);c=c.insert(T.batchId,M)}))})).next((()=>{const E=[],T=c.getReverseIterator();for(;T.hasNext();){const S=T.getNext(),x=S.key,I=S.value,M=bA();I.forEach((U=>{if(!d.has(U)){const W=LA(t.get(U),a.get(U));W!==null&&M.set(U,W),d=d.add(U)}})),E.push(this.documentOverlayCache.saveOverlays(e,x,M))}return Ce.waitFor(E)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,t,a,c){return(function(E){return Je.isDocumentKey(E.path)&&E.collectionGroup===null&&E.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):TA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,c):this.getDocumentsMatchingCollectionQuery(e,t,a,c)}getNextDocuments(e,t,a,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,c).next((d=>{const E=c-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,c-d.size):Ce.resolve(Fo());let T=mc,S=d;return E.next((x=>Ce.forEach(x,((I,M)=>(T<M.largestBatchId&&(T=M.largestBatchId),d.get(I)?Ce.resolve():this.remoteDocumentCache.getEntry(e,I).next((U=>{S=S.insert(I,U)}))))).next((()=>this.populateOverlays(e,x,d))).next((()=>this.computeViews(e,S,x,Ot()))).next((I=>({batchId:T,changes:IA(I)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Je(t)).next((a=>{let c=tc();return a.isFoundDocument()&&(c=c.insert(a.key,a)),c}))}getDocumentsMatchingCollectionGroupQuery(e,t,a,c){const d=t.collectionGroup;let E=tc();return this.indexManager.getCollectionParents(e,d).next((T=>Ce.forEach(T,(S=>{const x=(function(M,U){return new Oc(U,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt)})(t,S.child(d));return this.getDocumentsMatchingCollectionQuery(e,x,a,c).next((I=>{I.forEach(((M,U)=>{E=E.insert(M,U)}))}))})).next((()=>E))))}getDocumentsMatchingCollectionQuery(e,t,a,c){let d;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next((E=>(d=E,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,d,c)))).next((E=>{d.forEach(((S,x)=>{const I=x.getKey();E.get(I)===null&&(E=E.insert(I,Gr.newInvalidDocument(I)))}));let T=tc();return E.forEach(((S,x)=>{const I=d.get(S);I!==void 0&&cc(I.mutation,x,as.empty(),Cn.now()),Gf(t,x)&&(T=T.insert(S,x))})),T}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Ce.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(c){return{id:c.id,version:c.version,createTime:Rs(c.createTime)}})(t)),Ce.resolve()}getNamedQuery(e,t){return Ce.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(c){return{name:c.name,query:n4(c.bundledQuery),readTime:Rs(c.readTime)}})(t)),Ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(){this.overlays=new Bn(Je.comparator),this.qr=new Map}getOverlay(e,t){return Ce.resolve(this.overlays.get(t))}getOverlays(e,t){const a=Fo();return Ce.forEach(t,(c=>this.getOverlay(e,c).next((d=>{d!==null&&a.set(c,d)})))).next((()=>a))}saveOverlays(e,t,a){return a.forEach(((c,d)=>{this.St(e,t,d)})),Ce.resolve()}removeOverlaysForBatchId(e,t,a){const c=this.qr.get(a);return c!==void 0&&(c.forEach((d=>this.overlays=this.overlays.remove(d))),this.qr.delete(a)),Ce.resolve()}getOverlaysForCollection(e,t,a){const c=Fo(),d=t.length+1,E=new Je(t.child("")),T=this.overlays.getIteratorFrom(E);for(;T.hasNext();){const S=T.getNext().value,x=S.getKey();if(!t.isPrefixOf(x.path))break;x.path.length===d&&S.largestBatchId>a&&c.set(S.getKey(),S)}return Ce.resolve(c)}getOverlaysForCollectionGroup(e,t,a,c){let d=new Bn(((x,I)=>x-I));const E=this.overlays.getIterator();for(;E.hasNext();){const x=E.getNext().value;if(x.getKey().getCollectionGroup()===t&&x.largestBatchId>a){let I=d.get(x.largestBatchId);I===null&&(I=Fo(),d=d.insert(x.largestBatchId,I)),I.set(x.getKey(),x)}}const T=Fo(),S=d.getIterator();for(;S.hasNext()&&(S.getNext().value.forEach(((x,I)=>T.set(x,I))),!(T.size()>=c)););return Ce.resolve(T)}St(e,t,a){const c=this.overlays.get(a.key);if(c!==null){const E=this.qr.get(c.largestBatchId).delete(a.key);this.qr.set(c.largestBatchId,E)}this.overlays=this.overlays.insert(a.key,new Ob(t,a));let d=this.qr.get(t);d===void 0&&(d=Ot(),this.qr.set(t,d)),this.qr.set(t,d.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(){this.sessionToken=Nr.EMPTY_BYTE_STRING}getSessionToken(e){return Ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(){this.Qr=new fr(Er.$r),this.Ur=new fr(Er.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const a=new Er(e,t);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,t){e.forEach((a=>this.addReference(a,t)))}removeReference(e,t){this.Gr(new Er(e,t))}zr(e,t){e.forEach((a=>this.removeReference(a,t)))}jr(e){const t=new Je(new yn([])),a=new Er(t,e),c=new Er(t,e+1),d=[];return this.Ur.forEachInRange([a,c],(E=>{this.Gr(E),d.push(E.key)})),d}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Je(new yn([])),a=new Er(t,e),c=new Er(t,e+1);let d=Ot();return this.Ur.forEachInRange([a,c],(E=>{d=d.add(E.key)})),d}containsKey(e){const t=new Er(e,0),a=this.Qr.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class Er{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Je.comparator(e.key,t.key)||Dt(e.Yr,t.Yr)}static Kr(e,t){return Dt(e.Yr,t.Yr)||Je.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new fr(Er.$r)}checkEmpty(e){return Ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,c){const d=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const E=new Db(d,t,a,c);this.mutationQueue.push(E);for(const T of c)this.Zr=this.Zr.add(new Er(T.key,d)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return Ce.resolve(E)}lookupMutationBatch(e,t){return Ce.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,c=this.ei(a),d=c<0?0:c;return Ce.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(this.mutationQueue.length===0?ig:this.tr-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new Er(t,0),c=new Er(t,Number.POSITIVE_INFINITY),d=[];return this.Zr.forEachInRange([a,c],(E=>{const T=this.Xr(E.Yr);d.push(T)})),Ce.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new fr(Dt);return t.forEach((c=>{const d=new Er(c,0),E=new Er(c,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([d,E],(T=>{a=a.add(T.Yr)}))})),Ce.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,c=a.length+1;let d=a;Je.isDocumentKey(d)||(d=d.child(""));const E=new Er(new Je(d),0);let T=new fr(Dt);return this.Zr.forEachWhile((S=>{const x=S.key.path;return!!a.isPrefixOf(x)&&(x.length===c&&(T=T.add(S.Yr)),!0)}),E),Ce.resolve(this.ti(T))}ti(e){const t=[];return e.forEach((a=>{const c=this.Xr(a);c!==null&&t.push(c)})),t}removeMutationBatch(e,t){Zt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Ce.forEach(t.mutations,(c=>{const d=new Er(c.key,t.batchId);return a=a.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,t){const a=new Er(t,0),c=this.Zr.firstAfterOrEqual(a);return Ce.resolve(t.isEqual(c&&c.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ce.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e){this.ri=e,this.docs=(function(){return new Bn(Je.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,c=this.docs.get(a),d=c?c.size:0,E=this.ri(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:E}),this.size+=E-d,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return Ce.resolve(a?a.document.mutableCopy():Gr.newInvalidDocument(t))}getEntries(e,t){let a=fa();return t.forEach((c=>{const d=this.docs.get(c);a=a.insert(c,d?d.document.mutableCopy():Gr.newInvalidDocument(c))})),Ce.resolve(a)}getDocumentsMatchingQuery(e,t,a,c){let d=fa();const E=t.path,T=new Je(E.child("__id-9223372036854775808__")),S=this.docs.getIteratorFrom(T);for(;S.hasNext();){const{key:x,value:{document:I}}=S.getNext();if(!E.isPrefixOf(x.path))break;x.path.length>E.length+1||Y3(q3(I),a)<=0||(c.has(I.key)||Gf(t,I))&&(d=d.insert(I.key,I.mutableCopy()))}return Ce.resolve(d)}getAllFromCollectionGroup(e,t,a,c){rt(9500)}ii(e,t){return Ce.forEach(this.docs,(a=>t(a)))}newChangeBuffer(e){return new E4(this)}getSize(e){return Ce.resolve(this.size)}}class E4 extends c4{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((a,c)=>{c.isValidDocument()?t.push(this.Nr.addEntry(e,c)):this.Nr.removeEntry(a)})),Ce.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e){this.persistence=e,this.si=new Wo((t=>og(t)),lg),this.lastRemoteSnapshotVersion=lt.min(),this.highestTargetId=0,this.oi=0,this._i=new dg,this.targetCount=0,this.ai=Ql.ur()}forEachTarget(e,t){return this.si.forEach(((a,c)=>t(c))),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.oi&&(this.oi=t),Ce.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ql(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Ce.resolve()}updateTargetData(e,t){return this.Pr(t),Ce.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,t,a){let c=0;const d=[];return this.si.forEach(((E,T)=>{T.sequenceNumber<=t&&a.get(T.targetId)===null&&(this.si.delete(E),d.push(this.removeMatchingKeysForTargetId(e,T.targetId)),c++)})),Ce.waitFor(d).next((()=>c))}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,t){const a=this.si.get(t)||null;return Ce.resolve(a)}addMatchingKeys(e,t,a){return this._i.Wr(t,a),Ce.resolve()}removeMatchingKeys(e,t,a){this._i.zr(t,a);const c=this.persistence.referenceDelegate,d=[];return c&&t.forEach((E=>{d.push(c.markPotentiallyOrphaned(e,E))})),Ce.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Ce.resolve()}getMatchingKeysForTargetId(e,t){const a=this._i.Hr(t);return Ce.resolve(a)}containsKey(e,t){return Ce.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,t){this.ui={},this.overlays={},this.ci=new Uf(0),this.li=!1,this.li=!0,this.hi=new m4,this.referenceDelegate=e(this),this.Pi=new _4(this),this.indexManager=new r4,this.remoteDocumentCache=(function(c){return new y4(c)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new t4(t),this.Ii=new d4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new g4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.ui[e.toKey()];return a||(a=new p4(t,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,a){ze("MemoryPersistence","Starting transaction:",e);const c=new A4(this.ci.next());return this.referenceDelegate.Ei(),a(c).next((d=>this.referenceDelegate.di(c).next((()=>d)))).toPromise().then((d=>(c.raiseOnCommittedEvent(),d)))}Ai(e,t){return Ce.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,t))))}}class A4 extends W3{constructor(e){super(),this.currentSequenceNumber=e}}class gg{constructor(e){this.persistence=e,this.Ri=new dg,this.Vi=null}static mi(e){return new gg(e)}get fi(){if(this.Vi)return this.Vi;throw rt(60996)}addReference(e,t,a){return this.Ri.addReference(a,t),this.fi.delete(a.toString()),Ce.resolve()}removeReference(e,t,a){return this.Ri.removeReference(a,t),this.fi.add(a.toString()),Ce.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Ce.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((c=>this.fi.add(c.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next((c=>{c.forEach((d=>this.fi.add(d.toString())))})).next((()=>a.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.fi,(a=>{const c=Je.fromPath(a);return this.gi(e,c).next((d=>{d||t.removeEntry(c,lt.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((a=>{a?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Ce.or([()=>Ce.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Tf{constructor(e,t){this.persistence=e,this.pi=new Wo((a=>Z3(a.path)),((a,c)=>a.isEqual(c))),this.garbageCollector=u4(this,t)}static mi(e,t){return new Tf(e,t)}Ei(){}di(e){return Ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>t.next((c=>a+c))))}wr(e){let t=0;return this.pr(e,(a=>{t++})).next((()=>t))}pr(e,t){return Ce.forEach(this.pi,((a,c)=>this.br(e,a,c).next((d=>d?Ce.resolve():t(c)))))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const c=this.persistence.getRemoteDocumentCache(),d=c.newChangeBuffer();return c.ii(e,(E=>this.br(e,E,t).next((T=>{T||(a++,d.removeEntry(E,lt.min()))})))).next((()=>d.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Ce.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.pi.set(a,e.currentSequenceNumber),Ce.resolve()}removeReference(e,t,a){return this.pi.set(a,e.currentSequenceNumber),Ce.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Ce.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=$h(e.data.value)),t}br(e,t,a){return Ce.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const c=this.pi.get(t);return Ce.resolve(c!==void 0&&c>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,t,a,c){this.targetId=e,this.fromCache=t,this.Es=a,this.ds=c}static As(e,t){let a=Ot(),c=Ot();for(const d of t.docChanges)switch(d.type){case 0:a=a.add(d.doc.key);break;case 1:c=c.add(d.doc.key)}return new mg(e,t.fromCache,a,c)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return tS()?8:Q3(qr())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,a,c){const d={result:null};return this.ys(e,t).next((E=>{d.result=E})).next((()=>{if(!d.result)return this.ws(e,t,c,a).next((E=>{d.result=E}))})).next((()=>{if(d.result)return;const E=new x4;return this.Ss(e,t,E).next((T=>{if(d.result=T,this.Vs)return this.bs(e,t,E,T.size)}))})).next((()=>d.result))}bs(e,t,a,c){return a.documentReadCount<this.fs?(Ol()<=Nt.DEBUG&&ze("QueryEngine","SDK will not create cache indexes for query:",Ml(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ce.resolve()):(Ol()<=Nt.DEBUG&&ze("QueryEngine","Query:",Ml(t),"scans",a.documentReadCount,"local documents and returns",c,"documents as results."),a.documentReadCount>this.gs*c?(Ol()<=Nt.DEBUG&&ze("QueryEngine","The SDK decides to create cache indexes for query:",Ml(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bs(t))):Ce.resolve())}ys(e,t){if(Fy(t))return Ce.resolve(null);let a=bs(t);return this.indexManager.getIndexType(e,a).next((c=>c===0?null:(t.limit!==null&&c===1&&(t=C0(t,null,"F"),a=bs(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next((d=>{const E=Ot(...d);return this.ps.getDocuments(e,E).next((T=>this.indexManager.getMinOffset(e,a).next((S=>{const x=this.Ds(t,T);return this.Cs(t,x,E,S.readTime)?this.ys(e,C0(t,null,"F")):this.vs(e,x,t,S)}))))})))))}ws(e,t,a,c){return Fy(t)||c.isEqual(lt.min())?Ce.resolve(null):this.ps.getDocuments(e,a).next((d=>{const E=this.Ds(t,d);return this.Cs(t,E,a,c)?Ce.resolve(null):(Ol()<=Nt.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Ml(t)),this.vs(e,E,t,G3(c,mc)).next((T=>T)))}))}Ds(e,t){let a=new fr(SA(e));return t.forEach(((c,d)=>{Gf(e,d)&&(a=a.add(d))})),a}Cs(e,t,a,c){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const d=e.limitType==="F"?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(c)>0)}Ss(e,t,a){return Ol()<=Nt.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",Ml(t)),this.ps.getDocumentsMatchingQuery(e,t,co.min(),a)}vs(e,t,a,c){return this.ps.getDocumentsMatchingQuery(e,a,c).next((d=>(t.forEach((E=>{d=d.insert(E.key,E)})),d)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="LocalStore",T4=3e8;class C4{constructor(e,t,a,c){this.persistence=e,this.Fs=t,this.serializer=c,this.Ms=new Bn(Dt),this.xs=new Wo((d=>og(d)),lg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new f4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function S4(i,e,t,a){return new C4(i,e,t,a)}async function QA(i,e){const t=ct(i);return await t.persistence.runTransaction("Handle user change","readonly",(a=>{let c;return t.mutationQueue.getAllMutationBatches(a).next((d=>(c=d,t.Bs(e),t.mutationQueue.getAllMutationBatches(a)))).next((d=>{const E=[],T=[];let S=Ot();for(const x of c){E.push(x.batchId);for(const I of x.mutations)S=S.add(I.key)}for(const x of d){T.push(x.batchId);for(const I of x.mutations)S=S.add(I.key)}return t.localDocuments.getDocuments(a,S).next((x=>({Ls:x,removedBatchIds:E,addedBatchIds:T})))}))}))}function v4(i,e){const t=ct(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const c=e.batch.keys(),d=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(T,S,x,I){const M=x.batch,U=M.keys();let W=Ce.resolve();return U.forEach((ae=>{W=W.next((()=>I.getEntry(S,ae))).next((oe=>{const re=x.docVersions.get(ae);Zt(re!==null,48541),oe.version.compareTo(re)<0&&(M.applyToRemoteDocument(oe,x),oe.isValidDocument()&&(oe.setReadTime(x.commitVersion),I.addEntry(oe)))}))})),W.next((()=>T.mutationQueue.removeMutationBatch(S,M)))})(t,a,e,d).next((()=>d.apply(a))).next((()=>t.mutationQueue.performConsistencyCheck(a))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(a,c,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(T){let S=Ot();for(let x=0;x<T.mutationResults.length;++x)T.mutationResults[x].transformResults.length>0&&(S=S.add(T.batch.mutations[x].key));return S})(e)))).next((()=>t.localDocuments.getDocuments(a,c)))}))}function KA(i){const e=ct(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function I4(i,e){const t=ct(i),a=e.snapshotVersion;let c=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(d=>{const E=t.Ns.newChangeBuffer({trackRemovals:!0});c=t.Ms;const T=[];e.targetChanges.forEach(((I,M)=>{const U=c.get(M);if(!U)return;T.push(t.Pi.removeMatchingKeys(d,I.removedDocuments,M).next((()=>t.Pi.addMatchingKeys(d,I.addedDocuments,M))));let W=U.withSequenceNumber(d.currentSequenceNumber);e.targetMismatches.get(M)!==null?W=W.withResumeToken(Nr.EMPTY_BYTE_STRING,lt.min()).withLastLimboFreeSnapshotVersion(lt.min()):I.resumeToken.approximateByteSize()>0&&(W=W.withResumeToken(I.resumeToken,a)),c=c.insert(M,W),(function(oe,re,ve){return oe.resumeToken.approximateByteSize()===0||re.snapshotVersion.toMicroseconds()-oe.snapshotVersion.toMicroseconds()>=T4?!0:ve.addedDocuments.size+ve.modifiedDocuments.size+ve.removedDocuments.size>0})(U,W,I)&&T.push(t.Pi.updateTargetData(d,W))}));let S=fa(),x=Ot();if(e.documentUpdates.forEach((I=>{e.resolvedLimboDocuments.has(I)&&T.push(t.persistence.referenceDelegate.updateLimboDocument(d,I))})),T.push(b4(d,E,e.documentUpdates).next((I=>{S=I.ks,x=I.qs}))),!a.isEqual(lt.min())){const I=t.Pi.getLastRemoteSnapshotVersion(d).next((M=>t.Pi.setTargetsMetadata(d,d.currentSequenceNumber,a)));T.push(I)}return Ce.waitFor(T).next((()=>E.apply(d))).next((()=>t.localDocuments.getLocalViewOfDocuments(d,S,x))).next((()=>S))})).then((d=>(t.Ms=c,d)))}function b4(i,e,t){let a=Ot(),c=Ot();return t.forEach((d=>a=a.add(d))),e.getEntries(i,a).next((d=>{let E=fa();return t.forEach(((T,S)=>{const x=d.get(T);S.isFoundDocument()!==x.isFoundDocument()&&(c=c.add(T)),S.isNoDocument()&&S.version.isEqual(lt.min())?(e.removeEntry(T,S.readTime),E=E.insert(T,S)):!x.isValidDocument()||S.version.compareTo(x.version)>0||S.version.compareTo(x.version)===0&&x.hasPendingWrites?(e.addEntry(S),E=E.insert(T,S)):ze(pg,"Ignoring outdated watch update for ",T,". Current version:",x.version," Watch version:",S.version)})),{ks:E,qs:c}}))}function R4(i,e){const t=ct(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=ig),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function N4(i,e){const t=ct(i);return t.persistence.runTransaction("Allocate target","readwrite",(a=>{let c;return t.Pi.getTargetData(a,e).next((d=>d?(c=d,Ce.resolve(c)):t.Pi.allocateTargetId(a).next((E=>(c=new eo(e,E,"TargetPurposeListen",a.currentSequenceNumber),t.Pi.addTargetData(a,c).next((()=>c)))))))})).then((a=>{const c=t.Ms.get(a.targetId);return(c===null||a.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(a.targetId,a),t.xs.set(e,a.targetId)),a}))}async function R0(i,e,t){const a=ct(i),c=a.Ms.get(e),d=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",d,(E=>a.persistence.referenceDelegate.removeTarget(E,c)))}catch(E){if(!au(E))throw E;ze(pg,`Failed to update sequence numbers for target ${e}: ${E}`)}a.Ms=a.Ms.remove(e),a.xs.delete(c.target)}function $y(i,e,t){const a=ct(i);let c=lt.min(),d=Ot();return a.persistence.runTransaction("Execute query","readwrite",(E=>(function(S,x,I){const M=ct(S),U=M.xs.get(I);return U!==void 0?Ce.resolve(M.Ms.get(U)):M.Pi.getTargetData(x,I)})(a,E,bs(e)).next((T=>{if(T)return c=T.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(E,T.targetId).next((S=>{d=S}))})).next((()=>a.Fs.getDocumentsMatchingQuery(E,e,t?c:lt.min(),t?d:Ot()))).next((T=>(D4(a,pb(e),T),{documents:T,Qs:d})))))}function D4(i,e,t){let a=i.Os.get(e)||lt.min();t.forEach(((c,d)=>{d.readTime.compareTo(a)>0&&(a=d.readTime)})),i.Os.set(e,a)}class eE{constructor(){this.activeTargetIds=wb()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class O4{constructor(){this.Mo=new eE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,a){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new eE,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="ConnectivityMonitor";class nE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ze(tE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ze(tE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh=null;function N0(){return qh===null?qh=(function(){return 268435456+Math.round(2147483648*Math.random())})():qh++,"0x"+qh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="RestConnection",L4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class P4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${a}/databases/${c}`,this.Wo=this.databaseId.database===pf?`project_id=${a}`:`project_id=${a}&database_id=${c}`}Go(e,t,a,c,d){const E=N0(),T=this.zo(e,t.toUriEncodedString());ze(r0,`Sending RPC '${e}' ${E}:`,T,a);const S={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(S,c,d);const{host:x}=new URL(T),I=eu(x);return this.Jo(e,T,S,a,I).then((M=>(ze(r0,`Received RPC '${e}' ${E}: `,M),M)),(M=>{throw ql(r0,`RPC '${e}' ${E} failed with error: `,M,"url: ",T,"request:",a),M}))}Ho(e,t,a,c,d,E){return this.Go(e,t,a,c,d)}jo(e,t,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+iu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((c,d)=>e[d]=c)),a&&a.headers.forEach(((c,d)=>e[d]=c))}zo(e,t){const a=L4[e];return`${this.Uo}/v1/${t}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="WebChannelConnection";class k4 extends P4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,a,c,d){const E=N0();return new Promise(((T,S)=>{const x=new J_;x.setWithCredentials(!0),x.listenOnce($_.COMPLETE,(()=>{try{switch(x.getLastErrorCode()){case Jh.NO_ERROR:const M=x.getResponseJson();ze(Hr,`XHR for RPC '${e}' ${E} received:`,JSON.stringify(M)),T(M);break;case Jh.TIMEOUT:ze(Hr,`RPC '${e}' ${E} timed out`),S(new Fe(we.DEADLINE_EXCEEDED,"Request time out"));break;case Jh.HTTP_ERROR:const U=x.getStatus();if(ze(Hr,`RPC '${e}' ${E} failed with status:`,U,"response text:",x.getResponseText()),U>0){let W=x.getResponseJson();Array.isArray(W)&&(W=W[0]);const ae=W?.error;if(ae&&ae.status&&ae.message){const oe=(function(ve){const me=ve.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(me)>=0?me:we.UNKNOWN})(ae.status);S(new Fe(oe,ae.message))}else S(new Fe(we.UNKNOWN,"Server responded with status "+x.getStatus()))}else S(new Fe(we.UNAVAILABLE,"Connection failed."));break;default:rt(9055,{l_:e,streamId:E,h_:x.getLastErrorCode(),P_:x.getLastError()})}}finally{ze(Hr,`RPC '${e}' ${E} completed.`)}}));const I=JSON.stringify(c);ze(Hr,`RPC '${e}' ${E} sending request:`,c),x.send(t,"POST",I,a,15)}))}T_(e,t,a){const c=N0(),d=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],E=nA(),T=tA(),S={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},x=this.longPollingOptions.timeoutSeconds;x!==void 0&&(S.longPollingTimeout=Math.round(1e3*x)),this.useFetchStreams&&(S.useFetchStreams=!0),this.jo(S.initMessageHeaders,t,a),S.encodeInitMessageHeaders=!0;const I=d.join("");ze(Hr,`Creating RPC '${e}' stream ${c}: ${I}`,S);const M=E.createWebChannel(I,S);this.I_(M);let U=!1,W=!1;const ae=new B4({Yo:re=>{W?ze(Hr,`Not sending because RPC '${e}' stream ${c} is closed:`,re):(U||(ze(Hr,`Opening RPC '${e}' stream ${c} transport.`),M.open(),U=!0),ze(Hr,`RPC '${e}' stream ${c} sending:`,re),M.send(re))},Zo:()=>M.close()}),oe=(re,ve,me)=>{re.listen(ve,(pe=>{try{me(pe)}catch(Be){setTimeout((()=>{throw Be}),0)}}))};return oe(M,ec.EventType.OPEN,(()=>{W||(ze(Hr,`RPC '${e}' stream ${c} transport opened.`),ae.o_())})),oe(M,ec.EventType.CLOSE,(()=>{W||(W=!0,ze(Hr,`RPC '${e}' stream ${c} transport closed`),ae.a_(),this.E_(M))})),oe(M,ec.EventType.ERROR,(re=>{W||(W=!0,ql(Hr,`RPC '${e}' stream ${c} transport errored. Name:`,re.name,"Message:",re.message),ae.a_(new Fe(we.UNAVAILABLE,"The operation could not be completed")))})),oe(M,ec.EventType.MESSAGE,(re=>{if(!W){const ve=re.data[0];Zt(!!ve,16349);const me=ve,pe=me?.error||me[0]?.error;if(pe){ze(Hr,`RPC '${e}' stream ${c} received error:`,pe);const Be=pe.status;let Ge=(function(z){const k=ir[z];if(k!==void 0)return kA(k)})(Be),qe=pe.message;Ge===void 0&&(Ge=we.INTERNAL,qe="Unknown error status: "+Be+" with message "+pe.message),W=!0,ae.a_(new Fe(Ge,qe)),M.close()}else ze(Hr,`RPC '${e}' stream ${c} received:`,ve),ae.u_(ve)}})),oe(T,eA.STAT_EVENT,(re=>{re.stat===y0.PROXY?ze(Hr,`RPC '${e}' stream ${c} detected buffering proxy`):re.stat===y0.NOPROXY&&ze(Hr,`RPC '${e}' stream ${c} detected no buffering proxy`)})),setTimeout((()=>{ae.__()}),0),ae}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function i0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(i){return new zb(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,t,a=1e3,c=1.5,d=6e4){this.Mi=e,this.timerId=t,this.d_=a,this.A_=c,this.R_=d,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),c=Math.max(0,t-a);c>0&&ze("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,c,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="PersistentStream";class JA{constructor(e,t,a,c,d,E,T,S){this.Mi=e,this.S_=a,this.b_=c,this.connection=d,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=T,this.listener=S,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ZA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===we.RESOURCE_EXHAUSTED?(ha(t.toString()),ha("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,c])=>{this.D_===t&&this.G_(a,c)}),(a=>{e((()=>{const c=new Fe(we.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(c)}))}))}G_(e,t){const a=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((c=>{a((()=>this.z_(c)))})),this.stream.onMessage((c=>{a((()=>++this.F_==1?this.J_(c):this.onNext(c)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ze(rE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ze(rE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class V4 extends JA{constructor(e,t,a,c,d,E){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,c,E),this.serializer=d}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Gb(this.serializer,e),a=(function(d){if(!("targetChange"in d))return lt.min();const E=d.targetChange;return E.targetIds&&E.targetIds.length?lt.min():E.readTime?Rs(E.readTime):lt.min()})(e);return this.listener.H_(t,a)}Y_(e){const t={};t.database=b0(this.serializer),t.addTarget=(function(d,E){let T;const S=E.target;if(T=w0(S)?{documents:Xb(d,S)}:{query:Wb(d,S).ft},T.targetId=E.targetId,E.resumeToken.approximateByteSize()>0){T.resumeToken=FA(d,E.resumeToken);const x=S0(d,E.expectedCount);x!==null&&(T.expectedCount=x)}else if(E.snapshotVersion.compareTo(lt.min())>0){T.readTime=wf(d,E.snapshotVersion.toTimestamp());const x=S0(d,E.expectedCount);x!==null&&(T.expectedCount=x)}return T})(this.serializer,e);const a=Kb(this.serializer,e);a&&(t.labels=a),this.q_(t)}Z_(e){const t={};t.database=b0(this.serializer),t.removeTarget=e,this.q_(t)}}class U4 extends JA{constructor(e,t,a,c,d,E){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,c,E),this.serializer=d}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Zt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Zt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Zt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Yb(e.writeResults,e.commitTime),a=Rs(e.commitTime);return this.listener.na(a,t)}ra(){const e={};e.database=b0(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((a=>qb(this.serializer,a)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{}class z4 extends F4{constructor(e,t,a,c){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=c,this.ia=!1}sa(){if(this.ia)throw new Fe(we.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,a,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,E])=>this.connection.Go(e,v0(t,a),c,d,E))).catch((d=>{throw d.name==="FirebaseError"?(d.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Fe(we.UNKNOWN,d.toString())}))}Ho(e,t,a,c,d){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([E,T])=>this.connection.Ho(e,v0(t,a),c,E,T,d))).catch((E=>{throw E.name==="FirebaseError"?(E.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),E):new Fe(we.UNKNOWN,E.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class H4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ha(t),this.aa=!1):ze("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo="RemoteStore";class j4{constructor(e,t,a,c,d){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=d,this.Aa.Oo((E=>{a.enqueueAndForget((async()=>{Ko(this)&&(ze(Yo,"Restarting streams for network reachability change."),await(async function(S){const x=ct(S);x.Ea.add(4),await Lc(x),x.Ra.set("Unknown"),x.Ea.delete(4),await Kf(x)})(this))}))})),this.Ra=new H4(a,c)}}async function Kf(i){if(Ko(i))for(const e of i.da)await e(!0)}async function Lc(i){for(const e of i.da)await e(!1)}function $A(i,e){const t=ct(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Ag(t)?_g(t):ou(t).O_()&&Eg(t,e))}function yg(i,e){const t=ct(i),a=ou(t);t.Ia.delete(e),a.O_()&&ex(t,e),t.Ia.size===0&&(a.O_()?a.L_():Ko(t)&&t.Ra.set("Unknown"))}function Eg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(lt.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ou(i).Y_(e)}function ex(i,e){i.Va.Ue(e),ou(i).Z_(e)}function _g(i){i.Va=new kb({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),ou(i).start(),i.Ra.ua()}function Ag(i){return Ko(i)&&!ou(i).x_()&&i.Ia.size>0}function Ko(i){return ct(i).Ea.size===0}function tx(i){i.Va=void 0}async function G4(i){i.Ra.set("Online")}async function q4(i){i.Ia.forEach(((e,t)=>{Eg(i,e)}))}async function Y4(i,e){tx(i),Ag(i)?(i.Ra.ha(e),_g(i)):i.Ra.set("Unknown")}async function X4(i,e,t){if(i.Ra.set("Online"),e instanceof UA&&e.state===2&&e.cause)try{await(async function(c,d){const E=d.cause;for(const T of d.targetIds)c.Ia.has(T)&&(await c.remoteSyncer.rejectListen(T,E),c.Ia.delete(T),c.Va.removeTarget(T))})(i,e)}catch(a){ze(Yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Cf(i,a)}else if(e instanceof nf?i.Va.Ze(e):e instanceof VA?i.Va.st(e):i.Va.tt(e),!t.isEqual(lt.min()))try{const a=await KA(i.localStore);t.compareTo(a)>=0&&await(function(d,E){const T=d.Va.Tt(E);return T.targetChanges.forEach(((S,x)=>{if(S.resumeToken.approximateByteSize()>0){const I=d.Ia.get(x);I&&d.Ia.set(x,I.withResumeToken(S.resumeToken,E))}})),T.targetMismatches.forEach(((S,x)=>{const I=d.Ia.get(S);if(!I)return;d.Ia.set(S,I.withResumeToken(Nr.EMPTY_BYTE_STRING,I.snapshotVersion)),ex(d,S);const M=new eo(I.target,S,x,I.sequenceNumber);Eg(d,M)})),d.remoteSyncer.applyRemoteEvent(T)})(i,t)}catch(a){ze(Yo,"Failed to raise snapshot:",a),await Cf(i,a)}}async function Cf(i,e,t){if(!au(e))throw e;i.Ea.add(1),await Lc(i),i.Ra.set("Offline"),t||(t=()=>KA(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ze(Yo,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await Kf(i)}))}function nx(i,e){return e().catch((t=>Cf(i,t,e)))}async function Zf(i){const e=ct(i),t=mo(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ig;for(;W4(e);)try{const c=await R4(e.localStore,a);if(c===null){e.Ta.length===0&&t.L_();break}a=c.batchId,Q4(e,c)}catch(c){await Cf(e,c)}rx(e)&&ix(e)}function W4(i){return Ko(i)&&i.Ta.length<10}function Q4(i,e){i.Ta.push(e);const t=mo(i);t.O_()&&t.X_&&t.ea(e.mutations)}function rx(i){return Ko(i)&&!mo(i).x_()&&i.Ta.length>0}function ix(i){mo(i).start()}async function K4(i){mo(i).ra()}async function Z4(i){const e=mo(i);for(const t of i.Ta)e.ea(t.mutations)}async function J4(i,e,t){const a=i.Ta.shift(),c=cg.from(a,e,t);await nx(i,(()=>i.remoteSyncer.applySuccessfulWrite(c))),await Zf(i)}async function $4(i,e){e&&mo(i).X_&&await(async function(a,c){if((function(E){return Lb(E)&&E!==we.ABORTED})(c.code)){const d=a.Ta.shift();mo(a).B_(),await nx(a,(()=>a.remoteSyncer.rejectFailedWrite(d.batchId,c))),await Zf(a)}})(i,e),rx(i)&&ix(i)}async function iE(i,e){const t=ct(i);t.asyncQueue.verifyOperationInProgress(),ze(Yo,"RemoteStore received new credentials");const a=Ko(t);t.Ea.add(3),await Lc(t),a&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Kf(t)}async function eR(i,e){const t=ct(i);e?(t.Ea.delete(2),await Kf(t)):e||(t.Ea.add(2),await Lc(t),t.Ra.set("Unknown"))}function ou(i){return i.ma||(i.ma=(function(t,a,c){const d=ct(t);return d.sa(),new V4(a,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,c)})(i.datastore,i.asyncQueue,{Xo:G4.bind(null,i),t_:q4.bind(null,i),r_:Y4.bind(null,i),H_:X4.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Ag(i)?_g(i):i.Ra.set("Unknown")):(await i.ma.stop(),tx(i))}))),i.ma}function mo(i){return i.fa||(i.fa=(function(t,a,c){const d=ct(t);return d.sa(),new U4(a,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,c)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:K4.bind(null,i),r_:$4.bind(null,i),ta:Z4.bind(null,i),na:J4.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Zf(i)):(await i.fa.stop(),i.Ta.length>0&&(ze(Yo,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,t,a,c,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=c,this.removalCallback=d,this.deferred=new oo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((E=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,c,d){const E=Date.now()+a,T=new xg(e,t,E,c,d);return T.start(a),T}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Fe(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wg(i,e){if(ha("AsyncQueue",`${e}: ${i}`),au(i))return new Fe(we.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{static emptySet(e){return new zl(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||Je.comparator(t.key,a.key):(t,a)=>Je.comparator(t.key,a.key),this.keyedMap=tc(),this.sortedSet=new Bn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,a)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const c=t.getNext().key,d=a.getNext().key;if(!c.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new zl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(){this.ga=new Bn(Je.comparator)}track(e){const t=e.doc.key,a=this.ga.get(t);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(t,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(t):e.type===1&&a.type===2?this.ga=this.ga.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):rt(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,a)=>{e.push(a)})),e}}class Kl{constructor(e,t,a,c,d,E,T,S,x){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=c,this.mutatedKeys=d,this.fromCache=E,this.syncStateChanged=T,this.excludesMetadataChanges=S,this.hasCachedResults=x}static fromInitialDocuments(e,t,a,c,d){const E=[];return t.forEach((T=>{E.push({type:0,doc:T})})),new Kl(e,t,zl.emptySet(t),E,a,c,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let c=0;c<t.length;c++)if(t[c].type!==a[c].type||!t[c].doc.isEqual(a[c].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class nR{constructor(){this.queries=aE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,a){const c=ct(t),d=c.queries;c.queries=aE(),d.forEach(((E,T)=>{for(const S of T.Sa)S.onError(a)}))})(this,new Fe(we.ABORTED,"Firestore shutting down"))}}function aE(){return new Wo((i=>CA(i)),jf)}async function sx(i,e){const t=ct(i);let a=3;const c=e.query;let d=t.queries.get(c);d?!d.ba()&&e.Da()&&(a=2):(d=new tR,a=e.Da()?0:1);try{switch(a){case 0:d.wa=await t.onListen(c,!0);break;case 1:d.wa=await t.onListen(c,!1);break;case 2:await t.onFirstRemoteStoreListen(c)}}catch(E){const T=wg(E,`Initialization of query '${Ml(e.query)}' failed`);return void e.onError(T)}t.queries.set(c,d),d.Sa.push(e),e.va(t.onlineState),d.wa&&e.Fa(d.wa)&&Tg(t)}async function ax(i,e){const t=ct(i),a=e.query;let c=3;const d=t.queries.get(a);if(d){const E=d.Sa.indexOf(e);E>=0&&(d.Sa.splice(E,1),d.Sa.length===0?c=e.Da()?0:1:!d.ba()&&e.Da()&&(c=2))}switch(c){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function rR(i,e){const t=ct(i);let a=!1;for(const c of e){const d=c.query,E=t.queries.get(d);if(E){for(const T of E.Sa)T.Fa(c)&&(a=!0);E.wa=c}}a&&Tg(t)}function iR(i,e,t){const a=ct(i),c=a.queries.get(e);if(c)for(const d of c.Sa)d.onError(t);a.queries.delete(e)}function Tg(i){i.Ca.forEach((e=>{e.next()}))}var D0,oE;(oE=D0||(D0={})).Ma="default",oE.Cache="cache";class ox{constructor(e,t,a){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const c of e.docChanges)c.type!==3&&a.push(c);e=new Kl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const a=t!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==D0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.key=e}}class ux{constructor(e){this.key=e}}class sR{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=SA(e),this.tu=new zl(this.eu)}get nu(){return this.Ya}ru(e,t){const a=t?t.iu:new sE,c=t?t.tu:this.tu;let d=t?t.mutatedKeys:this.mutatedKeys,E=c,T=!1;const S=this.query.limitType==="F"&&c.size===this.query.limit?c.last():null,x=this.query.limitType==="L"&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal(((I,M)=>{const U=c.get(I),W=Gf(this.query,M)?M:null,ae=!!U&&this.mutatedKeys.has(U.key),oe=!!W&&(W.hasLocalMutations||this.mutatedKeys.has(W.key)&&W.hasCommittedMutations);let re=!1;U&&W?U.data.isEqual(W.data)?ae!==oe&&(a.track({type:3,doc:W}),re=!0):this.su(U,W)||(a.track({type:2,doc:W}),re=!0,(S&&this.eu(W,S)>0||x&&this.eu(W,x)<0)&&(T=!0)):!U&&W?(a.track({type:0,doc:W}),re=!0):U&&!W&&(a.track({type:1,doc:U}),re=!0,(S||x)&&(T=!0)),re&&(W?(E=E.add(W),d=oe?d.add(I):d.delete(I)):(E=E.delete(I),d=d.delete(I)))})),this.query.limit!==null)for(;E.size>this.query.limit;){const I=this.query.limitType==="F"?E.last():E.first();E=E.delete(I.key),d=d.delete(I.key),a.track({type:1,doc:I})}return{tu:E,iu:a,Cs:T,mutatedKeys:d}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,c){const d=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const E=e.iu.ya();E.sort(((I,M)=>(function(W,ae){const oe=re=>{switch(re){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt(20277,{Rt:re})}};return oe(W)-oe(ae)})(I.type,M.type)||this.eu(I.doc,M.doc))),this.ou(a),c=c??!1;const T=t&&!c?this._u():[],S=this.Xa.size===0&&this.current&&!c?1:0,x=S!==this.Za;return this.Za=S,E.length!==0||x?{snapshot:new Kl(this.query,e.tu,d,E,e.mutatedKeys,S===0,x,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:T}:{au:T}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ot(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const t=[];return e.forEach((a=>{this.Xa.has(a)||t.push(new ux(a))})),this.Xa.forEach((a=>{e.has(a)||t.push(new lx(a))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ot();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Kl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cg="SyncEngine";class aR{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class oR{constructor(e){this.key=e,this.hu=!1}}class lR{constructor(e,t,a,c,d,E){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=c,this.currentUser=d,this.maxConcurrentLimboResolutions=E,this.Pu={},this.Tu=new Wo((T=>CA(T)),jf),this.Iu=new Map,this.Eu=new Set,this.du=new Bn(Je.comparator),this.Au=new Map,this.Ru=new dg,this.Vu={},this.mu=new Map,this.fu=Ql.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uR(i,e,t=!0){const a=mx(i);let c;const d=a.Tu.get(e);return d?(a.sharedClientState.addLocalQueryTarget(d.targetId),c=d.view.lu()):c=await cx(a,e,t,!0),c}async function cR(i,e){const t=mx(i);await cx(t,e,!0,!1)}async function cx(i,e,t,a){const c=await N4(i.localStore,bs(e)),d=c.targetId,E=i.sharedClientState.addLocalQueryTarget(d,t);let T;return a&&(T=await hR(i,e,d,E==="current",c.resumeToken)),i.isPrimaryClient&&t&&$A(i.remoteStore,c),T}async function hR(i,e,t,a,c){i.pu=(M,U,W)=>(async function(oe,re,ve,me){let pe=re.view.ru(ve);pe.Cs&&(pe=await $y(oe.localStore,re.query,!1).then((({documents:H})=>re.view.ru(H,pe))));const Be=me&&me.targetChanges.get(re.targetId),Ge=me&&me.targetMismatches.get(re.targetId)!=null,qe=re.view.applyChanges(pe,oe.isPrimaryClient,Be,Ge);return uE(oe,re.targetId,qe.au),qe.snapshot})(i,M,U,W);const d=await $y(i.localStore,e,!0),E=new sR(e,d.Qs),T=E.ru(d.documents),S=Mc.createSynthesizedTargetChangeForCurrentChange(t,a&&i.onlineState!=="Offline",c),x=E.applyChanges(T,i.isPrimaryClient,S);uE(i,t,x.au);const I=new aR(e,t,E);return i.Tu.set(e,I),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),x.snapshot}async function fR(i,e,t){const a=ct(i),c=a.Tu.get(e),d=a.Iu.get(c.targetId);if(d.length>1)return a.Iu.set(c.targetId,d.filter((E=>!jf(E,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(c.targetId),a.sharedClientState.isActiveQueryTarget(c.targetId)||await R0(a.localStore,c.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(c.targetId),t&&yg(a.remoteStore,c.targetId),O0(a,c.targetId)})).catch(su)):(O0(a,c.targetId),await R0(a.localStore,c.targetId,!0))}async function dR(i,e){const t=ct(i),a=t.Tu.get(e),c=t.Iu.get(a.targetId);t.isPrimaryClient&&c.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),yg(t.remoteStore,a.targetId))}async function gR(i,e,t){const a=xR(i);try{const c=await(function(E,T){const S=ct(E),x=Cn.now(),I=T.reduce(((W,ae)=>W.add(ae.key)),Ot());let M,U;return S.persistence.runTransaction("Locally write mutations","readwrite",(W=>{let ae=fa(),oe=Ot();return S.Ns.getEntries(W,I).next((re=>{ae=re,ae.forEach(((ve,me)=>{me.isValidDocument()||(oe=oe.add(ve))}))})).next((()=>S.localDocuments.getOverlayedDocuments(W,ae))).next((re=>{M=re;const ve=[];for(const me of T){const pe=Rb(me,M.get(me.key).overlayedDocument);pe!=null&&ve.push(new Qo(me.key,pe,pA(pe.value.mapValue),oa.exists(!0)))}return S.mutationQueue.addMutationBatch(W,x,ve,T)})).next((re=>{U=re;const ve=re.applyToLocalDocumentSet(M,oe);return S.documentOverlayCache.saveOverlays(W,re.batchId,ve)}))})).then((()=>({batchId:U.batchId,changes:IA(M)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(c.batchId),(function(E,T,S){let x=E.Vu[E.currentUser.toKey()];x||(x=new Bn(Dt)),x=x.insert(T,S),E.Vu[E.currentUser.toKey()]=x})(a,c.batchId,t),await Pc(a,c.changes),await Zf(a.remoteStore)}catch(c){const d=wg(c,"Failed to persist write");t.reject(d)}}async function hx(i,e){const t=ct(i);try{const a=await I4(t.localStore,e);e.targetChanges.forEach(((c,d)=>{const E=t.Au.get(d);E&&(Zt(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1,22616),c.addedDocuments.size>0?E.hu=!0:c.modifiedDocuments.size>0?Zt(E.hu,14607):c.removedDocuments.size>0&&(Zt(E.hu,42227),E.hu=!1))})),await Pc(t,a,e)}catch(a){await su(a)}}function lE(i,e,t){const a=ct(i);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const c=[];a.Tu.forEach(((d,E)=>{const T=E.view.va(e);T.snapshot&&c.push(T.snapshot)})),(function(E,T){const S=ct(E);S.onlineState=T;let x=!1;S.queries.forEach(((I,M)=>{for(const U of M.Sa)U.va(T)&&(x=!0)})),x&&Tg(S)})(a.eventManager,e),c.length&&a.Pu.H_(c),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function mR(i,e,t){const a=ct(i);a.sharedClientState.updateQueryState(e,"rejected",t);const c=a.Au.get(e),d=c&&c.key;if(d){let E=new Bn(Je.comparator);E=E.insert(d,Gr.newNoDocument(d,lt.min()));const T=Ot().add(d),S=new Wf(lt.min(),new Map,new Bn(Dt),E,T);await hx(a,S),a.du=a.du.remove(d),a.Au.delete(e),Sg(a)}else await R0(a.localStore,e,!1).then((()=>O0(a,e,t))).catch(su)}async function pR(i,e){const t=ct(i),a=e.batch.batchId;try{const c=await v4(t.localStore,e);dx(t,a,null),fx(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await Pc(t,c)}catch(c){await su(c)}}async function yR(i,e,t){const a=ct(i);try{const c=await(function(E,T){const S=ct(E);return S.persistence.runTransaction("Reject batch","readwrite-primary",(x=>{let I;return S.mutationQueue.lookupMutationBatch(x,T).next((M=>(Zt(M!==null,37113),I=M.keys(),S.mutationQueue.removeMutationBatch(x,M)))).next((()=>S.mutationQueue.performConsistencyCheck(x))).next((()=>S.documentOverlayCache.removeOverlaysForBatchId(x,I,T))).next((()=>S.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(x,I))).next((()=>S.localDocuments.getDocuments(x,I)))}))})(a.localStore,e);dx(a,e,t),fx(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await Pc(a,c)}catch(c){await su(c)}}function fx(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function dx(i,e,t){const a=ct(i);let c=a.Vu[a.currentUser.toKey()];if(c){const d=c.get(e);d&&(t?d.reject(t):d.resolve(),c=c.remove(e)),a.Vu[a.currentUser.toKey()]=c}}function O0(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.Iu.get(e))i.Tu.delete(a),t&&i.Pu.yu(a,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((a=>{i.Ru.containsKey(a)||gx(i,a)}))}function gx(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(yg(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),Sg(i))}function uE(i,e,t){for(const a of t)a instanceof lx?(i.Ru.addReference(a.key,e),ER(i,a)):a instanceof ux?(ze(Cg,"Document no longer in limbo: "+a.key),i.Ru.removeReference(a.key,e),i.Ru.containsKey(a.key)||gx(i,a.key)):rt(19791,{wu:a})}function ER(i,e){const t=e.key,a=t.path.canonicalString();i.du.get(t)||i.Eu.has(a)||(ze(Cg,"New document in limbo: "+t),i.Eu.add(a),Sg(i))}function Sg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new Je(yn.fromString(e)),a=i.fu.next();i.Au.set(a,new oR(t)),i.du=i.du.insert(t,a),$A(i.remoteStore,new eo(bs(Hf(t.path)),a,"TargetPurposeLimboResolution",Uf.ce))}}async function Pc(i,e,t){const a=ct(i),c=[],d=[],E=[];a.Tu.isEmpty()||(a.Tu.forEach(((T,S)=>{E.push(a.pu(S,e,t).then((x=>{if((x||t)&&a.isPrimaryClient){const I=x?!x.fromCache:t?.targetChanges.get(S.targetId)?.current;a.sharedClientState.updateQueryState(S.targetId,I?"current":"not-current")}if(x){c.push(x);const I=mg.As(S.targetId,x);d.push(I)}})))})),await Promise.all(E),a.Pu.H_(c),await(async function(S,x){const I=ct(S);try{await I.persistence.runTransaction("notifyLocalViewChanges","readwrite",(M=>Ce.forEach(x,(U=>Ce.forEach(U.Es,(W=>I.persistence.referenceDelegate.addReference(M,U.targetId,W))).next((()=>Ce.forEach(U.ds,(W=>I.persistence.referenceDelegate.removeReference(M,U.targetId,W)))))))))}catch(M){if(!au(M))throw M;ze(pg,"Failed to update sequence numbers: "+M)}for(const M of x){const U=M.targetId;if(!M.fromCache){const W=I.Ms.get(U),ae=W.snapshotVersion,oe=W.withLastLimboFreeSnapshotVersion(ae);I.Ms=I.Ms.insert(U,oe)}}})(a.localStore,d))}async function _R(i,e){const t=ct(i);if(!t.currentUser.isEqual(e)){ze(Cg,"User change. New user:",e.toKey());const a=await QA(t.localStore,e);t.currentUser=e,(function(d,E){d.mu.forEach((T=>{T.forEach((S=>{S.reject(new Fe(we.CANCELLED,E))}))})),d.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Pc(t,a.Ls)}}function AR(i,e){const t=ct(i),a=t.Au.get(e);if(a&&a.hu)return Ot().add(a.key);{let c=Ot();const d=t.Iu.get(e);if(!d)return c;for(const E of d){const T=t.Tu.get(E);c=c.unionWith(T.view.nu)}return c}}function mx(i){const e=ct(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=hx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mR.bind(null,e),e.Pu.H_=rR.bind(null,e.eventManager),e.Pu.yu=iR.bind(null,e.eventManager),e}function xR(i){const e=ct(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yR.bind(null,e),e}class Sf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return S4(this.persistence,new w4,e.initialUser,this.serializer)}Cu(e){return new WA(gg.mi,this.serializer)}Du(e){return new O4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sf.provider={build:()=>new Sf};class wR extends Sf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Zt(this.persistence.referenceDelegate instanceof Tf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new o4(a,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?ci.withCacheSize(this.cacheSizeBytes):ci.DEFAULT;return new WA((a=>Tf.mi(a,t)),this.serializer)}}class M0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>lE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=_R.bind(null,this.syncEngine),await eR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nR})()}createDatastore(e){const t=Qf(e.databaseInfo.databaseId),a=(function(d){return new k4(d)})(e.databaseInfo);return(function(d,E,T,S){return new z4(d,E,T,S)})(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return(function(a,c,d,E,T){return new j4(a,c,d,E,T)})(this.localStore,this.datastore,e.asyncQueue,(t=>lE(this.syncEngine,t,0)),(function(){return nE.v()?new nE:new M4})())}createSyncEngine(e,t){return(function(c,d,E,T,S,x,I){const M=new lR(c,d,E,T,S,x);return I&&(M.gu=!0),M})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const a=ct(t);ze(Yo,"RemoteStore shutting down."),a.Ea.add(5),await Lc(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}M0.provider={build:()=>new M0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ha("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po="FirestoreClient";class TR{constructor(e,t,a,c,d){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=c,this.user=jr.UNAUTHENTICATED,this.clientId=rg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=d,this.authCredentials.start(a,(async E=>{ze(po,"Received user=",E.uid),await this.authCredentialListener(E),this.user=E})),this.appCheckCredentials.start(a,(E=>(ze(po,"Received new app check token=",E),this.appCheckCredentialListener(E,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=wg(t,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function s0(i,e){i.asyncQueue.verifyOperationInProgress(),ze(po,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let a=t.initialUser;i.setCredentialChangeListener((async c=>{a.isEqual(c)||(await QA(e.localStore,c),a=c)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function cE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await CR(i);ze(po,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((a=>iE(e.remoteStore,a))),i.setAppCheckTokenChangeListener(((a,c)=>iE(e.remoteStore,c))),i._onlineComponents=e}async function CR(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ze(po,"Using user provided OfflineComponentProvider");try{await s0(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(c){return c.name==="FirebaseError"?c.code===we.FAILED_PRECONDITION||c.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11})(t))throw t;ql("Error using user provided cache. Falling back to memory cache: "+t),await s0(i,new Sf)}}else ze(po,"Using default OfflineComponentProvider"),await s0(i,new wR(void 0));return i._offlineComponents}async function yx(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ze(po,"Using user provided OnlineComponentProvider"),await cE(i,i._uninitializedComponentsProvider._online)):(ze(po,"Using default OnlineComponentProvider"),await cE(i,new M0))),i._onlineComponents}function SR(i){return yx(i).then((e=>e.syncEngine))}async function L0(i){const e=await yx(i),t=e.eventManager;return t.onListen=uR.bind(null,e.syncEngine),t.onUnlisten=fR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=cR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=dR.bind(null,e.syncEngine),t}function vR(i,e,t={}){const a=new oo;return i.asyncQueue.enqueueAndForget((async()=>(function(d,E,T,S,x){const I=new px({next:U=>{I.Nu(),E.enqueueAndForget((()=>ax(d,M)));const W=U.docs.has(T);!W&&U.fromCache?x.reject(new Fe(we.UNAVAILABLE,"Failed to get document because the client is offline.")):W&&U.fromCache&&S&&S.source==="server"?x.reject(new Fe(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):x.resolve(U)},error:U=>x.reject(U)}),M=new ox(Hf(T.path),I,{includeMetadataChanges:!0,qa:!0});return sx(d,M)})(await L0(i),i.asyncQueue,e,t,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="firestore.googleapis.com",fE=!0;class dE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Fe(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_x,this.ssl=fE}else this.host=e.host,this.ssl=e.ssl??fE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<s4)throw new Fe(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}j3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ex(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Fe(we.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Fe(we.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Fe(we.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,c){return a.timeoutSeconds===c.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jf{constructor(e,t,a,c){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Fe(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Fe(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new M3;switch(a.type){case"firstParty":return new k3(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Fe(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const a=hE.get(t);a&&(ze("ComponentProvider","Removing Datastore"),hE.delete(t),a.terminate())})(this),Promise.resolve()}}function IR(i,e,t,a={}){i=lo(i,Jf);const c=eu(e),d=i._getSettings(),E={...d,emulatorOptions:i._getEmulatorOptions()},T=`${e}:${t}`;c&&(l_(`https://${T}`),u_("Firestore",!0)),d.host!==_x&&d.host!==T&&ql("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const S={...d,host:T,ssl:c,emulatorOptions:a};if(!Ho(S,E)&&(i._setSettings(S),a.mockUserToken)){let x,I;if(typeof a.mockUserToken=="string")x=a.mockUserToken,I=jr.MOCK_USER;else{x=YC(a.mockUserToken,i._app?.options.projectId);const M=a.mockUserToken.sub||a.mockUserToken.user_id;if(!M)throw new Fe(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new jr(M)}i._authCredentials=new L3(new iA(x,I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new lu(this.firestore,e,this._query)}}class Jn{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}toJSON(){return{type:Jn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,a){if(Dc(t,Jn._jsonSchema))return new Jn(e,a||null,new Je(yn.fromString(t.referencePath)))}}Jn._jsonSchemaVersion="firestore/documentReference/1.0",Jn._jsonSchema={type:ar("string",Jn._jsonSchemaVersion),referencePath:ar("string")};class uo extends lu{constructor(e,t,a){super(e,t,Hf(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new Je(e))}withConverter(e){return new uo(this.firestore,e,this._path)}}function bR(i,e,...t){if(i=dr(i),sA("collection","path",e),i instanceof Jf){const a=yn.fromString(e,...t);return vy(a),new uo(i,null,a)}{if(!(i instanceof Jn||i instanceof uo))throw new Fe(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(yn.fromString(e,...t));return vy(a),new uo(i.firestore,null,a)}}function RR(i,e,...t){if(i=dr(i),arguments.length===1&&(e=rg.newId()),sA("doc","path",e),i instanceof Jf){const a=yn.fromString(e,...t);return Sy(a),new Jn(i,null,new Je(a))}{if(!(i instanceof Jn||i instanceof uo))throw new Fe(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(yn.fromString(e,...t));return Sy(a),new Jn(i.firestore,i instanceof uo?i.converter:null,new Je(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="AsyncQueue";class mE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ZA(this,"async_queue_retry"),this._c=()=>{const a=i0();a&&ze(gE,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const t=i0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=i0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new oo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!au(e))throw e;ze(gE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ha("INTERNAL UNHANDLED ERROR: ",pE(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=t,t}enqueueAfterDelay(e,t,a){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const c=xg.createAndSchedule(this,e,t,a,(d=>this.hc(d)));return this.tc.push(c),c}uc(){this.nc&&rt(47125,{Pc:pE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,a)=>t.targetTimeMs-a.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function pE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(i){return(function(t,a){if(typeof t!="object"||t===null)return!1;const c=t;for(const d of a)if(d in c&&typeof c[d]=="function")return!0;return!1})(i,["next","error","complete"])}class xc extends Jf{constructor(e,t,a,c){super(e,t,a,c),this.type="firestore",this._queue=new mE,this._persistenceKey=c?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mE(e),this._firestoreClient=void 0,await e}}}function NR(i,e){const t=typeof i=="object"?i:d_(),a=typeof i=="string"?i:pf,c=X0(t,"firestore").getImmediate({identifier:a});if(!c._initialized){const d=GC("firestore");d&&IR(c,...d)}return c}function vg(i){if(i._terminated)throw new Fe(we.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||DR(i),i._firestoreClient}function DR(i){const e=i._freezeSettings(),t=(function(c,d,E,T){return new eb(c,d,E,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,Ex(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new TR(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(c){const d=c?._online.build();return{_offline:c?._offline.build(d),_online:d}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xi(Nr.fromBase64String(e))}catch(t){throw new Fe(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xi(Nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Dc(e,Xi._jsonSchema))return Xi.fromBase64String(e.bytes)}}Xi._jsonSchemaVersion="firestore/bytes/1.0",Xi._jsonSchema={type:ar("string",Xi._jsonSchemaVersion),bytes:ar("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Fe(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Dt(this._lat,e._lat)||Dt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ns._jsonSchemaVersion}}static fromJSON(e){if(Dc(e,Ns._jsonSchema))return new Ns(e.latitude,e.longitude)}}Ns._jsonSchemaVersion="firestore/geoPoint/1.0",Ns._jsonSchema={type:ar("string",Ns._jsonSchemaVersion),latitude:ar("number"),longitude:ar("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,c){if(a.length!==c.length)return!1;for(let d=0;d<a.length;++d)if(a[d]!==c[d])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ds._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Dc(e,Ds._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ds(e.vectorValues);throw new Fe(we.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ds._jsonSchemaVersion="firestore/vectorValue/1.0",Ds._jsonSchema={type:ar("string",Ds._jsonSchemaVersion),vectorValues:ar("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=/^__.*__$/;class Ax{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new Qo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function xx(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt(40011,{Ac:i})}}class bg{constructor(e,t,a,c,d,E){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=c,d===void 0&&this.Rc(),this.fieldTransforms=d||[],this.fieldMask=E||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new bg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),a=this.Vc({path:t,fc:!1});return a.gc(e),a}yc(e){const t=this.path?.child(e),a=this.Vc({path:t,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return vf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xx(this.Ac)&&OR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class MR{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||Qf(e)}Cc(e,t,a,c=!1){return new bg({Ac:e,methodName:t,Dc:a,path:Rr.emptyPath(),fc:!1,bc:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wx(i){const e=i._freezeSettings(),t=Qf(i._databaseId);return new MR(i._databaseId,!!e.ignoreUndefinedProperties,t)}class ed extends Ig{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ed}}function LR(i,e,t,a){const c=i.Cc(1,e,t);Cx("Data must be an object, but it was:",c,a);const d=[],E=bi.empty();Ao(a,((S,x)=>{const I=Rg(e,S,t);x=dr(x);const M=c.yc(I);if(x instanceof ed)d.push(I);else{const U=Bc(x,M);U!=null&&(d.push(I),E.set(I,U))}}));const T=new as(d);return new Ax(E,T,c.fieldTransforms)}function PR(i,e,t,a,c,d){const E=i.Cc(1,e,t),T=[EE(e,a,t)],S=[c];if(d.length%2!=0)throw new Fe(we.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let U=0;U<d.length;U+=2)T.push(EE(e,d[U])),S.push(d[U+1]);const x=[],I=bi.empty();for(let U=T.length-1;U>=0;--U)if(!UR(x,T[U])){const W=T[U];let ae=S[U];ae=dr(ae);const oe=E.yc(W);if(ae instanceof ed)x.push(W);else{const re=Bc(ae,oe);re!=null&&(x.push(W),I.set(W,re))}}const M=new as(x);return new Ax(I,M,E.fieldTransforms)}function BR(i,e,t,a=!1){return Bc(t,i.Cc(a?4:3,e))}function Bc(i,e){if(Tx(i=dr(i)))return Cx("Unsupported field value:",e,i),kR(i,e);if(i instanceof Ig)return(function(a,c){if(!xx(c.Ac))throw c.Sc(`${a._methodName}() can only be used with update() and set()`);if(!c.path)throw c.Sc(`${a._methodName}() is not currently supported inside arrays`);const d=a._toFieldTransform(c);d&&c.fieldTransforms.push(d)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,c){const d=[];let E=0;for(const T of a){let S=Bc(T,c.wc(E));S==null&&(S={nullValue:"NULL_VALUE"}),d.push(S),E++}return{arrayValue:{values:d}}})(i,e)}return(function(a,c){if((a=dr(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Tb(c.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const d=Cn.fromDate(a);return{timestampValue:wf(c.serializer,d)}}if(a instanceof Cn){const d=new Cn(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:wf(c.serializer,d)}}if(a instanceof Ns)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Xi)return{bytesValue:FA(c.serializer,a._byteString)};if(a instanceof Jn){const d=c.databaseId,E=a.firestore._databaseId;if(!E.isEqual(d))throw c.Sc(`Document reference is for database ${E.projectId}/${E.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:fg(a.firestore._databaseId||c.databaseId,a._key.path)}}if(a instanceof Ds)return(function(E,T){return{mapValue:{fields:{[gA]:{stringValue:mA},[yf]:{arrayValue:{values:E.toArray().map((x=>{if(typeof x!="number")throw T.Sc("VectorValues must only contain numeric values.");return ug(T.serializer,x)}))}}}}}})(a,c);throw c.Sc(`Unsupported field value: ${Vf(a)}`)})(i,e)}function kR(i,e){const t={};return lA(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(i,((a,c)=>{const d=Bc(c,e.mc(a));d!=null&&(t[a]=d)})),{mapValue:{fields:t}}}function Tx(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Cn||i instanceof Ns||i instanceof Xi||i instanceof Jn||i instanceof Ig||i instanceof Ds)}function Cx(i,e,t){if(!Tx(t)||!aA(t)){const a=Vf(t);throw a==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+a)}}function EE(i,e,t){if((e=dr(e))instanceof $f)return e._internalPath;if(typeof e=="string")return Rg(i,e);throw vf("Field path arguments must be of type string or ",i,!1,void 0,t)}const VR=new RegExp("[~\\*/\\[\\]]");function Rg(i,e,t){if(e.search(VR)>=0)throw vf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new $f(...e.split("."))._internalPath}catch{throw vf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function vf(i,e,t,a,c){const d=a&&!a.isEmpty(),E=c!==void 0;let T=`Function ${e}() called with invalid data`;t&&(T+=" (via `toFirestore()`)"),T+=". ";let S="";return(d||E)&&(S+=" (found",d&&(S+=` in field ${a}`),E&&(S+=` in document ${c}`),S+=")"),new Fe(we.INVALID_ARGUMENT,T+i+S)}function UR(i,e){return i.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,t,a,c,d){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=c,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ng("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class FR extends Sx{data(){return super.data()}}function Ng(i,e){return typeof e=="string"?Rg(i,e):e instanceof $f?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Fe(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dg{}class HR extends Dg{}function jR(i,e,...t){let a=[];e instanceof Dg&&a.push(e),a=a.concat(t),(function(d){const E=d.filter((S=>S instanceof Og)).length,T=d.filter((S=>S instanceof td)).length;if(E>1||E>0&&T>0)throw new Fe(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const c of a)i=c._apply(i);return i}class td extends HR{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new td(e,t,a)}_apply(e){const t=this._parse(e);return vx(e._query,t),new lu(e.firestore,e.converter,T0(e._query,t))}_parse(e){const t=wx(e.firestore);return(function(d,E,T,S,x,I,M){let U;if(x.isKeyField()){if(I==="array-contains"||I==="array-contains-any")throw new Fe(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if(I==="in"||I==="not-in"){xE(M,I);const ae=[];for(const oe of M)ae.push(AE(S,d,oe));U={arrayValue:{values:ae}}}else U=AE(S,d,M)}else I!=="in"&&I!=="not-in"&&I!=="array-contains-any"||xE(M,I),U=BR(T,E,M,I==="in"||I==="not-in");return sr.create(x,I,U)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function _E(i,e,t){const a=e,c=Ng("where",i);return td._create(c,a,t)}class Og extends Dg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Og(e,t)}_parse(e){const t=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return t.length===1?t[0]:us.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(c,d){let E=c;const T=d.getFlattenedFilters();for(const S of T)vx(E,S),E=T0(E,S)})(e._query,t),new lu(e.firestore,e.converter,T0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function AE(i,e,t){if(typeof(t=dr(t))=="string"){if(t==="")throw new Fe(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TA(e)&&t.indexOf("/")!==-1)throw new Fe(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(yn.fromString(t));if(!Je.isDocumentKey(a))throw new Fe(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Ly(i,new Je(a))}if(t instanceof Jn)return Ly(i,t._key);throw new Fe(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vf(t)}.`)}function xE(i,e){if(!Array.isArray(i)||i.length===0)throw new Fe(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vx(i,e){const t=(function(c,d){for(const E of c)for(const T of E.getFlattenedFilters())if(d.indexOf(T.op)>=0)return T.op;return null})(i.filters,(function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Fe(we.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Fe(we.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class GR{convertValue(e,t="none"){switch(go(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw rt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return Ao(e,((c,d)=>{a[c]=this.convertValue(d,t)})),a}convertVectorValue(e){const t=e.fields?.[yf].arrayValue?.values?.map((a=>Zn(a.doubleValue)));return new Ds(t)}convertGeoPoint(e){return new Ns(Zn(e.latitude),Zn(e.longitude))}convertArray(e,t){return(e.values||[]).map((a=>this.convertValue(a,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const a=zf(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(pc(e));default:return null}}convertTimestamp(e){const t=ho(e);return new Cn(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=yn.fromString(e);Zt(YA(a),9688,{name:e});const c=new yc(a.get(1),a.get(3)),d=new Je(a.popFirst(5));return c.isEqual(t)||ha(`Document ${d} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}class rc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zo extends Sx{constructor(e,t,a,c,d,E){super(e,t,a,c,E),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(Ng("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Fe(we.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=zo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}zo._jsonSchemaVersion="firestore/documentSnapshot/1.0",zo._jsonSchema={type:ar("string",zo._jsonSchemaVersion),bundleSource:ar("string","DocumentSnapshot"),bundleName:ar("string"),bundle:ar("string")};class rf extends zo{data(e={}){return super.data(e)}}class Hl{constructor(e,t,a,c){this._firestore=e,this._userDataWriter=t,this._snapshot=c,this.metadata=new rc(c.hasPendingWrites,c.fromCache),this.query=a}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((a=>{e.call(t,new rf(this._firestore,this._userDataWriter,a.key,a,new rc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(c,d){if(c._snapshot.oldDocs.isEmpty()){let E=0;return c._snapshot.docChanges.map((T=>{const S=new rf(c._firestore,c._userDataWriter,T.doc.key,T.doc,new rc(c._snapshot.mutatedKeys.has(T.doc.key),c._snapshot.fromCache),c.query.converter);return T.doc,{type:"added",doc:S,oldIndex:-1,newIndex:E++}}))}{let E=c._snapshot.oldDocs;return c._snapshot.docChanges.filter((T=>d||T.type!==3)).map((T=>{const S=new rf(c._firestore,c._userDataWriter,T.doc.key,T.doc,new rc(c._snapshot.mutatedKeys.has(T.doc.key),c._snapshot.fromCache),c.query.converter);let x=-1,I=-1;return T.type!==0&&(x=E.indexOf(T.doc.key),E=E.delete(T.doc.key)),T.type!==1&&(E=E.add(T.doc),I=E.indexOf(T.doc.key)),{type:qR(T.type),doc:S,oldIndex:x,newIndex:I}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Fe(we.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Hl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],a=[],c=[];return this.docs.forEach((d=>{d._document!==null&&(t.push(d._document),a.push(this._userDataWriter.convertObjectMap(d._document.data.value.mapValue.fields,"previous")),c.push(d.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qR(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(i){i=lo(i,Jn);const e=lo(i.firestore,xc);return vR(vg(e),i._key).then((t=>bx(e,i,t)))}Hl._jsonSchemaVersion="firestore/querySnapshot/1.0",Hl._jsonSchema={type:ar("string",Hl._jsonSchemaVersion),bundleSource:ar("string","QuerySnapshot"),bundleName:ar("string"),bundle:ar("string")};class Ix extends GR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}function XR(i,e,t,...a){i=lo(i,Jn);const c=lo(i.firestore,xc),d=wx(c);let E;return E=typeof(e=dr(e))=="string"||e instanceof $f?PR(d,"updateDoc",i._key,e,t,a):LR(d,"updateDoc",i._key,e),QR(c,[E.toMutation(i._key,oa.exists(!0))])}function WR(i,...e){i=dr(i);let t={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||yE(e[a])||(t=e[a++]);const c={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(yE(e[a])){const S=e[a];e[a]=S.next?.bind(S),e[a+1]=S.error?.bind(S),e[a+2]=S.complete?.bind(S)}let d,E,T;if(i instanceof Jn)E=lo(i.firestore,xc),T=Hf(i._key.path),d={next:S=>{e[a]&&e[a](bx(E,i,S))},error:e[a+1],complete:e[a+2]};else{const S=lo(i,lu);E=lo(S.firestore,xc),T=S._query;const x=new Ix(E);d={next:I=>{e[a]&&e[a](new Hl(E,x,S,I))},error:e[a+1],complete:e[a+2]},zR(i._query)}return(function(x,I,M,U){const W=new px(U),ae=new ox(I,W,M);return x.asyncQueue.enqueueAndForget((async()=>sx(await L0(x),ae))),()=>{W.Nu(),x.asyncQueue.enqueueAndForget((async()=>ax(await L0(x),ae)))}})(vg(E),T,c,d)}function QR(i,e){return(function(a,c){const d=new oo;return a.asyncQueue.enqueueAndForget((async()=>gR(await SR(a),c,d))),d.promise})(vg(i),e)}function bx(i,e,t){const a=t.docs.get(e._key),c=new Ix(i);return new zo(i,c,e._key,a,new rc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(c){iu=c})(tu),jl(new jo("firestore",((a,{instanceIdentifier:c,options:d})=>{const E=a.getProvider("app").getImmediate(),T=new xc(new P3(a.getProvider("auth-internal")),new V3(E,a.getProvider("app-check-internal")),(function(x,I){if(!Object.prototype.hasOwnProperty.apply(x.options,["projectId"]))throw new Fe(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yc(x.options.projectId,I)})(E,c),E);return d={useFetchStreams:t,...d},T._setSettings(d),T}),"PUBLIC").setMultipleInstances(!0)),io(xy,wy,e),io(xy,wy,"esm2020")})();const KR={apiKey:"AIzaSyD6o80DU9YRW8fY0TX15Y1jdyDIJ7SYoZ8",authDomain:"ssn-canten.firebaseapp.com",projectId:"ssn-canten",storageBucket:"ssn-canten.firebasestorage.app",messagingSenderId:"418378403645",appId:"1:418378403645:web:bf90b65fa70fb2febeff54"},Rx=f_(KR),wc=D3(Rx),wE=NR(Rx);var Nx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},TE=to.createContext&&to.createContext(Nx),ZR=["attr","size","title"];function JR(i,e){if(i==null)return{};var t=$R(i,e),a,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(i);for(c=0;c<d.length;c++)a=d[c],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(t[a]=i[a])}return t}function $R(i,e){if(i==null)return{};var t={};for(var a in i)if(Object.prototype.hasOwnProperty.call(i,a)){if(e.indexOf(a)>=0)continue;t[a]=i[a]}return t}function If(){return If=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(i[a]=t[a])}return i},If.apply(this,arguments)}function CE(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);e&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),t.push.apply(t,a)}return t}function bf(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CE(Object(t),!0).forEach(function(a){e8(i,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):CE(Object(t)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(t,a))})}return i}function e8(i,e,t){return e=t8(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function t8(i){var e=n8(i,"string");return typeof e=="symbol"?e:e+""}function n8(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var a=t.call(i,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function Dx(i){return i&&i.map((e,t)=>to.createElement(e.tag,bf({key:t},e.attr),Dx(e.child)))}function nd(i){return e=>to.createElement(r8,If({attr:bf({},i.attr)},e),Dx(i.child))}function r8(i){var e=t=>{var{attr:a,size:c,title:d}=i,E=JR(i,ZR),T=c||t.size||"1em",S;return t.className&&(S=t.className),i.className&&(S=(S?S+" ":"")+i.className),to.createElement("svg",If({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,E,{className:S,style:bf(bf({color:i.color||t.color},t.style),i.style),height:T,width:T,xmlns:"http://www.w3.org/2000/svg"}),d&&to.createElement("title",null,d),i.children)};return TE!==void 0?to.createElement(TE.Consumer,null,t=>e(t)):e(Nx)}function i8(i){return nd({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(i)}function s8(i){return nd({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(i)}function a8(i){return nd({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(i)}function o8(i){return nd({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(i)}const l8=()=>{const{setCart:i}=ye.useContext(t_),[e,t]=ye.useState(null),a=Cc();ye.useEffect(()=>{const E=U_(wc,T=>{t(T)});return()=>E()},[]);const c=async()=>{await F_(wc),i([]),a("/login")},d=()=>{a("/")};return je.jsx("header",{className:"bg-white/80 backdrop-blur-md shadow-sm sticky top-0 z-50 border-b border-slate-200",children:je.jsxs("nav",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[je.jsx("div",{className:"text-2xl font-extrabold text-blue-600 cursor-pointer",onClick:d,children:"SSN Eats"}),je.jsx("div",{children:e?je.jsxs("div",{className:"flex items-center gap-5",children:[je.jsxs(af,{to:"/history",className:"flex items-center gap-2 text-slate-700 hover:text-blue-600 font-semibold transition-colors duration-300",children:[je.jsx(a8,{}),je.jsx("span",{children:"My Orders"})]}),je.jsxs("button",{onClick:c,className:"flex items-center gap-2 bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300",children:[je.jsx(o8,{}),je.jsx("span",{children:"Logout"})]})]}):je.jsx(af,{to:"/login",className:"text-slate-700 hover:text-blue-600 font-semibold transition-colors duration-300",children:"Login"})})]})})},u8=({children:i})=>{const[e,t]=ye.useState(null),[a,c]=ye.useState(!0);return ye.useEffect(()=>{const d=U_(wc,E=>{t(E),c(!1)});return()=>d()},[]),a?je.jsx("div",{className:"text-center p-10",children:"Loading..."}):e?i:je.jsx(eC,{to:"/login"})},c8=()=>{const[i,e]=ye.useState(""),[t,a]=ye.useState(""),[c,d]=ye.useState(""),E=Cc(),T="TOkH0DObOMSme70E6ZVWVFvztP83",S=async x=>{x.preventDefault(),d("");try{(await EI(wc,i,t)).user.uid===T?E("/"):(d("Access Denied. You are not an authorized owner."),await F_(wc))}catch(I){d("Failed to login. Please check your credentials."),console.error(I)}};return je.jsxs("div",{className:"max-w-md mx-auto mt-10 bg-white p-8 rounded-xl shadow-lg",children:[je.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Canteen Owner Login"}),je.jsxs("form",{onSubmit:S,children:[je.jsxs("div",{className:"mb-4",children:[je.jsx("label",{className:"block text-gray-700 mb-2",children:"Email"}),je.jsx("input",{type:"email",value:i,onChange:x=>e(x.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,placeholder:"owner@ssn.com"})]}),je.jsxs("div",{className:"mb-6",children:[je.jsx("label",{className:"block text-gray-700 mb-2",children:"Password"}),je.jsx("input",{type:"password",value:t,onChange:x=>a(x.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,placeholder:"••••••••"})]}),c&&je.jsx("p",{className:"text-red-500 text-sm mb-4 text-center",children:c}),je.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition duration-300 font-semibold",children:"Login"})]})]})};var He;(function(i){i[i.QR_CODE=0]="QR_CODE",i[i.AZTEC=1]="AZTEC",i[i.CODABAR=2]="CODABAR",i[i.CODE_39=3]="CODE_39",i[i.CODE_93=4]="CODE_93",i[i.CODE_128=5]="CODE_128",i[i.DATA_MATRIX=6]="DATA_MATRIX",i[i.MAXICODE=7]="MAXICODE",i[i.ITF=8]="ITF",i[i.EAN_13=9]="EAN_13",i[i.EAN_8=10]="EAN_8",i[i.PDF_417=11]="PDF_417",i[i.RSS_14=12]="RSS_14",i[i.RSS_EXPANDED=13]="RSS_EXPANDED",i[i.UPC_A=14]="UPC_A",i[i.UPC_E=15]="UPC_E",i[i.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(He||(He={}));var SE=new Map([[He.QR_CODE,"QR_CODE"],[He.AZTEC,"AZTEC"],[He.CODABAR,"CODABAR"],[He.CODE_39,"CODE_39"],[He.CODE_93,"CODE_93"],[He.CODE_128,"CODE_128"],[He.DATA_MATRIX,"DATA_MATRIX"],[He.MAXICODE,"MAXICODE"],[He.ITF,"ITF"],[He.EAN_13,"EAN_13"],[He.EAN_8,"EAN_8"],[He.PDF_417,"PDF_417"],[He.RSS_14,"RSS_14"],[He.RSS_EXPANDED,"RSS_EXPANDED"],[He.UPC_A,"UPC_A"],[He.UPC_E,"UPC_E"],[He.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),vE;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.URL=1]="URL"})(vE||(vE={}));function h8(i){return Object.values(He).includes(i)}var yo;(function(i){i[i.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",i[i.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(yo||(yo={}));var rs=(function(){function i(){}return i.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",i.SCAN_DEFAULT_FPS=2,i.DEFAULT_DISABLE_FLIP=!1,i.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,i.DEFAULT_SUPPORTED_SCAN_TYPE=[yo.SCAN_TYPE_CAMERA,yo.SCAN_TYPE_FILE],i})(),Ox=(function(){function i(e,t){this.format=e,this.formatName=t}return i.prototype.toString=function(){return this.formatName},i.create=function(e){if(!SE.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new i(e,SE.get(e))},i})(),IE=(function(){function i(){}return i.createFromText=function(e){var t={text:e};return{decodedText:e,result:t}},i.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},i})(),P0;(function(i){i[i.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",i[i.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",i[i.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(P0||(P0={}));var Mx=(function(){function i(){}return i.createFrom=function(e){return{errorMessage:e,type:P0.UNKWOWN_ERROR}},i})(),Lx=(function(){function i(e){this.verbose=e}return i.prototype.log=function(e){this.verbose&&console.log(e)},i.prototype.warn=function(e){this.verbose&&console.warn(e)},i.prototype.logError=function(e,t){(this.verbose||t===!0)&&console.error(e)},i.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},i})();function Cs(i){return typeof i>"u"||i===null}function f8(i,e,t){return i>t?t:i<e?e:i}var kl=(function(){function i(){}return i.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},i.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},i.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},i.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},i.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},i.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},i.scannerPaused=function(){return"Scanner paused"},i})(),nn=(function(){function i(){}return i.scanningStatus=function(){return"Scanning"},i.idleStatus=function(){return"Idle"},i.errorStatus=function(){return"Error"},i.permissionStatus=function(){return"Permission"},i.noCameraFoundErrorStatus=function(){return"No Cameras"},i.lastMatch=function(e){return"Last Match: ".concat(e)},i.codeScannerTitle=function(){return"Code Scanner"},i.cameraPermissionTitle=function(){return"Request Camera Permissions"},i.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},i.noCameraFound=function(){return"No camera found"},i.scanButtonStopScanningText=function(){return"Stop Scanning"},i.scanButtonStartScanningText=function(){return"Start Scanning"},i.torchOnButton=function(){return"Switch On Torch"},i.torchOffButton=function(){return"Switch Off Torch"},i.torchOnFailedMessage=function(){return"Failed to turn on torch"},i.torchOffFailedMessage=function(){return"Failed to turn off torch"},i.scanButtonScanningStarting=function(){return"Launching Camera..."},i.textIfCameraScanSelected=function(){return"Scan an Image File"},i.textIfFileScanSelected=function(){return"Scan using camera directly"},i.selectCamera=function(){return"Select Camera"},i.fileSelectionChooseImage=function(){return"Choose Image"},i.fileSelectionChooseAnother=function(){return"Choose Another"},i.fileSelectionNoImageSelected=function(){return"No image choosen"},i.anonymousCameraPrefix=function(){return"Anonymous Camera"},i.dragAndDropMessage=function(){return"Or drop an image to scan"},i.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},i.zoom=function(){return"zoom"},i.loadingImage=function(){return"Loading image..."},i.cameraScanAltText=function(){return"Camera based scan"},i.fileScanAltText=function(){return"Fule based scan"},i})(),bE=(function(){function i(){}return i.poweredBy=function(){return"Powered by "},i.reportIssues=function(){return"Report issues"},i})(),Px=(function(){function i(){}return i.isMediaStreamConstraintsValid=function(e,t){if(typeof e!="object"){var a=typeof e;return t.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var c=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],d=new Set(c),E=Object.keys(e),T=0,S=E;T<S.length;T++){var x=S[T];if(d.has(x))return t.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},i})(),ic={exports:{}},d8=ic.exports,RE;function g8(){return RE||(RE=1,(function(i,e){(function(t,a){a(e)})(d8,(function(t){function a(D){return D==null}var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,r){D.__proto__=r}||function(D,r){for(var o in r)r.hasOwnProperty(o)&&(D[o]=r[o])};function d(D,r){c(D,r);function o(){this.constructor=D}D.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}function E(D,r){var o=Object.setPrototypeOf;o?o(D,r):D.__proto__=r}function T(D,r){r===void 0&&(r=D.constructor);var o=Error.captureStackTrace;o&&o(D,r)}var S=(function(D){d(r,D);function r(o){var l=this.constructor,h=D.call(this,o)||this;return Object.defineProperty(h,"name",{value:l.name,enumerable:!1}),E(h,l.prototype),T(h),h}return r})(Error);class x extends S{constructor(r=void 0){super(r),this.message=r}getKind(){return this.constructor.kind}}x.kind="Exception";class I extends x{}I.kind="ArgumentException";class M extends x{}M.kind="IllegalArgumentException";class U{constructor(r){if(this.binarizer=r,r===null)throw new M("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(r,o){return this.binarizer.getBlackRow(r,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(r,o,l,h){const f=this.binarizer.getLuminanceSource().crop(r,o,l,h);return new U(this.binarizer.createBinarizer(f))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new U(this.binarizer.createBinarizer(r))}rotateCounterClockwise45(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new U(this.binarizer.createBinarizer(r))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class W extends x{static getChecksumInstance(){return new W}}W.kind="ChecksumException";class ae{constructor(r){this.source=r}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class oe{static arraycopy(r,o,l,h,f){for(;f--;)l[h++]=r[o++]}static currentTimeMillis(){return Date.now()}}class re extends x{}re.kind="IndexOutOfBoundsException";class ve extends re{constructor(r=void 0,o=void 0){super(o),this.index=r,this.message=o}}ve.kind="ArrayIndexOutOfBoundsException";class me{static fill(r,o){for(let l=0,h=r.length;l<h;l++)r[l]=o}static fillWithin(r,o,l,h){me.rangeCheck(r.length,o,l);for(let f=o;f<l;f++)r[f]=h}static rangeCheck(r,o,l){if(o>l)throw new M("fromIndex("+o+") > toIndex("+l+")");if(o<0)throw new ve(o);if(l>r)throw new ve(l)}static asList(...r){return r}static create(r,o,l){return Array.from({length:r}).map(f=>Array.from({length:o}).fill(l))}static createInt32Array(r,o,l){return Array.from({length:r}).map(f=>Int32Array.from({length:o}).fill(l))}static equals(r,o){if(!r||!o||!r.length||!o.length||r.length!==o.length)return!1;for(let l=0,h=r.length;l<h;l++)if(r[l]!==o[l])return!1;return!0}static hashCode(r){if(r===null)return 0;let o=1;for(const l of r)o=31*o+l;return o}static fillUint8Array(r,o){for(let l=0;l!==r.length;l++)r[l]=o}static copyOf(r,o){return r.slice(0,o)}static copyOfUint8Array(r,o){if(r.length<=o){const l=new Uint8Array(o);return l.set(r),l}return r.slice(0,o)}static copyOfRange(r,o,l){const h=l-o,f=new Int32Array(h);return oe.arraycopy(r,o,f,0,h),f}static binarySearch(r,o,l){l===void 0&&(l=me.numberComparator);let h=0,f=r.length-1;for(;h<=f;){const m=f+h>>1,p=l(o,r[m]);if(p>0)h=m+1;else if(p<0)f=m-1;else return m}return-h-1}static numberComparator(r,o){return r-o}}class pe{static numberOfTrailingZeros(r){let o;if(r===0)return 32;let l=31;return o=r<<16,o!==0&&(l-=16,r=o),o=r<<8,o!==0&&(l-=8,r=o),o=r<<4,o!==0&&(l-=4,r=o),o=r<<2,o!==0&&(l-=2,r=o),l-(r<<1>>>31)}static numberOfLeadingZeros(r){if(r===0)return 32;let o=1;return r>>>16||(o+=16,r<<=16),r>>>24||(o+=8,r<<=8),r>>>28||(o+=4,r<<=4),r>>>30||(o+=2,r<<=2),o-=r>>>31,o}static toHexString(r){return r.toString(16)}static toBinaryString(r){return String(parseInt(String(r),2))}static bitCount(r){return r=r-(r>>>1&1431655765),r=(r&858993459)+(r>>>2&858993459),r=r+(r>>>4)&252645135,r=r+(r>>>8),r=r+(r>>>16),r&63}static truncDivision(r,o){return Math.trunc(r/o)}static parseInt(r,o=void 0){return parseInt(r,o)}}pe.MIN_VALUE_32_BITS=-2147483648,pe.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Be{constructor(r,o){r===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=r,o==null?this.bits=Be.makeArray(r):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(r){if(r>this.bits.length*32){const o=Be.makeArray(r);oe.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(r){return(this.bits[Math.floor(r/32)]&1<<(r&31))!==0}set(r){this.bits[Math.floor(r/32)]|=1<<(r&31)}flip(r){this.bits[Math.floor(r/32)]^=1<<(r&31)}getNextSet(r){const o=this.size;if(r>=o)return o;const l=this.bits;let h=Math.floor(r/32),f=l[h];f&=~((1<<(r&31))-1);const m=l.length;for(;f===0;){if(++h===m)return o;f=l[h]}const p=h*32+pe.numberOfTrailingZeros(f);return p>o?o:p}getNextUnset(r){const o=this.size;if(r>=o)return o;const l=this.bits;let h=Math.floor(r/32),f=~l[h];f&=~((1<<(r&31))-1);const m=l.length;for(;f===0;){if(++h===m)return o;f=~l[h]}const p=h*32+pe.numberOfTrailingZeros(f);return p>o?o:p}setBulk(r,o){this.bits[Math.floor(r/32)]=o}setRange(r,o){if(o<r||r<0||o>this.size)throw new M;if(o===r)return;o--;const l=Math.floor(r/32),h=Math.floor(o/32),f=this.bits;for(let m=l;m<=h;m++){const p=m>l?0:r&31,C=(2<<(m<h?31:o&31))-(1<<p);f[m]|=C}}clear(){const r=this.bits.length,o=this.bits;for(let l=0;l<r;l++)o[l]=0}isRange(r,o,l){if(o<r||r<0||o>this.size)throw new M;if(o===r)return!0;o--;const h=Math.floor(r/32),f=Math.floor(o/32),m=this.bits;for(let p=h;p<=f;p++){const A=p>h?0:r&31,b=(2<<(p<f?31:o&31))-(1<<A)&4294967295;if((m[p]&b)!==(l?b:0))return!1}return!0}appendBit(r){this.ensureCapacity(this.size+1),r&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(r,o){if(o<0||o>32)throw new M("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let l=o;l>0;l--)this.appendBit((r>>l-1&1)===1)}appendBitArray(r){const o=r.size;this.ensureCapacity(this.size+o);for(let l=0;l<o;l++)this.appendBit(r.get(l))}xor(r){if(this.size!==r.size)throw new M("Sizes don't match");const o=this.bits;for(let l=0,h=o.length;l<h;l++)o[l]^=r.bits[l]}toBytes(r,o,l,h){for(let f=0;f<h;f++){let m=0;for(let p=0;p<8;p++)this.get(r)&&(m|=1<<7-p),r++;o[l+f]=m}}getBitArray(){return this.bits}reverse(){const r=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),l=o+1,h=this.bits;for(let f=0;f<l;f++){let m=h[f];m=m>>1&1431655765|(m&1431655765)<<1,m=m>>2&858993459|(m&858993459)<<2,m=m>>4&252645135|(m&252645135)<<4,m=m>>8&16711935|(m&16711935)<<8,m=m>>16&65535|(m&65535)<<16,r[o-f]=m}if(this.size!==l*32){const f=l*32-this.size;let m=r[0]>>>f;for(let p=1;p<l;p++){const A=r[p];m|=A<<32-f,r[p-1]=m,m=A>>>f}r[l-1]=m}this.bits=r}static makeArray(r){return new Int32Array(Math.floor((r+31)/32))}equals(r){if(!(r instanceof Be))return!1;const o=r;return this.size===o.size&&me.equals(this.bits,o.bits)}hashCode(){return 31*this.size+me.hashCode(this.bits)}toString(){let r="";for(let o=0,l=this.size;o<l;o++)(o&7)===0&&(r+=" "),r+=this.get(o)?"X":".";return r}clone(){return new Be(this.size,this.bits.slice())}}var Ge;(function(D){D[D.OTHER=0]="OTHER",D[D.PURE_BARCODE=1]="PURE_BARCODE",D[D.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",D[D.TRY_HARDER=3]="TRY_HARDER",D[D.CHARACTER_SET=4]="CHARACTER_SET",D[D.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",D[D.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",D[D.ASSUME_GS1=7]="ASSUME_GS1",D[D.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",D[D.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",D[D.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Ge||(Ge={}));var qe=Ge;class H extends x{static getFormatInstance(){return new H}}H.kind="FormatException";var z;(function(D){D[D.Cp437=0]="Cp437",D[D.ISO8859_1=1]="ISO8859_1",D[D.ISO8859_2=2]="ISO8859_2",D[D.ISO8859_3=3]="ISO8859_3",D[D.ISO8859_4=4]="ISO8859_4",D[D.ISO8859_5=5]="ISO8859_5",D[D.ISO8859_6=6]="ISO8859_6",D[D.ISO8859_7=7]="ISO8859_7",D[D.ISO8859_8=8]="ISO8859_8",D[D.ISO8859_9=9]="ISO8859_9",D[D.ISO8859_10=10]="ISO8859_10",D[D.ISO8859_11=11]="ISO8859_11",D[D.ISO8859_13=12]="ISO8859_13",D[D.ISO8859_14=13]="ISO8859_14",D[D.ISO8859_15=14]="ISO8859_15",D[D.ISO8859_16=15]="ISO8859_16",D[D.SJIS=16]="SJIS",D[D.Cp1250=17]="Cp1250",D[D.Cp1251=18]="Cp1251",D[D.Cp1252=19]="Cp1252",D[D.Cp1256=20]="Cp1256",D[D.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",D[D.UTF8=22]="UTF8",D[D.ASCII=23]="ASCII",D[D.Big5=24]="Big5",D[D.GB18030=25]="GB18030",D[D.EUC_KR=26]="EUC_KR"})(z||(z={}));class k{constructor(r,o,l,...h){this.valueIdentifier=r,this.name=l,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=h,k.VALUE_IDENTIFIER_TO_ECI.set(r,this),k.NAME_TO_ECI.set(l,this);const f=this.values;for(let m=0,p=f.length;m!==p;m++){const A=f[m];k.VALUES_TO_ECI.set(A,this)}for(const m of h)k.NAME_TO_ECI.set(m,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(r){if(r<0||r>=900)throw new H("incorect value");const o=k.VALUES_TO_ECI.get(r);if(o===void 0)throw new H("incorect value");return o}static getCharacterSetECIByName(r){const o=k.NAME_TO_ECI.get(r);if(o===void 0)throw new H("incorect value");return o}equals(r){if(!(r instanceof k))return!1;const o=r;return this.getName()===o.getName()}}k.VALUE_IDENTIFIER_TO_ECI=new Map,k.VALUES_TO_ECI=new Map,k.NAME_TO_ECI=new Map,k.Cp437=new k(z.Cp437,Int32Array.from([0,2]),"Cp437"),k.ISO8859_1=new k(z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),k.ISO8859_2=new k(z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),k.ISO8859_3=new k(z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),k.ISO8859_4=new k(z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),k.ISO8859_5=new k(z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),k.ISO8859_6=new k(z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),k.ISO8859_7=new k(z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),k.ISO8859_8=new k(z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),k.ISO8859_9=new k(z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),k.ISO8859_10=new k(z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),k.ISO8859_11=new k(z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),k.ISO8859_13=new k(z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),k.ISO8859_14=new k(z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),k.ISO8859_15=new k(z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),k.ISO8859_16=new k(z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),k.SJIS=new k(z.SJIS,20,"SJIS","Shift_JIS"),k.Cp1250=new k(z.Cp1250,21,"Cp1250","windows-1250"),k.Cp1251=new k(z.Cp1251,22,"Cp1251","windows-1251"),k.Cp1252=new k(z.Cp1252,23,"Cp1252","windows-1252"),k.Cp1256=new k(z.Cp1256,24,"Cp1256","windows-1256"),k.UnicodeBigUnmarked=new k(z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),k.UTF8=new k(z.UTF8,26,"UTF8","UTF-8"),k.ASCII=new k(z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),k.Big5=new k(z.Big5,28,"Big5"),k.GB18030=new k(z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),k.EUC_KR=new k(z.EUC_KR,30,"EUC_KR","EUC-KR");class Z extends x{}Z.kind="UnsupportedOperationException";class K{static decode(r,o){const l=this.encodingName(o);return this.customDecoder?this.customDecoder(r,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(r,l):new TextDecoder(l).decode(r)}static shouldDecodeOnFallback(r){return!K.isBrowser()&&r==="ISO-8859-1"}static encode(r,o){const l=this.encodingName(o);return this.customEncoder?this.customEncoder(r,l):typeof TextEncoder>"u"?this.encodeFallback(r):new TextEncoder().encode(r)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(r){return typeof r=="string"?r:r.getName()}static encodingCharacterSet(r){return r instanceof k?r:k.getCharacterSetECIByName(r)}static decodeFallback(r,o){const l=this.encodingCharacterSet(o);if(K.isDecodeFallbackSupported(l)){let h="";for(let f=0,m=r.length;f<m;f++){let p=r[f].toString(16);p.length<2&&(p="0"+p),h+="%"+p}return decodeURIComponent(h)}if(l.equals(k.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(r.buffer));throw new Z(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(r){return r.equals(k.UTF8)||r.equals(k.ISO8859_1)||r.equals(k.ASCII)}static encodeFallback(r){const l=btoa(unescape(encodeURIComponent(r))).split(""),h=[];for(let f=0;f<l.length;f++)h.push(l[f].charCodeAt(0));return new Uint8Array(h)}}class q{static castAsNonUtf8Char(r,o=null){const l=o?o.getName():this.ISO88591;return K.decode(new Uint8Array([r]),l)}static guessEncoding(r,o){if(o!=null&&o.get(qe.CHARACTER_SET)!==void 0)return o.get(qe.CHARACTER_SET).toString();const l=r.length;let h=!0,f=!0,m=!0,p=0,A=0,C=0,b=0,O=0,L=0,F=0,Y=0,Q=0,ne=0,ue=0;const be=r.length>3&&r[0]===239&&r[1]===187&&r[2]===191;for(let De=0;De<l&&(h||f||m);De++){const Ie=r[De]&255;m&&(p>0?(Ie&128)===0?m=!1:p--:(Ie&128)!==0&&((Ie&64)===0?m=!1:(p++,(Ie&32)===0?A++:(p++,(Ie&16)===0?C++:(p++,(Ie&8)===0?b++:m=!1))))),h&&(Ie>127&&Ie<160?h=!1:Ie>159&&(Ie<192||Ie===215||Ie===247)&&ue++),f&&(O>0?Ie<64||Ie===127||Ie>252?f=!1:O--:Ie===128||Ie===160||Ie>239?f=!1:Ie>160&&Ie<224?(L++,Y=0,F++,F>Q&&(Q=F)):Ie>127?(O++,F=0,Y++,Y>ne&&(ne=Y)):(F=0,Y=0))}return m&&p>0&&(m=!1),f&&O>0&&(f=!1),m&&(be||A+C+b>0)?q.UTF8:f&&(q.ASSUME_SHIFT_JIS||Q>=3||ne>=3)?q.SHIFT_JIS:h&&f?Q===2&&L===2||ue*10>=l?q.SHIFT_JIS:q.ISO88591:h?q.ISO88591:f?q.SHIFT_JIS:m?q.UTF8:q.PLATFORM_DEFAULT_ENCODING}static format(r,...o){let l=-1;function h(m,p,A,C,b,O){if(m==="%%")return"%";if(o[++l]===void 0)return;m=C?parseInt(C.substr(1)):void 0;let L=b?parseInt(b.substr(1)):void 0,F;switch(O){case"s":F=o[l];break;case"c":F=o[l][0];break;case"f":F=parseFloat(o[l]).toFixed(m);break;case"p":F=parseFloat(o[l]).toPrecision(m);break;case"e":F=parseFloat(o[l]).toExponential(m);break;case"x":F=parseInt(o[l]).toString(L||16);break;case"d":F=parseFloat(parseInt(o[l],L||10).toPrecision(m)).toFixed(0);break}F=typeof F=="object"?JSON.stringify(F):(+F).toString(L);let Y=parseInt(A),Q=A&&A[0]+""=="0"?"0":" ";for(;F.length<Y;)F=p!==void 0?F+Q:Q+F;return F}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(f,h)}static getBytes(r,o){return K.encode(r,o)}static getCharCode(r,o=0){return r.charCodeAt(o)}static getCharAt(r){return String.fromCharCode(r)}}q.SHIFT_JIS=k.SJIS.getName(),q.GB2312="GB2312",q.ISO88591=k.ISO8859_1.getName(),q.EUC_JP="EUC_JP",q.UTF8=k.UTF8.getName(),q.PLATFORM_DEFAULT_ENCODING=q.UTF8,q.ASSUME_SHIFT_JIS=!1;class j{constructor(r=""){this.value=r}enableDecoding(r){return this.encoding=r,this}append(r){return typeof r=="string"?this.value+=r.toString():this.encoding?this.value+=q.castAsNonUtf8Char(r,this.encoding):this.value+=String.fromCharCode(r),this}appendChars(r,o,l){for(let h=o;o<o+l;h++)this.append(r[h]);return this}length(){return this.value.length}charAt(r){return this.value.charAt(r)}deleteCharAt(r){this.value=this.value.substr(0,r)+this.value.substring(r+1)}setCharAt(r,o){this.value=this.value.substr(0,r)+o+this.value.substr(r+1)}substring(r,o){return this.value.substring(r,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(r,o){this.value=this.value.substr(0,r)+o+this.value.substr(r+o.length)}}class vt{constructor(r,o,l,h){if(this.width=r,this.height=o,this.rowSize=l,this.bits=h,o==null&&(o=r),this.height=o,r<1||o<1)throw new M("Both dimensions must be greater than 0");l==null&&(l=Math.floor((r+31)/32)),this.rowSize=l,h==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(r){const o=r.length,l=r[0].length,h=new vt(l,o);for(let f=0;f<o;f++){const m=r[f];for(let p=0;p<l;p++)m[p]&&h.set(p,f)}return h}static parseFromString(r,o,l){if(r===null)throw new M("stringRepresentation cannot be null");const h=new Array(r.length);let f=0,m=0,p=-1,A=0,C=0;for(;C<r.length;)if(r.charAt(C)===`
`||r.charAt(C)==="\r"){if(f>m){if(p===-1)p=f-m;else if(f-m!==p)throw new M("row lengths do not match");m=f,A++}C++}else if(r.substring(C,C+o.length)===o)C+=o.length,h[f]=!0,f++;else if(r.substring(C,C+l.length)===l)C+=l.length,h[f]=!1,f++;else throw new M("illegal character encountered: "+r.substring(C));if(f>m){if(p===-1)p=f-m;else if(f-m!==p)throw new M("row lengths do not match");A++}const b=new vt(p,A);for(let O=0;O<f;O++)h[O]&&b.set(Math.floor(O%p),Math.floor(O/p));return b}get(r,o){const l=o*this.rowSize+Math.floor(r/32);return(this.bits[l]>>>(r&31)&1)!==0}set(r,o){const l=o*this.rowSize+Math.floor(r/32);this.bits[l]|=1<<(r&31)&4294967295}unset(r,o){const l=o*this.rowSize+Math.floor(r/32);this.bits[l]&=~(1<<(r&31)&4294967295)}flip(r,o){const l=o*this.rowSize+Math.floor(r/32);this.bits[l]^=1<<(r&31)&4294967295}xor(r){if(this.width!==r.getWidth()||this.height!==r.getHeight()||this.rowSize!==r.getRowSize())throw new M("input matrix dimensions do not match");const o=new Be(Math.floor(this.width/32)+1),l=this.rowSize,h=this.bits;for(let f=0,m=this.height;f<m;f++){const p=f*l,A=r.getRow(f,o).getBitArray();for(let C=0;C<l;C++)h[p+C]^=A[C]}}clear(){const r=this.bits,o=r.length;for(let l=0;l<o;l++)r[l]=0}setRegion(r,o,l,h){if(o<0||r<0)throw new M("Left and top must be nonnegative");if(h<1||l<1)throw new M("Height and width must be at least 1");const f=r+l,m=o+h;if(m>this.height||f>this.width)throw new M("The region must fit inside the matrix");const p=this.rowSize,A=this.bits;for(let C=o;C<m;C++){const b=C*p;for(let O=r;O<f;O++)A[b+Math.floor(O/32)]|=1<<(O&31)&4294967295}}getRow(r,o){o==null||o.getSize()<this.width?o=new Be(this.width):o.clear();const l=this.rowSize,h=this.bits,f=r*l;for(let m=0;m<l;m++)o.setBulk(m*32,h[f+m]);return o}setRow(r,o){oe.arraycopy(o.getBitArray(),0,this.bits,r*this.rowSize,this.rowSize)}rotate180(){const r=this.getWidth(),o=this.getHeight();let l=new Be(r),h=new Be(r);for(let f=0,m=Math.floor((o+1)/2);f<m;f++)l=this.getRow(f,l),h=this.getRow(o-1-f,h),l.reverse(),h.reverse(),this.setRow(f,h),this.setRow(o-1-f,l)}getEnclosingRectangle(){const r=this.width,o=this.height,l=this.rowSize,h=this.bits;let f=r,m=o,p=-1,A=-1;for(let C=0;C<o;C++)for(let b=0;b<l;b++){const O=h[C*l+b];if(O!==0){if(C<m&&(m=C),C>A&&(A=C),b*32<f){let L=0;for(;(O<<31-L&4294967295)===0;)L++;b*32+L<f&&(f=b*32+L)}if(b*32+31>p){let L=31;for(;!(O>>>L);)L--;b*32+L>p&&(p=b*32+L)}}}return p<f||A<m?null:Int32Array.from([f,m,p-f+1,A-m+1])}getTopLeftOnBit(){const r=this.rowSize,o=this.bits;let l=0;for(;l<o.length&&o[l]===0;)l++;if(l===o.length)return null;const h=l/r;let f=l%r*32;const m=o[l];let p=0;for(;(m<<31-p&4294967295)===0;)p++;return f+=p,Int32Array.from([f,h])}getBottomRightOnBit(){const r=this.rowSize,o=this.bits;let l=o.length-1;for(;l>=0&&o[l]===0;)l--;if(l<0)return null;const h=Math.floor(l/r);let f=Math.floor(l%r)*32;const m=o[l];let p=31;for(;!(m>>>p);)p--;return f+=p,Int32Array.from([f,h])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(r){if(!(r instanceof vt))return!1;const o=r;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&me.equals(this.bits,o.bits)}hashCode(){let r=this.width;return r=31*r+this.width,r=31*r+this.height,r=31*r+this.rowSize,r=31*r+me.hashCode(this.bits),r}toString(r="X ",o="  ",l=`
`){return this.buildToString(r,o,l)}buildToString(r,o,l){let h=new j;for(let f=0,m=this.height;f<m;f++){for(let p=0,A=this.width;p<A;p++)h.append(this.get(p,f)?r:o);h.append(l)}return h.toString()}clone(){return new vt(this.width,this.height,this.rowSize,this.bits.slice())}}class fe extends x{static getNotFoundInstance(){return new fe}}fe.kind="NotFoundException";class ge extends ae{constructor(r){super(r),this.luminances=ge.EMPTY,this.buckets=new Int32Array(ge.LUMINANCE_BUCKETS)}getBlackRow(r,o){const l=this.getLuminanceSource(),h=l.getWidth();o==null||o.getSize()<h?o=new Be(h):o.clear(),this.initArrays(h);const f=l.getRow(r,this.luminances),m=this.buckets;for(let A=0;A<h;A++)m[(f[A]&255)>>ge.LUMINANCE_SHIFT]++;const p=ge.estimateBlackPoint(m);if(h<3)for(let A=0;A<h;A++)(f[A]&255)<p&&o.set(A);else{let A=f[0]&255,C=f[1]&255;for(let b=1;b<h-1;b++){const O=f[b+1]&255;(C*4-A-O)/2<p&&o.set(b),A=C,C=O}}return o}getBlackMatrix(){const r=this.getLuminanceSource(),o=r.getWidth(),l=r.getHeight(),h=new vt(o,l);this.initArrays(o);const f=this.buckets;for(let A=1;A<5;A++){const C=Math.floor(l*A/5),b=r.getRow(C,this.luminances),O=Math.floor(o*4/5);for(let L=Math.floor(o/5);L<O;L++){const F=b[L]&255;f[F>>ge.LUMINANCE_SHIFT]++}}const m=ge.estimateBlackPoint(f),p=r.getMatrix();for(let A=0;A<l;A++){const C=A*o;for(let b=0;b<o;b++)(p[C+b]&255)<m&&h.set(b,A)}return h}createBinarizer(r){return new ge(r)}initArrays(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));const o=this.buckets;for(let l=0;l<ge.LUMINANCE_BUCKETS;l++)o[l]=0}static estimateBlackPoint(r){const o=r.length;let l=0,h=0,f=0;for(let b=0;b<o;b++)r[b]>f&&(h=b,f=r[b]),r[b]>l&&(l=r[b]);let m=0,p=0;for(let b=0;b<o;b++){const O=b-h,L=r[b]*O*O;L>p&&(m=b,p=L)}if(h>m){const b=h;h=m,m=b}if(m-h<=o/16)throw new fe;let A=m-1,C=-1;for(let b=m-1;b>h;b--){const O=b-h,L=O*O*(m-b)*(l-r[b]);L>C&&(A=b,C=L)}return A<<ge.LUMINANCE_SHIFT}}ge.LUMINANCE_BITS=5,ge.LUMINANCE_SHIFT=8-ge.LUMINANCE_BITS,ge.LUMINANCE_BUCKETS=1<<ge.LUMINANCE_BITS,ge.EMPTY=Uint8ClampedArray.from([0]);class _e extends ge{constructor(r){super(r),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const r=this.getLuminanceSource(),o=r.getWidth(),l=r.getHeight();if(o>=_e.MINIMUM_DIMENSION&&l>=_e.MINIMUM_DIMENSION){const h=r.getMatrix();let f=o>>_e.BLOCK_SIZE_POWER;(o&_e.BLOCK_SIZE_MASK)!==0&&f++;let m=l>>_e.BLOCK_SIZE_POWER;(l&_e.BLOCK_SIZE_MASK)!==0&&m++;const p=_e.calculateBlackPoints(h,f,m,o,l),A=new vt(o,l);_e.calculateThresholdForBlock(h,f,m,o,l,p,A),this.matrix=A}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(r){return new _e(r)}static calculateThresholdForBlock(r,o,l,h,f,m,p){const A=f-_e.BLOCK_SIZE,C=h-_e.BLOCK_SIZE;for(let b=0;b<l;b++){let O=b<<_e.BLOCK_SIZE_POWER;O>A&&(O=A);const L=_e.cap(b,2,l-3);for(let F=0;F<o;F++){let Y=F<<_e.BLOCK_SIZE_POWER;Y>C&&(Y=C);const Q=_e.cap(F,2,o-3);let ne=0;for(let be=-2;be<=2;be++){const De=m[L+be];ne+=De[Q-2]+De[Q-1]+De[Q]+De[Q+1]+De[Q+2]}const ue=ne/25;_e.thresholdBlock(r,Y,O,ue,h,p)}}}static cap(r,o,l){return r<o?o:r>l?l:r}static thresholdBlock(r,o,l,h,f,m){for(let p=0,A=l*f+o;p<_e.BLOCK_SIZE;p++,A+=f)for(let C=0;C<_e.BLOCK_SIZE;C++)(r[A+C]&255)<=h&&m.set(o+C,l+p)}static calculateBlackPoints(r,o,l,h,f){const m=f-_e.BLOCK_SIZE,p=h-_e.BLOCK_SIZE,A=new Array(l);for(let C=0;C<l;C++){A[C]=new Int32Array(o);let b=C<<_e.BLOCK_SIZE_POWER;b>m&&(b=m);for(let O=0;O<o;O++){let L=O<<_e.BLOCK_SIZE_POWER;L>p&&(L=p);let F=0,Y=255,Q=0;for(let ue=0,be=b*h+L;ue<_e.BLOCK_SIZE;ue++,be+=h){for(let De=0;De<_e.BLOCK_SIZE;De++){const Ie=r[be+De]&255;F+=Ie,Ie<Y&&(Y=Ie),Ie>Q&&(Q=Ie)}if(Q-Y>_e.MIN_DYNAMIC_RANGE)for(ue++,be+=h;ue<_e.BLOCK_SIZE;ue++,be+=h)for(let De=0;De<_e.BLOCK_SIZE;De++)F+=r[be+De]&255}let ne=F>>_e.BLOCK_SIZE_POWER*2;if(Q-Y<=_e.MIN_DYNAMIC_RANGE&&(ne=Y/2,C>0&&O>0)){const ue=(A[C-1][O]+2*A[C][O-1]+A[C-1][O-1])/4;Y<ue&&(ne=ue)}A[C][O]=ne}}return A}}_e.BLOCK_SIZE_POWER=3,_e.BLOCK_SIZE=1<<_e.BLOCK_SIZE_POWER,_e.BLOCK_SIZE_MASK=_e.BLOCK_SIZE-1,_e.MINIMUM_DIMENSION=_e.BLOCK_SIZE*5,_e.MIN_DYNAMIC_RANGE=24;class Xe{constructor(r,o){this.width=r,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(r,o,l,h){throw new Z("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Z("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Z("This luminance source does not support rotation by 45 degrees.")}toString(){const r=new Uint8ClampedArray(this.width);let o=new j;for(let l=0;l<this.height;l++){const h=this.getRow(l,r);for(let f=0;f<this.width;f++){const m=h[f]&255;let p;m<64?p="#":m<128?p="+":m<192?p=".":p=" ",o.append(p)}o.append(`
`)}return o.toString()}}class mt extends Xe{constructor(r){super(r.getWidth(),r.getHeight()),this.delegate=r}getRow(r,o){const l=this.delegate.getRow(r,o),h=this.getWidth();for(let f=0;f<h;f++)l[f]=255-(l[f]&255);return l}getMatrix(){const r=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(o);for(let h=0;h<o;h++)l[h]=255-(r[h]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(r,o,l,h){return new mt(this.delegate.crop(r,o,l,h))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new mt(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new mt(this.delegate.rotateCounterClockwise45())}}class X extends Xe{constructor(r){super(r.width,r.height),this.canvas=r,this.tempCanvasElement=null,this.buffer=X.makeBufferFromCanvasImageData(r)}static makeBufferFromCanvasImageData(r){const o=r.getContext("2d").getImageData(0,0,r.width,r.height);return X.toGrayscaleBuffer(o.data,r.width,r.height)}static toGrayscaleBuffer(r,o,l){const h=new Uint8ClampedArray(o*l);for(let f=0,m=0,p=r.length;f<p;f+=4,m++){let A;if(r[f+3]===0)A=255;else{const b=r[f],O=r[f+1],L=r[f+2];A=306*b+601*O+117*L+512>>10}h[m]=A}return h}getRow(r,o){if(r<0||r>=this.getHeight())throw new M("Requested row is outside the image: "+r);const l=this.getWidth(),h=r*l;return o===null?o=this.buffer.slice(h,h+l):(o.length<l&&(o=new Uint8ClampedArray(l)),o.set(this.buffer.slice(h,h+l))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(r,o,l,h){return super.crop(r,o,l,h),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement}rotate(r){const o=this.getTempCanvasElement(),l=o.getContext("2d"),h=r*X.DEGREE_TO_RADIANS,f=this.canvas.width,m=this.canvas.height,p=Math.ceil(Math.abs(Math.cos(h))*f+Math.abs(Math.sin(h))*m),A=Math.ceil(Math.abs(Math.sin(h))*f+Math.abs(Math.cos(h))*m);return o.width=p,o.height=A,l.translate(p/2,A/2),l.rotate(h),l.drawImage(this.canvas,f/-2,m/-2),this.buffer=X.makeBufferFromCanvasImageData(o),this}invert(){return new mt(this)}}X.DEGREE_TO_RADIANS=Math.PI/180;class Se{constructor(r,o,l){this.deviceId=r,this.label=o,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Oe=(globalThis||Vh||self||window||void 0)&&(globalThis||Vh||self||window||void 0).__awaiter||function(D,r,o,l){function h(f){return f instanceof o?f:new o(function(m){m(f)})}return new(o||(o=Promise))(function(f,m){function p(b){try{C(l.next(b))}catch(O){m(O)}}function A(b){try{C(l.throw(b))}catch(O){m(O)}}function C(b){b.done?f(b.value):h(b.value).then(p,A)}C((l=l.apply(D,r||[])).next())})};class Ne{constructor(r,o=500,l){this.reader=r,this.timeBetweenScansMillis=o,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(r){this._timeBetweenDecodingAttempts=r<0?0:r}set hints(r){this._hints=r||null}get hints(){return this._hints}listVideoInputDevices(){return Oe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const r=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const l of r){const h=l.kind==="video"?"videoinput":l.kind;if(h!=="videoinput")continue;const f=l.deviceId||l.id,m=l.label||`Video device ${o.length+1}`,p=l.groupId,A={deviceId:f,label:m,kind:h,groupId:p};o.push(A)}return o})}getVideoInputDevices(){return Oe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new Se(o.deviceId,o.label))})}findDeviceById(r){return Oe(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(l=>l.deviceId===r):null})}decodeFromInputVideoDevice(r,o){return Oe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(r,o)})}decodeOnceFromVideoDevice(r,o){return Oe(this,void 0,void 0,function*(){this.reset();let l;r?l={deviceId:{exact:r}}:l={facingMode:"environment"};const h={video:l};return yield this.decodeOnceFromConstraints(h,o)})}decodeOnceFromConstraints(r,o){return Oe(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeOnceFromStream(l,o)})}decodeOnceFromStream(r,o){return Oe(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(r,o);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(r,o,l){return Oe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(r,o,l)})}decodeFromVideoDevice(r,o,l){return Oe(this,void 0,void 0,function*(){let h;r?h={deviceId:{exact:r}}:h={facingMode:"environment"};const f={video:h};return yield this.decodeFromConstraints(f,o,l)})}decodeFromConstraints(r,o,l){return Oe(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeFromStream(h,o,l)})}decodeFromStream(r,o,l){return Oe(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(r,o);return yield this.decodeContinuously(h,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(r,o){return Oe(this,void 0,void 0,function*(){const l=this.prepareVideoElement(o);return this.addVideoSource(l,r),this.videoElement=l,this.stream=r,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(r){return new Promise((o,l)=>this.playVideoOnLoad(r,()=>o()))}playVideoOnLoad(r,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(r),r.addEventListener("ended",this.videoEndedListener),r.addEventListener("canplay",this.videoCanPlayListener),r.addEventListener("playing",o),this.tryPlayVideo(r)}isVideoPlaying(r){return r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2}tryPlayVideo(r){return Oe(this,void 0,void 0,function*(){if(this.isVideoPlaying(r)){console.warn("Trying to play video that is already playing.");return}try{yield r.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(r,o){const l=document.getElementById(r);if(!l)throw new I(`element with id '${r}' not found`);if(l.nodeName.toLowerCase()!==o.toLowerCase())throw new I(`element with id '${r}' must be an ${o} element`);return l}decodeFromImage(r,o){if(!r&&!o)throw new I("either imageElement with a src set or an url must be provided");return o&&!r?this.decodeFromImageUrl(o):this.decodeFromImageElement(r)}decodeFromVideo(r,o){if(!r&&!o)throw new I("Either an element with a src set or an URL must be provided");return o&&!r?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(r)}decodeFromVideoContinuously(r,o,l){if(r===void 0&&o===void 0)throw new I("Either an element with a src set or an URL must be provided");return o&&!r?this.decodeFromVideoUrlContinuously(o,l):this.decodeFromVideoElementContinuously(r,l)}decodeFromImageElement(r){if(!r)throw new I("An image element must be provided.");this.reset();const o=this.prepareImageElement(r);this.imageElement=o;let l;return this.isImageLoaded(o)?l=this.decodeOnce(o,!1,!0):l=this._decodeOnLoadImage(o),l}decodeFromVideoElement(r){const o=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(r,o){const l=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideoContinuously(l,o)}_decodeFromVideoElementSetup(r){if(!r)throw new I("A video element must be provided.");this.reset();const o=this.prepareVideoElement(r);return this.videoElement=o,o}decodeFromImageUrl(r){if(!r)throw new I("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const l=this._decodeOnLoadImage(o);return o.src=r,l}decodeFromVideoUrl(r){if(!r)throw new I("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),l=this.decodeFromVideoElement(o);return o.src=r,l}decodeFromVideoUrlContinuously(r,o){if(!r)throw new I("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),h=this.decodeFromVideoElementContinuously(l,o);return l.src=r,h}_decodeOnLoadImage(r){return new Promise((o,l)=>{this.imageLoadedListener=()=>this.decodeOnce(r,!1,!0).then(o,l),r.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(r){return Oe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(r),yield this.decodeOnce(r)})}_decodeOnLoadVideoContinuously(r,o){return Oe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(r),this.decodeContinuously(r,o)})}isImageLoaded(r){return!(!r.complete||r.naturalWidth===0)}prepareImageElement(r){let o;return typeof r>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof r=="string"&&(o=this.getMediaElement(r,"img")),r instanceof HTMLImageElement&&(o=r),o}prepareVideoElement(r){let o;return!r&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof r=="string"&&(o=this.getMediaElement(r,"video")),r instanceof HTMLVideoElement&&(o=r),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(r,o=!0,l=!0){this._stopAsyncDecode=!1;const h=(f,m)=>{if(this._stopAsyncDecode){m(new fe("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const p=this.decode(r);f(p)}catch(p){const A=o&&p instanceof fe,b=(p instanceof W||p instanceof H)&&l;if(A||b)return setTimeout(h,this._timeBetweenDecodingAttempts,f,m);m(p)}};return new Promise((f,m)=>h(f,m))}decodeContinuously(r,o){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const h=this.decode(r);o(h,null),setTimeout(l,this.timeBetweenScansMillis)}catch(h){o(null,h);const f=h instanceof W||h instanceof H,m=h instanceof fe;(f||m)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(r){const o=this.createBinaryBitmap(r);return this.decodeBitmap(o)}_isHTMLVideoElement(r){return r.videoWidth!==0}drawFrameOnCanvas(r,o,l){o||(o={sx:0,sy:0,sWidth:r.videoWidth,sHeight:r.videoHeight,dx:0,dy:0,dWidth:r.videoWidth,dHeight:r.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(r,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(r,o,l=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:r.naturalWidth,sHeight:r.naturalHeight,dx:0,dy:0,dWidth:r.naturalWidth,dHeight:r.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(r,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(r){this.getCaptureCanvasContext(r),this._isHTMLVideoElement(r)?this.drawFrameOnCanvas(r):this.drawImageOnCanvas(r);const o=this.getCaptureCanvas(r),l=new X(o),h=new _e(l);return new U(h)}getCaptureCanvasContext(r){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(r).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(r){if(!this.captureCanvas){const o=this.createCaptureCanvas(r);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(r){return this.reader.decode(r,this._hints)}createCaptureCanvas(r){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let l,h;return typeof r<"u"&&(r instanceof HTMLVideoElement?(l=r.videoWidth,h=r.videoHeight):r instanceof HTMLImageElement&&(l=r.naturalWidth||r.width,h=r.naturalHeight||r.height)),o.style.width=l+"px",o.style.height=h+"px",o.width=l,o.height=h,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(r=>r.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(r,o){try{r.srcObject=o}catch{r.src=URL.createObjectURL(o)}}cleanVideoSource(r){try{r.srcObject=null}catch{r.src=""}this.videoElement.removeAttribute("src")}}class Ve{constructor(r,o,l=o==null?0:8*o.length,h,f,m=oe.currentTimeMillis()){this.text=r,this.rawBytes=o,this.numBits=l,this.resultPoints=h,this.format=f,this.timestamp=m,this.text=r,this.rawBytes=o,l==null?this.numBits=o==null?0:8*o.length:this.numBits=l,this.resultPoints=h,this.format=f,this.resultMetadata=null,m==null?this.timestamp=oe.currentTimeMillis():this.timestamp=m}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(r,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(r,o)}putAllMetadata(r){r!==null&&(this.resultMetadata===null?this.resultMetadata=r:this.resultMetadata=new Map(r))}addResultPoints(r){const o=this.resultPoints;if(o===null)this.resultPoints=r;else if(r!==null&&r.length>0){const l=new Array(o.length+r.length);oe.arraycopy(o,0,l,0,o.length),oe.arraycopy(r,0,l,o.length,r.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ht;(function(D){D[D.AZTEC=0]="AZTEC",D[D.CODABAR=1]="CODABAR",D[D.CODE_39=2]="CODE_39",D[D.CODE_93=3]="CODE_93",D[D.CODE_128=4]="CODE_128",D[D.DATA_MATRIX=5]="DATA_MATRIX",D[D.EAN_8=6]="EAN_8",D[D.EAN_13=7]="EAN_13",D[D.ITF=8]="ITF",D[D.MAXICODE=9]="MAXICODE",D[D.PDF_417=10]="PDF_417",D[D.QR_CODE=11]="QR_CODE",D[D.RSS_14=12]="RSS_14",D[D.RSS_EXPANDED=13]="RSS_EXPANDED",D[D.UPC_A=14]="UPC_A",D[D.UPC_E=15]="UPC_E",D[D.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ht||(ht={}));var Re=ht,kn;(function(D){D[D.OTHER=0]="OTHER",D[D.ORIENTATION=1]="ORIENTATION",D[D.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",D[D.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",D[D.ISSUE_NUMBER=4]="ISSUE_NUMBER",D[D.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",D[D.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",D[D.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",D[D.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",D[D.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",D[D.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(kn||(kn={}));var at=kn;class Dr{constructor(r,o,l,h,f=-1,m=-1){this.rawBytes=r,this.text=o,this.byteSegments=l,this.ecLevel=h,this.structuredAppendSequenceNumber=f,this.structuredAppendParity=m,this.numBits=r==null?0:8*r.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(r){this.numBits=r}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(r){this.errorsCorrected=r}getErasures(){return this.erasures}setErasures(r){this.erasures=r}getOther(){return this.other}setOther(r){this.other=r}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Zr{exp(r){return this.expTable[r]}log(r){if(r===0)throw new M;return this.logTable[r]}static addOrSubtract(r,o){return r^o}}class Sn{constructor(r,o){if(o.length===0)throw new M;this.field=r;const l=o.length;if(l>1&&o[0]===0){let h=1;for(;h<l&&o[h]===0;)h++;h===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-h),oe.arraycopy(o,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);const o=this.coefficients;let l;if(r===1){l=0;for(let m=0,p=o.length;m!==p;m++){const A=o[m];l=Zr.addOrSubtract(l,A)}return l}l=o[0];const h=o.length,f=this.field;for(let m=1;m<h;m++)l=Zr.addOrSubtract(f.multiply(r,l),o[m]);return l}addOrSubtract(r){if(!this.field.equals(r.field))throw new M("GenericGFPolys do not have same GenericGF field");if(this.isZero())return r;if(r.isZero())return this;let o=this.coefficients,l=r.coefficients;if(o.length>l.length){const m=o;o=l,l=m}let h=new Int32Array(l.length);const f=l.length-o.length;oe.arraycopy(l,0,h,0,f);for(let m=f;m<l.length;m++)h[m]=Zr.addOrSubtract(o[m-f],l[m]);return new Sn(this.field,h)}multiply(r){if(!this.field.equals(r.field))throw new M("GenericGFPolys do not have same GenericGF field");if(this.isZero()||r.isZero())return this.field.getZero();const o=this.coefficients,l=o.length,h=r.coefficients,f=h.length,m=new Int32Array(l+f-1),p=this.field;for(let A=0;A<l;A++){const C=o[A];for(let b=0;b<f;b++)m[A+b]=Zr.addOrSubtract(m[A+b],p.multiply(C,h[b]))}return new Sn(p,m)}multiplyScalar(r){if(r===0)return this.field.getZero();if(r===1)return this;const o=this.coefficients.length,l=this.field,h=new Int32Array(o),f=this.coefficients;for(let m=0;m<o;m++)h[m]=l.multiply(f[m],r);return new Sn(l,h)}multiplyByMonomial(r,o){if(r<0)throw new M;if(o===0)return this.field.getZero();const l=this.coefficients,h=l.length,f=new Int32Array(h+r),m=this.field;for(let p=0;p<h;p++)f[p]=m.multiply(l[p],o);return new Sn(m,f)}divide(r){if(!this.field.equals(r.field))throw new M("GenericGFPolys do not have same GenericGF field");if(r.isZero())throw new M("Divide by 0");const o=this.field;let l=o.getZero(),h=this;const f=r.getCoefficient(r.getDegree()),m=o.inverse(f);for(;h.getDegree()>=r.getDegree()&&!h.isZero();){const p=h.getDegree()-r.getDegree(),A=o.multiply(h.getCoefficient(h.getDegree()),m),C=r.multiplyByMonomial(p,A),b=o.buildMonomial(p,A);l=l.addOrSubtract(b),h=h.addOrSubtract(C)}return[l,h]}toString(){let r="";for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);if(l!==0){if(l<0?(r+=" - ",l=-l):r.length>0&&(r+=" + "),o===0||l!==1){const h=this.field.log(l);h===0?r+="1":h===1?r+="a":(r+="a^",r+=h)}o!==0&&(o===1?r+="x":(r+="x^",r+=o))}}return r}}class Ni extends x{}Ni.kind="ArithmeticException";class _t extends Zr{constructor(r,o,l){super(),this.primitive=r,this.size=o,this.generatorBase=l;const h=new Int32Array(o);let f=1;for(let p=0;p<o;p++)h[p]=f,f*=2,f>=o&&(f^=r,f&=o-1);this.expTable=h;const m=new Int32Array(o);for(let p=0;p<o-1;p++)m[h[p]]=p;this.logTable=m,this.zero=new Sn(this,Int32Array.from([0])),this.one=new Sn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,o){if(r<0)throw new M;if(o===0)return this.zero;const l=new Int32Array(r+1);return l[0]=o,new Sn(this,l)}inverse(r){if(r===0)throw new Ni;return this.expTable[this.size-this.logTable[r]-1]}multiply(r,o){return r===0||o===0?0:this.expTable[(this.logTable[r]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+pe.toHexString(this.primitive)+","+this.size+")"}equals(r){return r===this}}_t.AZTEC_DATA_12=new _t(4201,4096,1),_t.AZTEC_DATA_10=new _t(1033,1024,1),_t.AZTEC_DATA_6=new _t(67,64,1),_t.AZTEC_PARAM=new _t(19,16,1),_t.QR_CODE_FIELD_256=new _t(285,256,0),_t.DATA_MATRIX_FIELD_256=new _t(301,256,1),_t.AZTEC_DATA_8=_t.DATA_MATRIX_FIELD_256,_t.MAXICODE_FIELD_64=_t.AZTEC_DATA_6;class Jr extends x{}Jr.kind="ReedSolomonException";class Or extends x{}Or.kind="IllegalStateException";class hs{constructor(r){this.field=r}decode(r,o){const l=this.field,h=new Sn(l,r),f=new Int32Array(o);let m=!0;for(let F=0;F<o;F++){const Y=h.evaluateAt(l.exp(F+l.getGeneratorBase()));f[f.length-1-F]=Y,Y!==0&&(m=!1)}if(m)return;const p=new Sn(l,f),A=this.runEuclideanAlgorithm(l.buildMonomial(o,1),p,o),C=A[0],b=A[1],O=this.findErrorLocations(C),L=this.findErrorMagnitudes(b,O);for(let F=0;F<O.length;F++){const Y=r.length-1-l.log(O[F]);if(Y<0)throw new Jr("Bad error location");r[Y]=_t.addOrSubtract(r[Y],L[F])}}runEuclideanAlgorithm(r,o,l){if(r.getDegree()<o.getDegree()){const F=r;r=o,o=F}const h=this.field;let f=r,m=o,p=h.getZero(),A=h.getOne();for(;m.getDegree()>=(l/2|0);){let F=f,Y=p;if(f=m,p=A,f.isZero())throw new Jr("r_{i-1} was zero");m=F;let Q=h.getZero();const ne=f.getCoefficient(f.getDegree()),ue=h.inverse(ne);for(;m.getDegree()>=f.getDegree()&&!m.isZero();){const be=m.getDegree()-f.getDegree(),De=h.multiply(m.getCoefficient(m.getDegree()),ue);Q=Q.addOrSubtract(h.buildMonomial(be,De)),m=m.addOrSubtract(f.multiplyByMonomial(be,De))}if(A=Q.multiply(p).addOrSubtract(Y),m.getDegree()>=f.getDegree())throw new Or("Division algorithm failed to reduce polynomial?")}const C=A.getCoefficient(0);if(C===0)throw new Jr("sigmaTilde(0) was zero");const b=h.inverse(C),O=A.multiplyScalar(b),L=m.multiplyScalar(b);return[O,L]}findErrorLocations(r){const o=r.getDegree();if(o===1)return Int32Array.from([r.getCoefficient(1)]);const l=new Int32Array(o);let h=0;const f=this.field;for(let m=1;m<f.getSize()&&h<o;m++)r.evaluateAt(m)===0&&(l[h]=f.inverse(m),h++);if(h!==o)throw new Jr("Error locator degree does not match number of roots");return l}findErrorMagnitudes(r,o){const l=o.length,h=new Int32Array(l),f=this.field;for(let m=0;m<l;m++){const p=f.inverse(o[m]);let A=1;for(let C=0;C<l;C++)if(m!==C){const b=f.multiply(o[C],p),O=(b&1)===0?b|1:b&-2;A=f.multiply(A,O)}h[m]=f.multiply(r.evaluateAt(p),f.inverse(A)),f.getGeneratorBase()!==0&&(h[m]=f.multiply(h[m],p))}return h}}var Xt;(function(D){D[D.UPPER=0]="UPPER",D[D.LOWER=1]="LOWER",D[D.MIXED=2]="MIXED",D[D.DIGIT=3]="DIGIT",D[D.PUNCT=4]="PUNCT",D[D.BINARY=5]="BINARY"})(Xt||(Xt={}));class Wt{decode(r){this.ddata=r;let o=r.getBits(),l=this.extractBits(o),h=this.correctBits(l),f=Wt.convertBoolArrayToByteArray(h),m=Wt.getEncodedData(h),p=new Dr(f,m,null,null);return p.setNumBits(h.length),p}static highLevelDecode(r){return this.getEncodedData(r)}static getEncodedData(r){let o=r.length,l=Xt.UPPER,h=Xt.UPPER,f="",m=0;for(;m<o;)if(h===Xt.BINARY){if(o-m<5)break;let p=Wt.readCode(r,m,5);if(m+=5,p===0){if(o-m<11)break;p=Wt.readCode(r,m,11)+31,m+=11}for(let A=0;A<p;A++){if(o-m<8){m=o;break}const C=Wt.readCode(r,m,8);f+=q.castAsNonUtf8Char(C),m+=8}h=l}else{let p=h===Xt.DIGIT?4:5;if(o-m<p)break;let A=Wt.readCode(r,m,p);m+=p;let C=Wt.getCharacter(h,A);C.startsWith("CTRL_")?(l=h,h=Wt.getTable(C.charAt(5)),C.charAt(6)==="L"&&(l=h)):(f+=C,h=l)}return f}static getTable(r){switch(r){case"L":return Xt.LOWER;case"P":return Xt.PUNCT;case"M":return Xt.MIXED;case"D":return Xt.DIGIT;case"B":return Xt.BINARY;case"U":default:return Xt.UPPER}}static getCharacter(r,o){switch(r){case Xt.UPPER:return Wt.UPPER_TABLE[o];case Xt.LOWER:return Wt.LOWER_TABLE[o];case Xt.MIXED:return Wt.MIXED_TABLE[o];case Xt.PUNCT:return Wt.PUNCT_TABLE[o];case Xt.DIGIT:return Wt.DIGIT_TABLE[o];default:throw new Or("Bad table")}}correctBits(r){let o,l;this.ddata.getNbLayers()<=2?(l=6,o=_t.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,o=_t.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,o=_t.AZTEC_DATA_10):(l=12,o=_t.AZTEC_DATA_12);let h=this.ddata.getNbDatablocks(),f=r.length/l;if(f<h)throw new H;let m=r.length%l,p=new Int32Array(f);for(let L=0;L<f;L++,m+=l)p[L]=Wt.readCode(r,m,l);try{new hs(o).decode(p,f-h)}catch(L){throw new H(L)}let A=(1<<l)-1,C=0;for(let L=0;L<h;L++){let F=p[L];if(F===0||F===A)throw new H;(F===1||F===A-1)&&C++}let b=new Array(h*l-C),O=0;for(let L=0;L<h;L++){let F=p[L];if(F===1||F===A-1)b.fill(F>1,O,O+l-1),O+=l-1;else for(let Y=l-1;Y>=0;--Y)b[O++]=(F&1<<Y)!==0}return b}extractBits(r){let o=this.ddata.isCompact(),l=this.ddata.getNbLayers(),h=(o?11:14)+l*4,f=new Int32Array(h),m=new Array(this.totalBitsInLayer(l,o));if(o)for(let p=0;p<f.length;p++)f[p]=p;else{let p=h+1+2*pe.truncDivision(pe.truncDivision(h,2)-1,15),A=h/2,C=pe.truncDivision(p,2);for(let b=0;b<A;b++){let O=b+pe.truncDivision(b,15);f[A-b-1]=C-O-1,f[A+b]=C+O+1}}for(let p=0,A=0;p<l;p++){let C=(l-p)*4+(o?9:12),b=p*2,O=h-1-b;for(let L=0;L<C;L++){let F=L*2;for(let Y=0;Y<2;Y++)m[A+F+Y]=r.get(f[b+Y],f[b+L]),m[A+2*C+F+Y]=r.get(f[b+L],f[O-Y]),m[A+4*C+F+Y]=r.get(f[O-Y],f[O-L]),m[A+6*C+F+Y]=r.get(f[O-L],f[b+Y])}A+=C*8}return m}static readCode(r,o,l){let h=0;for(let f=o;f<o+l;f++)h<<=1,r[f]&&(h|=1);return h}static readByte(r,o){let l=r.length-o;return l>=8?Wt.readCode(r,o,8):Wt.readCode(r,o,l)<<8-l}static convertBoolArrayToByteArray(r){let o=new Uint8Array((r.length+7)/8);for(let l=0;l<o.length;l++)o[l]=Wt.readByte(r,8*l);return o}totalBitsInLayer(r,o){return((o?88:112)+16*r)*r}}Wt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Wt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Wt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Wt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Wt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class At{constructor(){}static round(r){return r===NaN?0:r<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:r>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:r+(r<0?-.5:.5)|0}static distance(r,o,l,h){const f=r-l,m=o-h;return Math.sqrt(f*f+m*m)}static sum(r){let o=0;for(let l=0,h=r.length;l!==h;l++){const f=r[l];o+=f}return o}}class Wi{static floatToIntBits(r){return r}}Wi.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ue{constructor(r,o){this.x=r,this.y=o}getX(){return this.x}getY(){return this.y}equals(r){if(r instanceof Ue){const o=r;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*Wi.floatToIntBits(this.x)+Wi.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(r){const o=this.distance(r[0],r[1]),l=this.distance(r[1],r[2]),h=this.distance(r[0],r[2]);let f,m,p;if(l>=o&&l>=h?(m=r[0],f=r[1],p=r[2]):h>=l&&h>=o?(m=r[1],f=r[0],p=r[2]):(m=r[2],f=r[0],p=r[1]),this.crossProductZ(f,m,p)<0){const A=f;f=p,p=A}r[0]=f,r[1]=m,r[2]=p}static distance(r,o){return At.distance(r.x,r.y,o.x,o.y)}static crossProductZ(r,o,l){const h=o.x,f=o.y;return(l.x-h)*(r.y-f)-(l.y-f)*(r.x-h)}}class ga{constructor(r,o){this.bits=r,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Ls extends ga{constructor(r,o,l,h,f){super(r,o),this.compact=l,this.nbDatablocks=h,this.nbLayers=f}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Yr{constructor(r,o,l,h){this.image=r,this.height=r.getHeight(),this.width=r.getWidth(),o==null&&(o=Yr.INIT_SIZE),l==null&&(l=r.getWidth()/2|0),h==null&&(h=r.getHeight()/2|0);const f=o/2|0;if(this.leftInit=l-f,this.rightInit=l+f,this.upInit=h-f,this.downInit=h+f,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new fe}detect(){let r=this.leftInit,o=this.rightInit,l=this.upInit,h=this.downInit,f=!1,m=!0,p=!1,A=!1,C=!1,b=!1,O=!1;const L=this.width,F=this.height;for(;m;){m=!1;let Y=!0;for(;(Y||!A)&&o<L;)Y=this.containsBlackPoint(l,h,o,!1),Y?(o++,m=!0,A=!0):A||o++;if(o>=L){f=!0;break}let Q=!0;for(;(Q||!C)&&h<F;)Q=this.containsBlackPoint(r,o,h,!0),Q?(h++,m=!0,C=!0):C||h++;if(h>=F){f=!0;break}let ne=!0;for(;(ne||!b)&&r>=0;)ne=this.containsBlackPoint(l,h,r,!1),ne?(r--,m=!0,b=!0):b||r--;if(r<0){f=!0;break}let ue=!0;for(;(ue||!O)&&l>=0;)ue=this.containsBlackPoint(r,o,l,!0),ue?(l--,m=!0,O=!0):O||l--;if(l<0){f=!0;break}m&&(p=!0)}if(!f&&p){const Y=o-r;let Q=null;for(let De=1;Q===null&&De<Y;De++)Q=this.getBlackPointOnSegment(r,h-De,r+De,h);if(Q==null)throw new fe;let ne=null;for(let De=1;ne===null&&De<Y;De++)ne=this.getBlackPointOnSegment(r,l+De,r+De,l);if(ne==null)throw new fe;let ue=null;for(let De=1;ue===null&&De<Y;De++)ue=this.getBlackPointOnSegment(o,l+De,o-De,l);if(ue==null)throw new fe;let be=null;for(let De=1;be===null&&De<Y;De++)be=this.getBlackPointOnSegment(o,h-De,o-De,h);if(be==null)throw new fe;return this.centerEdges(be,Q,ue,ne)}else throw new fe}getBlackPointOnSegment(r,o,l,h){const f=At.round(At.distance(r,o,l,h)),m=(l-r)/f,p=(h-o)/f,A=this.image;for(let C=0;C<f;C++){const b=At.round(r+C*m),O=At.round(o+C*p);if(A.get(b,O))return new Ue(b,O)}return null}centerEdges(r,o,l,h){const f=r.getX(),m=r.getY(),p=o.getX(),A=o.getY(),C=l.getX(),b=l.getY(),O=h.getX(),L=h.getY(),F=Yr.CORR;return f<this.width/2?[new Ue(O-F,L+F),new Ue(p+F,A+F),new Ue(C-F,b-F),new Ue(f+F,m-F)]:[new Ue(O+F,L+F),new Ue(p+F,A-F),new Ue(C-F,b+F),new Ue(f-F,m-F)]}containsBlackPoint(r,o,l,h){const f=this.image;if(h){for(let m=r;m<=o;m++)if(f.get(m,l))return!0}else for(let m=r;m<=o;m++)if(f.get(l,m))return!0;return!1}}Yr.INIT_SIZE=10,Yr.CORR=1;class ma{static checkAndNudgePoints(r,o){const l=r.getWidth(),h=r.getHeight();let f=!0;for(let m=0;m<o.length&&f;m+=2){const p=Math.floor(o[m]),A=Math.floor(o[m+1]);if(p<-1||p>l||A<-1||A>h)throw new fe;f=!1,p===-1?(o[m]=0,f=!0):p===l&&(o[m]=l-1,f=!0),A===-1?(o[m+1]=0,f=!0):A===h&&(o[m+1]=h-1,f=!0)}f=!0;for(let m=o.length-2;m>=0&&f;m-=2){const p=Math.floor(o[m]),A=Math.floor(o[m+1]);if(p<-1||p>l||A<-1||A>h)throw new fe;f=!1,p===-1?(o[m]=0,f=!0):p===l&&(o[m]=l-1,f=!0),A===-1?(o[m+1]=0,f=!0):A===h&&(o[m+1]=h-1,f=!0)}}}class Lt{constructor(r,o,l,h,f,m,p,A,C){this.a11=r,this.a21=o,this.a31=l,this.a12=h,this.a22=f,this.a32=m,this.a13=p,this.a23=A,this.a33=C}static quadrilateralToQuadrilateral(r,o,l,h,f,m,p,A,C,b,O,L,F,Y,Q,ne){const ue=Lt.quadrilateralToSquare(r,o,l,h,f,m,p,A);return Lt.squareToQuadrilateral(C,b,O,L,F,Y,Q,ne).times(ue)}transformPoints(r){const o=r.length,l=this.a11,h=this.a12,f=this.a13,m=this.a21,p=this.a22,A=this.a23,C=this.a31,b=this.a32,O=this.a33;for(let L=0;L<o;L+=2){const F=r[L],Y=r[L+1],Q=f*F+A*Y+O;r[L]=(l*F+m*Y+C)/Q,r[L+1]=(h*F+p*Y+b)/Q}}transformPointsWithValues(r,o){const l=this.a11,h=this.a12,f=this.a13,m=this.a21,p=this.a22,A=this.a23,C=this.a31,b=this.a32,O=this.a33,L=r.length;for(let F=0;F<L;F++){const Y=r[F],Q=o[F],ne=f*Y+A*Q+O;r[F]=(l*Y+m*Q+C)/ne,o[F]=(h*Y+p*Q+b)/ne}}static squareToQuadrilateral(r,o,l,h,f,m,p,A){const C=r-l+f-p,b=o-h+m-A;if(C===0&&b===0)return new Lt(l-r,f-l,r,h-o,m-h,o,0,0,1);{const O=l-f,L=p-f,F=h-m,Y=A-m,Q=O*Y-L*F,ne=(C*Y-L*b)/Q,ue=(O*b-C*F)/Q;return new Lt(l-r+ne*l,p-r+ue*p,r,h-o+ne*h,A-o+ue*A,o,ne,ue,1)}}static quadrilateralToSquare(r,o,l,h,f,m,p,A){return Lt.squareToQuadrilateral(r,o,l,h,f,m,p,A).buildAdjoint()}buildAdjoint(){return new Lt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(r){return new Lt(this.a11*r.a11+this.a21*r.a12+this.a31*r.a13,this.a11*r.a21+this.a21*r.a22+this.a31*r.a23,this.a11*r.a31+this.a21*r.a32+this.a31*r.a33,this.a12*r.a11+this.a22*r.a12+this.a32*r.a13,this.a12*r.a21+this.a22*r.a22+this.a32*r.a23,this.a12*r.a31+this.a22*r.a32+this.a32*r.a33,this.a13*r.a11+this.a23*r.a12+this.a33*r.a13,this.a13*r.a21+this.a23*r.a22+this.a33*r.a23,this.a13*r.a31+this.a23*r.a32+this.a33*r.a33)}}class Ut extends ma{sampleGrid(r,o,l,h,f,m,p,A,C,b,O,L,F,Y,Q,ne,ue,be,De){const Ie=Lt.quadrilateralToQuadrilateral(h,f,m,p,A,C,b,O,L,F,Y,Q,ne,ue,be,De);return this.sampleGridWithTransform(r,o,l,Ie)}sampleGridWithTransform(r,o,l,h){if(o<=0||l<=0)throw new fe;const f=new vt(o,l),m=new Float32Array(2*o);for(let p=0;p<l;p++){const A=m.length,C=p+.5;for(let b=0;b<A;b+=2)m[b]=b/2+.5,m[b+1]=C;h.transformPoints(m),ma.checkAndNudgePoints(r,m);try{for(let b=0;b<A;b+=2)r.get(Math.floor(m[b]),Math.floor(m[b+1]))&&f.set(b/2,p)}catch{throw new fe}}return f}}class Vn{static setGridSampler(r){Vn.gridSampler=r}static getInstance(){return Vn.gridSampler}}Vn.gridSampler=new Ut;class Ft{constructor(r,o){this.x=r,this.y=o}toResultPoint(){return new Ue(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class xo{constructor(r){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=r}detect(){return this.detectMirror(!1)}detectMirror(r){let o=this.getMatrixCenter(),l=this.getBullsEyeCorners(o);if(r){let m=l[0];l[0]=l[2],l[2]=m}this.extractParameters(l);let h=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),f=this.getMatrixCornerPoints(l);return new Ls(h,f,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(r){if(!this.isValidPoint(r[0])||!this.isValidPoint(r[1])||!this.isValidPoint(r[2])||!this.isValidPoint(r[3]))throw new fe;let o=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(r[0],r[1],o),this.sampleLine(r[1],r[2],o),this.sampleLine(r[2],r[3],o),this.sampleLine(r[3],r[0],o)]);this.shift=this.getRotation(l,o);let h=0;for(let m=0;m<4;m++){let p=l[(this.shift+m)%4];this.compact?(h<<=7,h+=p>>1&127):(h<<=10,h+=(p>>2&992)+(p>>1&31))}let f=this.getCorrectedParameterData(h,this.compact);this.compact?(this.nbLayers=(f>>6)+1,this.nbDataBlocks=(f&63)+1):(this.nbLayers=(f>>11)+1,this.nbDataBlocks=(f&2047)+1)}getRotation(r,o){let l=0;r.forEach((h,f,m)=>{let p=(h>>o-2<<1)+(h&1);l=(l<<3)+p}),l=((l&1)<<11)+(l>>1);for(let h=0;h<4;h++)if(pe.bitCount(l^this.EXPECTED_CORNER_BITS[h])<=2)return h;throw new fe}getCorrectedParameterData(r,o){let l,h;o?(l=7,h=2):(l=10,h=4);let f=l-h,m=new Int32Array(l);for(let A=l-1;A>=0;--A)m[A]=r&15,r>>=4;try{new hs(_t.AZTEC_PARAM).decode(m,f)}catch{throw new fe}let p=0;for(let A=0;A<h;A++)p=(p<<4)+m[A];return p}getBullsEyeCorners(r){let o=r,l=r,h=r,f=r,m=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let O=this.getFirstDifferent(o,m,1,-1),L=this.getFirstDifferent(l,m,1,1),F=this.getFirstDifferent(h,m,-1,1),Y=this.getFirstDifferent(f,m,-1,-1);if(this.nbCenterLayers>2){let Q=this.distancePoint(Y,O)*this.nbCenterLayers/(this.distancePoint(f,o)*(this.nbCenterLayers+2));if(Q<.75||Q>1.25||!this.isWhiteOrBlackRectangle(O,L,F,Y))break}o=O,l=L,h=F,f=Y,m=!m}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new fe;this.compact=this.nbCenterLayers===5;let p=new Ue(o.getX()+.5,o.getY()-.5),A=new Ue(l.getX()+.5,l.getY()+.5),C=new Ue(h.getX()-.5,h.getY()+.5),b=new Ue(f.getX()-.5,f.getY()-.5);return this.expandSquare([p,A,C,b],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let r,o,l,h;try{let p=new Yr(this.image).detect();r=p[0],o=p[1],l=p[2],h=p[3]}catch{let A=this.image.getWidth()/2,C=this.image.getHeight()/2;r=this.getFirstDifferent(new Ft(A+7,C-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Ft(A+7,C+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new Ft(A-7,C+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new Ft(A-7,C-7),!1,-1,-1).toResultPoint()}let f=At.round((r.getX()+h.getX()+o.getX()+l.getX())/4),m=At.round((r.getY()+h.getY()+o.getY()+l.getY())/4);try{let p=new Yr(this.image,15,f,m).detect();r=p[0],o=p[1],l=p[2],h=p[3]}catch{r=this.getFirstDifferent(new Ft(f+7,m-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Ft(f+7,m+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new Ft(f-7,m+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new Ft(f-7,m-7),!1,-1,-1).toResultPoint()}return f=At.round((r.getX()+h.getX()+o.getX()+l.getX())/4),m=At.round((r.getY()+h.getY()+o.getY()+l.getY())/4),new Ft(f,m)}getMatrixCornerPoints(r){return this.expandSquare(r,2*this.nbCenterLayers,this.getDimension())}sampleGrid(r,o,l,h,f){let m=Vn.getInstance(),p=this.getDimension(),A=p/2-this.nbCenterLayers,C=p/2+this.nbCenterLayers;return m.sampleGrid(r,p,p,A,A,C,A,C,C,A,C,o.getX(),o.getY(),l.getX(),l.getY(),h.getX(),h.getY(),f.getX(),f.getY())}sampleLine(r,o,l){let h=0,f=this.distanceResultPoint(r,o),m=f/l,p=r.getX(),A=r.getY(),C=m*(o.getX()-r.getX())/f,b=m*(o.getY()-r.getY())/f;for(let O=0;O<l;O++)this.image.get(At.round(p+O*C),At.round(A+O*b))&&(h|=1<<l-O-1);return h}isWhiteOrBlackRectangle(r,o,l,h){let f=3;r=new Ft(r.getX()-f,r.getY()+f),o=new Ft(o.getX()-f,o.getY()-f),l=new Ft(l.getX()+f,l.getY()-f),h=new Ft(h.getX()+f,h.getY()+f);let m=this.getColor(h,r);if(m===0)return!1;let p=this.getColor(r,o);return p!==m||(p=this.getColor(o,l),p!==m)?!1:(p=this.getColor(l,h),p===m)}getColor(r,o){let l=this.distancePoint(r,o),h=(o.getX()-r.getX())/l,f=(o.getY()-r.getY())/l,m=0,p=r.getX(),A=r.getY(),C=this.image.get(r.getX(),r.getY()),b=Math.ceil(l);for(let L=0;L<b;L++)p+=h,A+=f,this.image.get(At.round(p),At.round(A))!==C&&m++;let O=m/l;return O>.1&&O<.9?0:O<=.1===C?1:-1}getFirstDifferent(r,o,l,h){let f=r.getX()+l,m=r.getY()+h;for(;this.isValid(f,m)&&this.image.get(f,m)===o;)f+=l,m+=h;for(f-=l,m-=h;this.isValid(f,m)&&this.image.get(f,m)===o;)f+=l;for(f-=l;this.isValid(f,m)&&this.image.get(f,m)===o;)m+=h;return m-=h,new Ft(f,m)}expandSquare(r,o,l){let h=l/(2*o),f=r[0].getX()-r[2].getX(),m=r[0].getY()-r[2].getY(),p=(r[0].getX()+r[2].getX())/2,A=(r[0].getY()+r[2].getY())/2,C=new Ue(p+h*f,A+h*m),b=new Ue(p-h*f,A-h*m);f=r[1].getX()-r[3].getX(),m=r[1].getY()-r[3].getY(),p=(r[1].getX()+r[3].getX())/2,A=(r[1].getY()+r[3].getY())/2;let O=new Ue(p+h*f,A+h*m),L=new Ue(p-h*f,A-h*m);return[C,O,b,L]}isValid(r,o){return r>=0&&r<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(r){let o=At.round(r.getX()),l=At.round(r.getY());return this.isValid(o,l)}distancePoint(r,o){return At.distance(r.getX(),r.getY(),o.getX(),o.getY())}distanceResultPoint(r,o){return At.distance(r.getX(),r.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(pe.truncDivision(this.nbLayers-4,8)+1)+15}}class pa{decode(r,o=null){let l=null,h=new xo(r.getBlackMatrix()),f=null,m=null;try{let b=h.detectMirror(!1);f=b.getPoints(),this.reportFoundResultPoints(o,f),m=new Wt().decode(b)}catch(b){l=b}if(m==null)try{let b=h.detectMirror(!0);f=b.getPoints(),this.reportFoundResultPoints(o,f),m=new Wt().decode(b)}catch(b){throw l??b}let p=new Ve(m.getText(),m.getRawBytes(),m.getNumBits(),f,Re.AZTEC,oe.currentTimeMillis()),A=m.getByteSegments();A!=null&&p.putMetadata(at.BYTE_SEGMENTS,A);let C=m.getECLevel();return C!=null&&p.putMetadata(at.ERROR_CORRECTION_LEVEL,C),p}reportFoundResultPoints(r,o){if(r!=null){let l=r.get(qe.NEED_RESULT_POINT_CALLBACK);l!=null&&o.forEach((h,f,m)=>{l.foundPossibleResultPoint(h)})}}reset(){}}class Ps extends Ne{constructor(r=500){super(new pa,r)}}class rn{decode(r,o){try{return this.doDecode(r,o)}catch{if(o&&o.get(qe.TRY_HARDER)===!0&&r.isRotateSupported()){const f=r.rotateCounterClockwise(),m=this.doDecode(f,o),p=m.getResultMetadata();let A=270;p!==null&&p.get(at.ORIENTATION)===!0&&(A=A+p.get(at.ORIENTATION)%360),m.putMetadata(at.ORIENTATION,A);const C=m.getResultPoints();if(C!==null){const b=f.getHeight();for(let O=0;O<C.length;O++)C[O]=new Ue(b-C[O].getY()-1,C[O].getX())}return m}else throw new fe}}reset(){}doDecode(r,o){const l=r.getWidth(),h=r.getHeight();let f=new Be(l);const m=o&&o.get(qe.TRY_HARDER)===!0,p=Math.max(1,h>>(m?8:5));let A;m?A=h:A=15;const C=Math.trunc(h/2);for(let b=0;b<A;b++){const O=Math.trunc((b+1)/2),L=(b&1)===0,F=C+p*(L?O:-O);if(F<0||F>=h)break;try{f=r.getBlackRow(F,f)}catch{continue}for(let Y=0;Y<2;Y++){if(Y===1&&(f.reverse(),o&&o.get(qe.NEED_RESULT_POINT_CALLBACK)===!0)){const Q=new Map;o.forEach((ne,ue)=>Q.set(ue,ne)),Q.delete(qe.NEED_RESULT_POINT_CALLBACK),o=Q}try{const Q=this.decodeRow(F,f,o);if(Y===1){Q.putMetadata(at.ORIENTATION,180);const ne=Q.getResultPoints();ne!==null&&(ne[0]=new Ue(l-ne[0].getX()-1,ne[0].getY()),ne[1]=new Ue(l-ne[1].getX()-1,ne[1].getY()))}return Q}catch{}}}throw new fe}static recordPattern(r,o,l){const h=l.length;for(let C=0;C<h;C++)l[C]=0;const f=r.getSize();if(o>=f)throw new fe;let m=!r.get(o),p=0,A=o;for(;A<f;){if(r.get(A)!==m)l[p]++;else{if(++p===h)break;l[p]=1,m=!m}A++}if(!(p===h||p===h-1&&A===f))throw new fe}static recordPatternInReverse(r,o,l){let h=l.length,f=r.get(o);for(;o>0&&h>=0;)r.get(--o)!==f&&(h--,f=!f);if(h>=0)throw new fe;rn.recordPattern(r,o+1,l)}static patternMatchVariance(r,o,l){const h=r.length;let f=0,m=0;for(let C=0;C<h;C++)f+=r[C],m+=o[C];if(f<m)return Number.POSITIVE_INFINITY;const p=f/m;l*=p;let A=0;for(let C=0;C<h;C++){const b=r[C],O=o[C]*p,L=b>O?b-O:O-b;if(L>l)return Number.POSITIVE_INFINITY;A+=L}return A/f}}class Me extends rn{static findStartPattern(r){const o=r.getSize(),l=r.getNextSet(0);let h=0,f=Int32Array.from([0,0,0,0,0,0]),m=l,p=!1;const A=6;for(let C=l;C<o;C++)if(r.get(C)!==p)f[h]++;else{if(h===A-1){let b=Me.MAX_AVG_VARIANCE,O=-1;for(let L=Me.CODE_START_A;L<=Me.CODE_START_C;L++){const F=rn.patternMatchVariance(f,Me.CODE_PATTERNS[L],Me.MAX_INDIVIDUAL_VARIANCE);F<b&&(b=F,O=L)}if(O>=0&&r.isRange(Math.max(0,m-(C-m)/2),m,!1))return Int32Array.from([m,C,O]);m+=f[0]+f[1],f=f.slice(2,f.length-1),f[h-1]=0,f[h]=0,h--}else h++;f[h]=1,p=!p}throw new fe}static decodeCode(r,o,l){rn.recordPattern(r,l,o);let h=Me.MAX_AVG_VARIANCE,f=-1;for(let m=0;m<Me.CODE_PATTERNS.length;m++){const p=Me.CODE_PATTERNS[m],A=this.patternMatchVariance(o,p,Me.MAX_INDIVIDUAL_VARIANCE);A<h&&(h=A,f=m)}if(f>=0)return f;throw new fe}decodeRow(r,o,l){const h=l&&l.get(qe.ASSUME_GS1)===!0,f=Me.findStartPattern(o),m=f[2];let p=0;const A=new Uint8Array(20);A[p++]=m;let C;switch(m){case Me.CODE_START_A:C=Me.CODE_CODE_A;break;case Me.CODE_START_B:C=Me.CODE_CODE_B;break;case Me.CODE_START_C:C=Me.CODE_CODE_C;break;default:throw new H}let b=!1,O=!1,L="",F=f[0],Y=f[1];const Q=Int32Array.from([0,0,0,0,0,0]);let ne=0,ue=0,be=m,De=0,Ie=!0,ut=!1,ot=!1;for(;!b;){const Es=O;switch(O=!1,ne=ue,ue=Me.decodeCode(o,Q,Y),A[p++]=ue,ue!==Me.CODE_STOP&&(Ie=!0),ue!==Me.CODE_STOP&&(De++,be+=De*ue),F=Y,Y+=Q.reduce((_i,Vc)=>_i+Vc,0),ue){case Me.CODE_START_A:case Me.CODE_START_B:case Me.CODE_START_C:throw new H}switch(C){case Me.CODE_CODE_A:if(ue<64)ot===ut?L+=String.fromCharCode(32+ue):L+=String.fromCharCode(32+ue+128),ot=!1;else if(ue<96)ot===ut?L+=String.fromCharCode(ue-64):L+=String.fromCharCode(ue+64),ot=!1;else switch(ue!==Me.CODE_STOP&&(Ie=!1),ue){case Me.CODE_FNC_1:h&&(L.length===0?L+="]C1":L+="");break;case Me.CODE_FNC_2:case Me.CODE_FNC_3:break;case Me.CODE_FNC_4_A:!ut&&ot?(ut=!0,ot=!1):ut&&ot?(ut=!1,ot=!1):ot=!0;break;case Me.CODE_SHIFT:O=!0,C=Me.CODE_CODE_B;break;case Me.CODE_CODE_B:C=Me.CODE_CODE_B;break;case Me.CODE_CODE_C:C=Me.CODE_CODE_C;break;case Me.CODE_STOP:b=!0;break}break;case Me.CODE_CODE_B:if(ue<96)ot===ut?L+=String.fromCharCode(32+ue):L+=String.fromCharCode(32+ue+128),ot=!1;else switch(ue!==Me.CODE_STOP&&(Ie=!1),ue){case Me.CODE_FNC_1:h&&(L.length===0?L+="]C1":L+="");break;case Me.CODE_FNC_2:case Me.CODE_FNC_3:break;case Me.CODE_FNC_4_B:!ut&&ot?(ut=!0,ot=!1):ut&&ot?(ut=!1,ot=!1):ot=!0;break;case Me.CODE_SHIFT:O=!0,C=Me.CODE_CODE_A;break;case Me.CODE_CODE_A:C=Me.CODE_CODE_A;break;case Me.CODE_CODE_C:C=Me.CODE_CODE_C;break;case Me.CODE_STOP:b=!0;break}break;case Me.CODE_CODE_C:if(ue<100)ue<10&&(L+="0"),L+=ue;else switch(ue!==Me.CODE_STOP&&(Ie=!1),ue){case Me.CODE_FNC_1:h&&(L.length===0?L+="]C1":L+="");break;case Me.CODE_CODE_A:C=Me.CODE_CODE_A;break;case Me.CODE_CODE_B:C=Me.CODE_CODE_B;break;case Me.CODE_STOP:b=!0;break}break}Es&&(C=C===Me.CODE_CODE_A?Me.CODE_CODE_B:Me.CODE_CODE_A)}const Cr=Y-F;if(Y=o.getNextUnset(Y),!o.isRange(Y,Math.min(o.getSize(),Y+(Y-F)/2),!1))throw new fe;if(be-=De*ne,be%103!==ne)throw new W;const ai=L.length;if(ai===0)throw new fe;ai>0&&Ie&&(C===Me.CODE_CODE_C?L=L.substring(0,ai-2):L=L.substring(0,ai-1));const Vr=(f[1]+f[0])/2,$t=F+Cr/2,ur=A.length,Ur=new Uint8Array(ur);for(let Es=0;Es<ur;Es++)Ur[Es]=A[Es];const js=[new Ue(Vr,r),new Ue($t,r)];return new Ve(L,Ur,0,js,Re.CODE_128,new Date().getTime())}}Me.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Me.MAX_AVG_VARIANCE=.25,Me.MAX_INDIVIDUAL_VARIANCE=.7,Me.CODE_SHIFT=98,Me.CODE_CODE_C=99,Me.CODE_CODE_B=100,Me.CODE_CODE_A=101,Me.CODE_FNC_1=102,Me.CODE_FNC_2=97,Me.CODE_FNC_3=96,Me.CODE_FNC_4_A=101,Me.CODE_FNC_4_B=100,Me.CODE_START_A=103,Me.CODE_START_B=104,Me.CODE_START_C=105,Me.CODE_STOP=106;class qt extends rn{constructor(r=!1,o=!1){super(),this.usingCheckDigit=r,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(r,o,l){let h=this.counters;h.fill(0),this.decodeRowResult="";let f=qt.findAsteriskPattern(o,h),m=o.getNextSet(f[1]),p=o.getSize(),A,C;do{qt.recordPattern(o,m,h);let Q=qt.toNarrowWidePattern(h);if(Q<0)throw new fe;A=qt.patternToChar(Q),this.decodeRowResult+=A,C=m;for(let ne of h)m+=ne;m=o.getNextSet(m)}while(A!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let b=0;for(let Q of h)b+=Q;let O=m-C-b;if(m!==p&&O*2<b)throw new fe;if(this.usingCheckDigit){let Q=this.decodeRowResult.length-1,ne=0;for(let ue=0;ue<Q;ue++)ne+=qt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ue));if(this.decodeRowResult.charAt(Q)!==qt.ALPHABET_STRING.charAt(ne%43))throw new W;this.decodeRowResult=this.decodeRowResult.substring(0,Q)}if(this.decodeRowResult.length===0)throw new fe;let L;this.extendedMode?L=qt.decodeExtended(this.decodeRowResult):L=this.decodeRowResult;let F=(f[1]+f[0])/2,Y=C+b/2;return new Ve(L,null,0,[new Ue(F,r),new Ue(Y,r)],Re.CODE_39,new Date().getTime())}static findAsteriskPattern(r,o){let l=r.getSize(),h=r.getNextSet(0),f=0,m=h,p=!1,A=o.length;for(let C=h;C<l;C++)if(r.get(C)!==p)o[f]++;else{if(f===A-1){if(this.toNarrowWidePattern(o)===qt.ASTERISK_ENCODING&&r.isRange(Math.max(0,m-Math.floor((C-m)/2)),m,!1))return[m,C];m+=o[0]+o[1],o.copyWithin(0,2,2+f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,p=!p}throw new fe}static toNarrowWidePattern(r){let o=r.length,l=0,h;do{let f=2147483647;for(let A of r)A<f&&A>l&&(f=A);l=f,h=0;let m=0,p=0;for(let A=0;A<o;A++){let C=r[A];C>l&&(p|=1<<o-1-A,h++,m+=C)}if(h===3){for(let A=0;A<o&&h>0;A++){let C=r[A];if(C>l&&(h--,C*2>=m))return-1}return p}}while(h>3);return-1}static patternToChar(r){for(let o=0;o<qt.CHARACTER_ENCODINGS.length;o++)if(qt.CHARACTER_ENCODINGS[o]===r)return qt.ALPHABET_STRING.charAt(o);if(r===qt.ASTERISK_ENCODING)return"*";throw new fe}static decodeExtended(r){let o=r.length,l="";for(let h=0;h<o;h++){let f=r.charAt(h);if(f==="+"||f==="$"||f==="%"||f==="/"){let m=r.charAt(h+1),p="\0";switch(f){case"+":if(m>="A"&&m<="Z")p=String.fromCharCode(m.charCodeAt(0)+32);else throw new H;break;case"$":if(m>="A"&&m<="Z")p=String.fromCharCode(m.charCodeAt(0)-64);else throw new H;break;case"%":if(m>="A"&&m<="E")p=String.fromCharCode(m.charCodeAt(0)-38);else if(m>="F"&&m<="J")p=String.fromCharCode(m.charCodeAt(0)-11);else if(m>="K"&&m<="O")p=String.fromCharCode(m.charCodeAt(0)+16);else if(m>="P"&&m<="T")p=String.fromCharCode(m.charCodeAt(0)+43);else if(m==="U")p="\0";else if(m==="V")p="@";else if(m==="W")p="`";else if(m==="X"||m==="Y"||m==="Z")p="";else throw new H;break;case"/":if(m>="A"&&m<="O")p=String.fromCharCode(m.charCodeAt(0)-32);else if(m==="Z")p=":";else throw new H;break}l+=p,h++}else l+=f}return l}}qt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",qt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],qt.ASTERISK_ENCODING=148;class Pt extends rn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(r,o,l){let h=this.decodeStart(o),f=this.decodeEnd(o),m=new j;Pt.decodeMiddle(o,h[1],f[0],m);let p=m.toString(),A=null;l!=null&&(A=l.get(qe.ALLOWED_LENGTHS)),A==null&&(A=Pt.DEFAULT_ALLOWED_LENGTHS);let C=p.length,b=!1,O=0;for(let Y of A){if(C===Y){b=!0;break}Y>O&&(O=Y)}if(!b&&C>O&&(b=!0),!b)throw new H;const L=[new Ue(h[1],r),new Ue(f[0],r)];return new Ve(p,null,0,L,Re.ITF,new Date().getTime())}static decodeMiddle(r,o,l,h){let f=new Int32Array(10),m=new Int32Array(5),p=new Int32Array(5);for(f.fill(0),m.fill(0),p.fill(0);o<l;){rn.recordPattern(r,o,f);for(let C=0;C<5;C++){let b=2*C;m[C]=f[b],p[C]=f[b+1]}let A=Pt.decodeDigit(m);h.append(A.toString()),A=this.decodeDigit(p),h.append(A.toString()),f.forEach(function(C){o+=C})}}decodeStart(r){let o=Pt.skipWhiteSpace(r),l=Pt.findGuardPattern(r,o,Pt.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(r,l[0]),l}validateQuietZone(r,o){let l=this.narrowLineWidth*10;l=l<o?l:o;for(let h=o-1;l>0&&h>=0&&!r.get(h);h--)l--;if(l!==0)throw new fe}static skipWhiteSpace(r){const o=r.getSize(),l=r.getNextSet(0);if(l===o)throw new fe;return l}decodeEnd(r){r.reverse();try{let o=Pt.skipWhiteSpace(r),l;try{l=Pt.findGuardPattern(r,o,Pt.END_PATTERN_REVERSED[0])}catch(f){f instanceof fe&&(l=Pt.findGuardPattern(r,o,Pt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,l[0]);let h=l[0];return l[0]=r.getSize()-l[1],l[1]=r.getSize()-h,l}finally{r.reverse()}}static findGuardPattern(r,o,l){let h=l.length,f=new Int32Array(h),m=r.getSize(),p=!1,A=0,C=o;f.fill(0);for(let b=o;b<m;b++)if(r.get(b)!==p)f[A]++;else{if(A===h-1){if(rn.patternMatchVariance(f,l,Pt.MAX_INDIVIDUAL_VARIANCE)<Pt.MAX_AVG_VARIANCE)return[C,b];C+=f[0]+f[1],oe.arraycopy(f,2,f,0,A-1),f[A-1]=0,f[A]=0,A--}else A++;f[A]=1,p=!p}throw new fe}static decodeDigit(r){let o=Pt.MAX_AVG_VARIANCE,l=-1,h=Pt.PATTERNS.length;for(let f=0;f<h;f++){let m=Pt.PATTERNS[f],p=rn.patternMatchVariance(r,m,Pt.MAX_INDIVIDUAL_VARIANCE);p<o?(o=p,l=f):p===o&&(l=-1)}if(l>=0)return l%10;throw new fe}}Pt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Pt.MAX_AVG_VARIANCE=.38,Pt.MAX_INDIVIDUAL_VARIANCE=.5,Pt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Pt.START_PATTERN=Int32Array.from([1,1,1,1]),Pt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Qt extends rn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(r){let o=!1,l,h=0,f=Int32Array.from([0,0,0]);for(;!o;){f=Int32Array.from([0,0,0]),l=Qt.findGuardPattern(r,h,!1,this.START_END_PATTERN,f);let m=l[0];h=l[1];let p=m-(h-m);p>=0&&(o=r.isRange(p,m,!1))}return l}static checkChecksum(r){return Qt.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let o=r.length;if(o===0)return!1;let l=parseInt(r.charAt(o-1),10);return Qt.getStandardUPCEANChecksum(r.substring(0,o-1))===l}static getStandardUPCEANChecksum(r){let o=r.length,l=0;for(let h=o-1;h>=0;h-=2){let f=r.charAt(h).charCodeAt(0)-48;if(f<0||f>9)throw new H;l+=f}l*=3;for(let h=o-2;h>=0;h-=2){let f=r.charAt(h).charCodeAt(0)-48;if(f<0||f>9)throw new H;l+=f}return(1e3-l)%10}static decodeEnd(r,o){return Qt.findGuardPattern(r,o,!1,Qt.START_END_PATTERN,new Int32Array(Qt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(r,o,l,h){return this.findGuardPattern(r,o,l,h,new Int32Array(h.length))}static findGuardPattern(r,o,l,h,f){let m=r.getSize();o=l?r.getNextUnset(o):r.getNextSet(o);let p=0,A=o,C=h.length,b=l;for(let O=o;O<m;O++)if(r.get(O)!==b)f[p]++;else{if(p===C-1){if(rn.patternMatchVariance(f,h,Qt.MAX_INDIVIDUAL_VARIANCE)<Qt.MAX_AVG_VARIANCE)return Int32Array.from([A,O]);A+=f[0]+f[1];let L=f.slice(2,f.length-1);for(let F=0;F<p-1;F++)f[F]=L[F];f[p-1]=0,f[p]=0,p--}else p++;f[p]=1,b=!b}throw new fe}static decodeDigit(r,o,l,h){this.recordPattern(r,l,o);let f=this.MAX_AVG_VARIANCE,m=-1,p=h.length;for(let A=0;A<p;A++){let C=h[A],b=rn.patternMatchVariance(o,C,Qt.MAX_INDIVIDUAL_VARIANCE);b<f&&(f=b,m=A)}if(m>=0)return m;throw new fe}}Qt.MAX_AVG_VARIANCE=.48,Qt.MAX_INDIVIDUAL_VARIANCE=.7,Qt.START_END_PATTERN=Int32Array.from([1,1,1]),Qt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Qt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Qt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Qi{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,o,l){let h=this.decodeRowStringBuffer,f=this.decodeMiddle(o,l,h),m=h.toString(),p=Qi.parseExtensionString(m),A=[new Ue((l[0]+l[1])/2,r),new Ue(f,r)],C=new Ve(m,null,0,A,Re.UPC_EAN_EXTENSION,new Date().getTime());return p!=null&&C.putAllMetadata(p),C}decodeMiddle(r,o,l){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let f=r.getSize(),m=o[1],p=0;for(let C=0;C<5&&m<f;C++){let b=Qt.decodeDigit(r,h,m,Qt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+b%10);for(let O of h)m+=O;b>=10&&(p|=1<<4-C),C!==4&&(m=r.getNextSet(m),m=r.getNextUnset(m))}if(l.length!==5)throw new fe;let A=this.determineCheckDigit(p);if(Qi.extensionChecksum(l.toString())!==A)throw new fe;return m}static extensionChecksum(r){let o=r.length,l=0;for(let h=o-2;h>=0;h-=2)l+=r.charAt(h).charCodeAt(0)-48;l*=3;for(let h=o-1;h>=0;h-=2)l+=r.charAt(h).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(r){for(let o=0;o<10;o++)if(r===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new fe}static parseExtensionString(r){if(r.length!==5)return null;let o=Qi.parseExtension5String(r);return o==null?null:new Map([[at.SUGGESTED_PRICE,o]])}static parseExtension5String(r){let o;switch(r.charAt(0)){case"0":o="£";break;case"5":o="$";break;case"9":switch(r){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let l=parseInt(r.substring(1)),h=(l/100).toString(),f=l%100,m=f<10?"0"+f:f.toString();return o+h+"."+m}}class Bs{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,o,l){let h=this.decodeRowStringBuffer,f=this.decodeMiddle(o,l,h),m=h.toString(),p=Bs.parseExtensionString(m),A=[new Ue((l[0]+l[1])/2,r),new Ue(f,r)],C=new Ve(m,null,0,A,Re.UPC_EAN_EXTENSION,new Date().getTime());return p!=null&&C.putAllMetadata(p),C}decodeMiddle(r,o,l){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let f=r.getSize(),m=o[1],p=0;for(let A=0;A<2&&m<f;A++){let C=Qt.decodeDigit(r,h,m,Qt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+C%10);for(let b of h)m+=b;C>=10&&(p|=1<<1-A),A!==1&&(m=r.getNextSet(m),m=r.getNextUnset(m))}if(l.length!==2)throw new fe;if(parseInt(l.toString())%4!==p)throw new fe;return m}static parseExtensionString(r){return r.length!==2?null:new Map([[at.ISSUE_NUMBER,parseInt(r)]])}}class ya{static decodeRow(r,o,l){let h=Qt.findGuardPattern(o,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Qi().decodeRow(r,o,h)}catch{return new Bs().decodeRow(r,o,h)}}}ya.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class dt extends Qt{constructor(){super(),this.decodeRowStringBuffer="",dt.L_AND_G_PATTERNS=dt.L_PATTERNS.map(r=>Int32Array.from(r));for(let r=10;r<20;r++){let o=dt.L_PATTERNS[r-10],l=new Int32Array(o.length);for(let h=0;h<o.length;h++)l[h]=o[o.length-h-1];dt.L_AND_G_PATTERNS[r]=l}}decodeRow(r,o,l){let h=dt.findStartGuardPattern(o),f=l==null?null:l.get(qe.NEED_RESULT_POINT_CALLBACK);if(f!=null){const Ie=new Ue((h[0]+h[1])/2,r);f.foundPossibleResultPoint(Ie)}let m=this.decodeMiddle(o,h,this.decodeRowStringBuffer),p=m.rowOffset,A=m.resultString;if(f!=null){const Ie=new Ue(p,r);f.foundPossibleResultPoint(Ie)}let C=this.decodeEnd(o,p);if(f!=null){const Ie=new Ue((C[0]+C[1])/2,r);f.foundPossibleResultPoint(Ie)}let b=C[1],O=b+(b-C[0]);if(O>=o.getSize()||!o.isRange(b,O,!1))throw new fe;let L=A.toString();if(L.length<8)throw new H;if(!dt.checkChecksum(L))throw new W;let F=(h[1]+h[0])/2,Y=(C[1]+C[0])/2,Q=this.getBarcodeFormat(),ne=[new Ue(F,r),new Ue(Y,r)],ue=new Ve(L,null,0,ne,Q,new Date().getTime()),be=0;try{let Ie=ya.decodeRow(r,o,C[1]);ue.putMetadata(at.UPC_EAN_EXTENSION,Ie.getText()),ue.putAllMetadata(Ie.getResultMetadata()),ue.addResultPoints(Ie.getResultPoints()),be=Ie.getText().length}catch{}let De=l==null?null:l.get(qe.ALLOWED_EAN_EXTENSIONS);if(De!=null){let Ie=!1;for(let ut in De)if(be.toString()===ut){Ie=!0;break}if(!Ie)throw new fe}return ue}decodeEnd(r,o){return dt.findGuardPattern(r,o,!1,dt.START_END_PATTERN,new Int32Array(dt.START_END_PATTERN.length).fill(0))}static checkChecksum(r){return dt.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let o=r.length;if(o===0)return!1;let l=parseInt(r.charAt(o-1),10);return dt.getStandardUPCEANChecksum(r.substring(0,o-1))===l}static getStandardUPCEANChecksum(r){let o=r.length,l=0;for(let h=o-1;h>=0;h-=2){let f=r.charAt(h).charCodeAt(0)-48;if(f<0||f>9)throw new H;l+=f}l*=3;for(let h=o-2;h>=0;h-=2){let f=r.charAt(h).charCodeAt(0)-48;if(f<0||f>9)throw new H;l+=f}return(1e3-l)%10}}class _r extends dt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,o,l){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let f=r.getSize(),m=o[1],p=0;for(let C=0;C<6&&m<f;C++){let b=dt.decodeDigit(r,h,m,dt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+b%10);for(let O of h)m+=O;b>=10&&(p|=1<<5-C)}l=_r.determineFirstDigit(l,p),m=dt.findGuardPattern(r,m,!0,dt.MIDDLE_PATTERN,new Int32Array(dt.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<6&&m<f;C++){let b=dt.decodeDigit(r,h,m,dt.L_PATTERNS);l+=String.fromCharCode(48+b);for(let O of h)m+=O}return{rowOffset:m,resultString:l}}getBarcodeFormat(){return Re.EAN_13}static determineFirstDigit(r,o){for(let l=0;l<10;l++)if(o===this.FIRST_DIGIT_ENCODINGS[l])return r=String.fromCharCode(48+l)+r,r;throw new fe}}_r.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ea extends dt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,o,l){const h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let f=r.getSize(),m=o[1];for(let A=0;A<4&&m<f;A++){let C=dt.decodeDigit(r,h,m,dt.L_PATTERNS);l+=String.fromCharCode(48+C);for(let b of h)m+=b}m=dt.findGuardPattern(r,m,!0,dt.MIDDLE_PATTERN,new Int32Array(dt.MIDDLE_PATTERN.length).fill(0))[1];for(let A=0;A<4&&m<f;A++){let C=dt.decodeDigit(r,h,m,dt.L_PATTERNS);l+=String.fromCharCode(48+C);for(let b of h)m+=b}return{rowOffset:m,resultString:l}}getBarcodeFormat(){return Re.EAN_8}}class hi extends dt{constructor(){super(...arguments),this.ean13Reader=new _r}getBarcodeFormat(){return Re.UPC_A}decode(r,o){return this.maybeReturnResult(this.ean13Reader.decode(r))}decodeRow(r,o,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,o,l))}decodeMiddle(r,o,l){return this.ean13Reader.decodeMiddle(r,o,l)}maybeReturnResult(r){let o=r.getText();if(o.charAt(0)==="0"){let l=new Ve(o.substring(1),null,null,r.getResultPoints(),Re.UPC_A);return r.getResultMetadata()!=null&&l.putAllMetadata(r.getResultMetadata()),l}else throw new fe}reset(){this.ean13Reader.reset()}}class Ar extends dt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(r,o,l){const h=this.decodeMiddleCounters.map(C=>C);h[0]=0,h[1]=0,h[2]=0,h[3]=0;const f=r.getSize();let m=o[1],p=0;for(let C=0;C<6&&m<f;C++){const b=Ar.decodeDigit(r,h,m,Ar.L_AND_G_PATTERNS);l+=String.fromCharCode(48+b%10);for(let O of h)m+=O;b>=10&&(p|=1<<5-C)}let A=Ar.determineNumSysAndCheckDigit(l,p);return{rowOffset:m,resultString:A}}decodeEnd(r,o){return Ar.findGuardPatternWithoutCounters(r,o,!0,Ar.MIDDLE_END_PATTERN)}checkChecksum(r){return dt.checkChecksum(Ar.convertUPCEtoUPCA(r))}static determineNumSysAndCheckDigit(r,o){for(let l=0;l<=1;l++)for(let h=0;h<10;h++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][h]){let f=String.fromCharCode(48+l),m=String.fromCharCode(48+h);return f+r+m}throw fe.getNotFoundInstance()}getBarcodeFormat(){return Re.UPC_E}static convertUPCEtoUPCA(r){const o=r.slice(1,7).split("").map(f=>f.charCodeAt(0)),l=new j;l.append(r.charAt(0));let h=o[5];switch(h){case 0:case 1:case 2:l.appendChars(o,0,2),l.append(h),l.append("0000"),l.appendChars(o,2,3);break;case 3:l.appendChars(o,0,3),l.append("00000"),l.appendChars(o,3,2);break;case 4:l.appendChars(o,0,4),l.append("00000"),l.append(o[4]);break;default:l.appendChars(o,0,5),l.append("0000"),l.append(h);break}return r.length>=8&&l.append(r.charAt(7)),l.toString()}}Ar.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ar.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Di extends rn{constructor(r){super();let o=r==null?null:r.get(qe.POSSIBLE_FORMATS),l=[];a(o)?(l.push(new _r),l.push(new hi),l.push(new Ea),l.push(new Ar)):(o.indexOf(Re.EAN_13)>-1&&l.push(new _r),o.indexOf(Re.UPC_A)>-1&&l.push(new hi),o.indexOf(Re.EAN_8)>-1&&l.push(new Ea),o.indexOf(Re.UPC_E)>-1&&l.push(new Ar)),this.readers=l}decodeRow(r,o,l){for(let h of this.readers)try{const f=h.decodeRow(r,o,l),m=f.getBarcodeFormat()===Re.EAN_13&&f.getText().charAt(0)==="0",p=l==null?null:l.get(qe.POSSIBLE_FORMATS),A=p==null||p.includes(Re.UPC_A);if(m&&A){const C=f.getRawBytes(),b=new Ve(f.getText().substring(1),C,C?C.length:null,f.getResultPoints(),Re.UPC_A);return b.putAllMetadata(f.getResultMetadata()),b}return f}catch{}throw new fe}reset(){for(let r of this.readers)r.reset()}}class Ln extends rn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(r,o){for(let l=0;l<o.length;l++)if(rn.patternMatchVariance(r,o[l],Ln.MAX_INDIVIDUAL_VARIANCE)<Ln.MAX_AVG_VARIANCE)return l;throw new fe}static count(r){return At.sum(new Int32Array(r))}static increment(r,o){let l=0,h=o[0];for(let f=1;f<r.length;f++)o[f]>h&&(h=o[f],l=f);r[l]++}static decrement(r,o){let l=0,h=o[0];for(let f=1;f<r.length;f++)o[f]<h&&(h=o[f],l=f);r[l]--}static isFinderPattern(r){let o=r[0]+r[1],l=o+r[2]+r[3],h=o/l;if(h>=Ln.MIN_FINDER_PATTERN_RATIO&&h<=Ln.MAX_FINDER_PATTERN_RATIO){let f=Number.MAX_SAFE_INTEGER,m=Number.MIN_SAFE_INTEGER;for(let p of r)p>m&&(m=p),p<f&&(f=p);return m<10*f}return!1}}Ln.MAX_AVG_VARIANCE=.2,Ln.MAX_INDIVIDUAL_VARIANCE=.45,Ln.MIN_FINDER_PATTERN_RATIO=9.5/12,Ln.MAX_FINDER_PATTERN_RATIO=12.5/14;class Xr{constructor(r,o){this.value=r,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(r){if(!(r instanceof Xr))return!1;const o=r;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ks{constructor(r,o,l,h,f){this.value=r,this.startEnd=o,this.value=r,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new Ue(l,f)),this.resultPoints.push(new Ue(h,f))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(r){if(!(r instanceof ks))return!1;const o=r;return this.value===o.value}hashCode(){return this.value}}class Mt{constructor(){}static getRSSvalue(r,o,l){let h=0;for(let A of r)h+=A;let f=0,m=0,p=r.length;for(let A=0;A<p-1;A++){let C;for(C=1,m|=1<<A;C<r[A];C++,m&=~(1<<A)){let b=Mt.combins(h-C-1,p-A-2);if(l&&m===0&&h-C-(p-A-1)>=p-A-1&&(b-=Mt.combins(h-C-(p-A),p-A-2)),p-A-1>1){let O=0;for(let L=h-C-(p-A-2);L>o;L--)O+=Mt.combins(h-C-L-1,p-A-3);b-=O*(p-1-A)}else h-C>o&&b--;f+=b}h-=C}return f}static combins(r,o){let l,h;r-o>o?(h=o,l=r-o):(h=r-o,l=o);let f=1,m=1;for(let p=r;p>l;p--)f*=p,m<=h&&(f/=m,m++);for(;m<=h;)f/=m,m++;return f}}class qn{static buildBitArray(r){let o=r.length*2-1;r[r.length-1].getRightChar()==null&&(o-=1);let l=12*o,h=new Be(l),f=0,p=r[0].getRightChar().getValue();for(let A=11;A>=0;--A)(p&1<<A)!=0&&h.set(f),f++;for(let A=1;A<r.length;++A){let C=r[A],b=C.getLeftChar().getValue();for(let O=11;O>=0;--O)(b&1<<O)!=0&&h.set(f),f++;if(C.getRightChar()!=null){let O=C.getRightChar().getValue();for(let L=11;L>=0;--L)(O&1<<L)!=0&&h.set(f),f++}}return h}}class sn{constructor(r,o){o?this.decodedInformation=null:(this.finished=r,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Mr{constructor(r){this.newPosition=r}getNewPosition(){return this.newPosition}}class $n extends Mr{constructor(r,o){super(r),this.value=o}getValue(){return this.value}isFNC1(){return this.value===$n.FNC1}}$n.FNC1="$";class Ki extends Mr{constructor(r,o,l){super(r),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Yn extends Mr{constructor(r,o,l){if(super(r),o<0||o>10||l<0||l>10)throw new H;this.firstDigit=o,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Yn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Yn.FNC1}isAnyFNC1(){return this.firstDigit===Yn.FNC1||this.secondDigit===Yn.FNC1}}Yn.FNC1=10;class ke{constructor(){}static parseFieldsInGeneralPurpose(r){if(!r)return null;if(r.length<2)throw new fe;let o=r.substring(0,2);for(let f of ke.TWO_DIGIT_DATA_LENGTH)if(f[0]===o)return f[1]===ke.VARIABLE_LENGTH?ke.processVariableAI(2,f[2],r):ke.processFixedAI(2,f[1],r);if(r.length<3)throw new fe;let l=r.substring(0,3);for(let f of ke.THREE_DIGIT_DATA_LENGTH)if(f[0]===l)return f[1]===ke.VARIABLE_LENGTH?ke.processVariableAI(3,f[2],r):ke.processFixedAI(3,f[1],r);for(let f of ke.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(f[0]===l)return f[1]===ke.VARIABLE_LENGTH?ke.processVariableAI(4,f[2],r):ke.processFixedAI(4,f[1],r);if(r.length<4)throw new fe;let h=r.substring(0,4);for(let f of ke.FOUR_DIGIT_DATA_LENGTH)if(f[0]===h)return f[1]===ke.VARIABLE_LENGTH?ke.processVariableAI(4,f[2],r):ke.processFixedAI(4,f[1],r);throw new fe}static processFixedAI(r,o,l){if(l.length<r)throw new fe;let h=l.substring(0,r);if(l.length<r+o)throw new fe;let f=l.substring(r,r+o),m=l.substring(r+o),p="("+h+")"+f,A=ke.parseFieldsInGeneralPurpose(m);return A==null?p:p+A}static processVariableAI(r,o,l){let h=l.substring(0,r),f;l.length<r+o?f=l.length:f=r+o;let m=l.substring(r,f),p=l.substring(f),A="("+h+")"+m,C=ke.parseFieldsInGeneralPurpose(p);return C==null?A:A+C}}ke.VARIABLE_LENGTH=[],ke.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ke.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ke.VARIABLE_LENGTH,20],["22",ke.VARIABLE_LENGTH,29],["30",ke.VARIABLE_LENGTH,8],["37",ke.VARIABLE_LENGTH,8],["90",ke.VARIABLE_LENGTH,30],["91",ke.VARIABLE_LENGTH,30],["92",ke.VARIABLE_LENGTH,30],["93",ke.VARIABLE_LENGTH,30],["94",ke.VARIABLE_LENGTH,30],["95",ke.VARIABLE_LENGTH,30],["96",ke.VARIABLE_LENGTH,30],["97",ke.VARIABLE_LENGTH,3],["98",ke.VARIABLE_LENGTH,30],["99",ke.VARIABLE_LENGTH,30]],ke.THREE_DIGIT_DATA_LENGTH=[["240",ke.VARIABLE_LENGTH,30],["241",ke.VARIABLE_LENGTH,30],["242",ke.VARIABLE_LENGTH,6],["250",ke.VARIABLE_LENGTH,30],["251",ke.VARIABLE_LENGTH,30],["253",ke.VARIABLE_LENGTH,17],["254",ke.VARIABLE_LENGTH,20],["400",ke.VARIABLE_LENGTH,30],["401",ke.VARIABLE_LENGTH,30],["402",17],["403",ke.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ke.VARIABLE_LENGTH,20],["421",ke.VARIABLE_LENGTH,15],["422",3],["423",ke.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ke.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ke.VARIABLE_LENGTH,15],["391",ke.VARIABLE_LENGTH,18],["392",ke.VARIABLE_LENGTH,15],["393",ke.VARIABLE_LENGTH,18],["703",ke.VARIABLE_LENGTH,30]],ke.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ke.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ke.VARIABLE_LENGTH,20],["8003",ke.VARIABLE_LENGTH,30],["8004",ke.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ke.VARIABLE_LENGTH,30],["8008",ke.VARIABLE_LENGTH,12],["8018",18],["8020",ke.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ke.VARIABLE_LENGTH,70],["8200",ke.VARIABLE_LENGTH,70]];class $r{constructor(r){this.buffer=new j,this.information=r}decodeAllCodes(r,o){let l=o,h=null;do{let f=this.decodeGeneralPurposeField(l,h),m=ke.parseFieldsInGeneralPurpose(f.getNewString());if(m!=null&&r.append(m),f.isRemaining()?h=""+f.getRemainingValue():h=null,l===f.getNewPosition())break;l=f.getNewPosition()}while(!0);return r.toString()}isStillNumeric(r){if(r+7>this.information.getSize())return r+4<=this.information.getSize();for(let o=r;o<r+3;++o)if(this.information.get(o))return!0;return this.information.get(r+3)}decodeNumeric(r){if(r+7>this.information.getSize()){let f=this.extractNumericValueFromBitArray(r,4);return f===0?new Yn(this.information.getSize(),Yn.FNC1,Yn.FNC1):new Yn(this.information.getSize(),f-1,Yn.FNC1)}let o=this.extractNumericValueFromBitArray(r,7),l=(o-8)/11,h=(o-8)%11;return new Yn(r+7,l,h)}extractNumericValueFromBitArray(r,o){return $r.extractNumericValueFromBitArray(this.information,r,o)}static extractNumericValueFromBitArray(r,o,l){let h=0;for(let f=0;f<l;++f)r.get(o+f)&&(h|=1<<l-f-1);return h}decodeGeneralPurposeField(r,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(r);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new Ki(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new Ki(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let r,o;do{let l=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),r=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),r=o.isFinished()):(o=this.parseNumericBlock(),r=o.isFinished()),!(l!==this.current.getPosition())&&!r)break}while(!r);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let r=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFirstDigitFNC1()){let o;return r.isSecondDigitFNC1()?o=new Ki(this.current.getPosition(),this.buffer.toString()):o=new Ki(this.current.getPosition(),this.buffer.toString(),r.getSecondDigit()),new sn(!0,o)}if(this.buffer.append(r.getFirstDigit()),r.isSecondDigitFNC1()){let o=new Ki(this.current.getPosition(),this.buffer.toString());return new sn(!0,o)}this.buffer.append(r.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new sn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let r=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let o=new Ki(this.current.getPosition(),this.buffer.toString());return new sn(!0,o)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new sn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let r=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let o=new Ki(this.current.getPosition(),this.buffer.toString());return new sn(!0,o)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new sn(!1)}isStillIsoIec646(r){if(r+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,5);if(o>=5&&o<16)return!0;if(r+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(r,7);if(l>=64&&l<116)return!0;if(r+8>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(r,8);return h>=232&&h<253}decodeIsoIec646(r){let o=this.extractNumericValueFromBitArray(r,5);if(o===15)return new $n(r+5,$n.FNC1);if(o>=5&&o<15)return new $n(r+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(r,7);if(l>=64&&l<90)return new $n(r+7,""+(l+1));if(l>=90&&l<116)return new $n(r+7,""+(l+7));let h=this.extractNumericValueFromBitArray(r,8),f;switch(h){case 232:f="!";break;case 233:f='"';break;case 234:f="%";break;case 235:f="&";break;case 236:f="'";break;case 237:f="(";break;case 238:f=")";break;case 239:f="*";break;case 240:f="+";break;case 241:f=",";break;case 242:f="-";break;case 243:f=".";break;case 244:f="/";break;case 245:f=":";break;case 246:f=";";break;case 247:f="<";break;case 248:f="=";break;case 249:f=">";break;case 250:f="?";break;case 251:f="_";break;case 252:f=" ";break;default:throw new H}return new $n(r+8,f)}isStillAlpha(r){if(r+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,5);if(o>=5&&o<16)return!0;if(r+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(r,6);return l>=16&&l<63}decodeAlphanumeric(r){let o=this.extractNumericValueFromBitArray(r,5);if(o===15)return new $n(r+5,$n.FNC1);if(o>=5&&o<15)return new $n(r+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(r,6);if(l>=32&&l<58)return new $n(r+6,""+(l+33));let h;switch(l){case 58:h="*";break;case 59:h=",";break;case 60:h="-";break;case 61:h=".";break;case 62:h="/";break;default:throw new Or("Decoding invalid alphanumeric value: "+l)}return new $n(r+6,h)}isAlphaTo646ToAlphaLatch(r){if(r+1>this.information.getSize())return!1;for(let o=0;o<5&&o+r<this.information.getSize();++o)if(o===2){if(!this.information.get(r+2))return!1}else if(this.information.get(r+o))return!1;return!0}isAlphaOr646ToNumericLatch(r){if(r+3>this.information.getSize())return!1;for(let o=r;o<r+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(r){if(r+1>this.information.getSize())return!1;for(let o=0;o<4&&o+r<this.information.getSize();++o)if(this.information.get(r+o))return!1;return!0}}class Oi{constructor(r){this.information=r,this.generalDecoder=new $r(r)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class vn extends Oi{constructor(r){super(r)}encodeCompressedGtin(r,o){r.append("(01)");let l=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,o,l)}encodeCompressedGtinWithoutAI(r,o,l){for(let h=0;h<4;++h){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*h,10);f/100===0&&r.append("0"),f/10===0&&r.append("0"),r.append(f)}vn.appendCheckDigit(r,l)}static appendCheckDigit(r,o){let l=0;for(let h=0;h<13;h++){let f=r.charAt(h+o).charCodeAt(0)-48;l+=(h&1)===0?3*f:f}l=10-l%10,l===10&&(l=0),r.append(l)}}vn.GTIN_SIZE=40;class xr extends vn{constructor(r){super(r)}parseInformation(){let r=new j;r.append("(01)");let o=r.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(xr.HEADER_SIZE,4);return r.append(l),this.encodeCompressedGtinWithoutAI(r,xr.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(r,xr.HEADER_SIZE+44)}}xr.HEADER_SIZE=4;class Wr extends Oi{constructor(r){super(r)}parseInformation(){let r=new j;return this.getGeneralDecoder().decodeAllCodes(r,Wr.HEADER_SIZE)}}Wr.HEADER_SIZE=5;class er extends vn{constructor(r){super(r)}encodeCompressedWeight(r,o,l){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(o,l);this.addWeightCode(r,h);let f=this.checkWeight(h),m=1e5;for(let p=0;p<5;++p)f/m===0&&r.append("0"),m/=10;r.append(f)}}class zt extends er{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()!=zt.HEADER_SIZE+er.GTIN_SIZE+zt.WEIGHT_SIZE)throw new fe;let r=new j;return this.encodeCompressedGtin(r,zt.HEADER_SIZE),this.encodeCompressedWeight(r,zt.HEADER_SIZE+er.GTIN_SIZE,zt.WEIGHT_SIZE),r.toString()}}zt.HEADER_SIZE=5,zt.WEIGHT_SIZE=15;class wo extends zt{constructor(r){super(r)}addWeightCode(r,o){r.append("(3103)")}checkWeight(r){return r}}class _a extends zt{constructor(r){super(r)}addWeightCode(r,o){o<1e4?r.append("(3202)"):r.append("(3203)")}checkWeight(r){return r<1e4?r:r-1e4}}class Un extends vn{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<Un.HEADER_SIZE+vn.GTIN_SIZE)throw new fe;let r=new j;this.encodeCompressedGtin(r,Un.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Un.HEADER_SIZE+vn.GTIN_SIZE,Un.LAST_DIGIT_SIZE);r.append("(392"),r.append(o),r.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(Un.HEADER_SIZE+vn.GTIN_SIZE+Un.LAST_DIGIT_SIZE,null);return r.append(l.getNewString()),r.toString()}}Un.HEADER_SIZE=8,Un.LAST_DIGIT_SIZE=2;class En extends vn{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<En.HEADER_SIZE+vn.GTIN_SIZE)throw new fe;let r=new j;this.encodeCompressedGtin(r,En.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(En.HEADER_SIZE+vn.GTIN_SIZE,En.LAST_DIGIT_SIZE);r.append("(393"),r.append(o),r.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(En.HEADER_SIZE+vn.GTIN_SIZE+En.LAST_DIGIT_SIZE,En.FIRST_THREE_DIGITS_SIZE);l/100==0&&r.append("0"),l/10==0&&r.append("0"),r.append(l);let h=this.getGeneralDecoder().decodeGeneralPurposeField(En.HEADER_SIZE+vn.GTIN_SIZE+En.LAST_DIGIT_SIZE+En.FIRST_THREE_DIGITS_SIZE,null);return r.append(h.getNewString()),r.toString()}}En.HEADER_SIZE=8,En.LAST_DIGIT_SIZE=2,En.FIRST_THREE_DIGITS_SIZE=10;class Jt extends er{constructor(r,o,l){super(r),this.dateCode=l,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=Jt.HEADER_SIZE+Jt.GTIN_SIZE+Jt.WEIGHT_SIZE+Jt.DATE_SIZE)throw new fe;let r=new j;return this.encodeCompressedGtin(r,Jt.HEADER_SIZE),this.encodeCompressedWeight(r,Jt.HEADER_SIZE+Jt.GTIN_SIZE,Jt.WEIGHT_SIZE),this.encodeCompressedDate(r,Jt.HEADER_SIZE+Jt.GTIN_SIZE+Jt.WEIGHT_SIZE),r.toString()}encodeCompressedDate(r,o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(o,Jt.DATE_SIZE);if(l==38400)return;r.append("("),r.append(this.dateCode),r.append(")");let h=l%32;l/=32;let f=l%12+1;l/=12;let m=l;m/10==0&&r.append("0"),r.append(m),f/10==0&&r.append("0"),r.append(f),h/10==0&&r.append("0"),r.append(h)}addWeightCode(r,o){r.append("("),r.append(this.firstAIdigits),r.append(o/1e5),r.append(")")}checkWeight(r){return r%1e5}}Jt.HEADER_SIZE=8,Jt.WEIGHT_SIZE=20,Jt.DATE_SIZE=16;function To(D){try{if(D.get(1))return new xr(D);if(!D.get(2))return new Wr(D);switch($r.extractNumericValueFromBitArray(D,1,4)){case 4:return new wo(D);case 5:return new _a(D)}switch($r.extractNumericValueFromBitArray(D,1,5)){case 12:return new Un(D);case 13:return new En(D)}switch($r.extractNumericValueFromBitArray(D,1,7)){case 56:return new Jt(D,"310","11");case 57:return new Jt(D,"320","11");case 58:return new Jt(D,"310","13");case 59:return new Jt(D,"320","13");case 60:return new Jt(D,"310","15");case 61:return new Jt(D,"320","15");case 62:return new Jt(D,"310","17");case 63:return new Jt(D,"320","17")}}catch(r){throw console.log(r),new Or("unknown decoder: "+D)}}class Lr{constructor(r,o,l,h){this.leftchar=r,this.rightchar=o,this.finderpattern=l,this.maybeLast=h}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(r,o){return r instanceof Lr?Lr.equalsOrNull(r.leftchar,o.leftchar)&&Lr.equalsOrNull(r.rightchar,o.rightchar)&&Lr.equalsOrNull(r.finderpattern,o.finderpattern):!1}static equalsOrNull(r,o){return r===null?o===null:Lr.equals(r,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Aa{constructor(r,o,l){this.pairs=r,this.rowNumber=o,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(r){return this.checkEqualitity(this,r)}toString(){return"{ "+this.pairs+" }"}equals(r,o){return r instanceof Aa?this.checkEqualitity(r,o)&&r.wasReversed===o.wasReversed:!1}checkEqualitity(r,o){if(!r||!o)return;let l;return r.forEach((h,f)=>{o.forEach(m=>{h.getLeftChar().getValue()===m.getLeftChar().getValue()&&h.getRightChar().getValue()===m.getRightChar().getValue()&&h.getFinderPatter().getValue()===m.getFinderPatter().getValue()&&(l=!0)})}),l}}class xe extends Ln{constructor(r){super(...arguments),this.pairs=new Array(xe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=r===!0}decodeRow(r,o,l){this.pairs.length=0,this.startFromEven=!1;try{return xe.constructResult(this.decodeRow2pairs(r,o))}catch(h){this.verbose&&console.log(h)}return this.pairs.length=0,this.startFromEven=!0,xe.constructResult(this.decodeRow2pairs(r,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(r,o){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,r))}catch(f){if(f instanceof fe){if(!this.pairs.length)throw new fe;l=!0}}if(this.checkChecksum())return this.pairs;let h;if(this.rows.length?h=!0:h=!1,this.storeRow(r,!1),h){let f=this.checkRowsBoolean(!1);if(f!=null||(f=this.checkRowsBoolean(!0),f!=null))return f}throw new fe}checkRowsBoolean(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return r&&(this.rows=this.rows.reverse()),o}checkRows(r,o){for(let l=o;l<this.rows.length;l++){let h=this.rows[l];this.pairs.length=0;for(let m of r)this.pairs.push(m.getPairs());if(this.pairs.push(h.getPairs()),!xe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let f=new Array(r);f.push(h);try{return this.checkRows(f,l+1)}catch(m){this.verbose&&console.log(m)}}throw new fe}static isValidSequence(r){for(let o of xe.FINDER_PATTERN_SEQUENCES){if(r.length>o.length)continue;let l=!0;for(let h=0;h<r.length;h++)if(r[h].getFinderPattern().getValue()!=o[h]){l=!1;break}if(l)return!0}return!1}storeRow(r,o){let l=0,h=!1,f=!1;for(;l<this.rows.length;){let m=this.rows[l];if(m.getRowNumber()>r){f=m.isEquivalent(this.pairs);break}h=m.isEquivalent(this.pairs),l++}f||h||xe.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new Aa(this.pairs,r,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(r,o){for(let l of o)if(l.getPairs().length!==r.length){for(let h of l.getPairs())for(let f of r)if(Lr.equals(h,f))break}}static isPartialRow(r,o){for(let l of o){let h=!0;for(let f of r){let m=!1;for(let p of l.getPairs())if(f.equals(p)){m=!0;break}if(!m){h=!1;break}}if(h)return!0}return!1}getRows(){return this.rows}static constructResult(r){let o=qn.buildBitArray(r),h=To(o).parseInformation(),f=r[0].getFinderPattern().getResultPoints(),m=r[r.length-1].getFinderPattern().getResultPoints(),p=[f[0],f[1],m[0],m[1]];return new Ve(h,null,null,p,Re.RSS_EXPANDED,null)}checkChecksum(){let r=this.pairs.get(0),o=r.getLeftChar(),l=r.getRightChar();if(l==null)return!1;let h=l.getChecksumPortion(),f=2;for(let p=1;p<this.pairs.size();++p){let A=this.pairs.get(p);h+=A.getLeftChar().getChecksumPortion(),f++;let C=A.getRightChar();C!=null&&(h+=C.getChecksumPortion(),f++)}return h%=211,211*(f-4)+h==o.getValue()}static getNextSecondBar(r,o){let l;return r.get(o)?(l=r.getNextUnset(o),l=r.getNextSet(l)):(l=r.getNextSet(o),l=r.getNextUnset(l)),l}retrieveNextPair(r,o,l){let h=o.length%2==0;this.startFromEven&&(h=!h);let f,m=!0,p=-1;do this.findNextPair(r,o,p),f=this.parseFoundFinderPattern(r,l,h),f==null?p=xe.getNextSecondBar(r,this.startEnd[0]):m=!1;while(m);let A=this.decodeDataCharacter(r,f,h,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new fe;let C;try{C=this.decodeDataCharacter(r,f,h,!1)}catch(b){C=null,this.verbose&&console.log(b)}return new Lr(A,C,f,!0)}isEmptyPair(r){return r.length===0}findNextPair(r,o,l){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let f=r.getSize(),m;l>=0?m=l:this.isEmptyPair(o)?m=0:m=o[o.length-1].getFinderPattern().getStartEnd()[1];let p=o.length%2!=0;this.startFromEven&&(p=!p);let A=!1;for(;m<f&&(A=!r.get(m),!!A);)m++;let C=0,b=m;for(let O=m;O<f;O++)if(r.get(O)!=A)h[C]++;else{if(C==3){if(p&&xe.reverseCounters(h),xe.isFinderPattern(h)){this.startEnd[0]=b,this.startEnd[1]=O;return}p&&xe.reverseCounters(h),b+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,C--}else C++;h[C]=1,A=!A}throw new fe}static reverseCounters(r){let o=r.length;for(let l=0;l<o/2;++l){let h=r[l];r[l]=r[o-l-1],r[o-l-1]=h}}parseFoundFinderPattern(r,o,l){let h,f,m;if(l){let C=this.startEnd[0]-1;for(;C>=0&&!r.get(C);)C--;C++,h=this.startEnd[0]-C,f=C,m=this.startEnd[1]}else f=this.startEnd[0],m=r.getNextUnset(this.startEnd[1]+1),h=m-this.startEnd[1];let p=this.getDecodeFinderCounters();oe.arraycopy(p,0,p,1,p.length-1),p[0]=h;let A;try{A=this.parseFinderValue(p,xe.FINDER_PATTERNS)}catch{return null}return new ks(A,[f,m],f,m,o)}decodeDataCharacter(r,o,l,h){let f=this.getDataCharacterCounters();for(let $t=0;$t<f.length;$t++)f[$t]=0;if(h)xe.recordPatternInReverse(r,o.getStartEnd()[0],f);else{xe.recordPattern(r,o.getStartEnd()[1],f);for(let $t=0,ur=f.length-1;$t<ur;$t++,ur--){let Ur=f[$t];f[$t]=f[ur],f[ur]=Ur}}let m=17,p=At.sum(new Int32Array(f))/m,A=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(p-A)/A>.3)throw new fe;let C=this.getOddCounts(),b=this.getEvenCounts(),O=this.getOddRoundingErrors(),L=this.getEvenRoundingErrors();for(let $t=0;$t<f.length;$t++){let ur=1*f[$t]/p,Ur=ur+.5;if(Ur<1){if(ur<.3)throw new fe;Ur=1}else if(Ur>8){if(ur>8.7)throw new fe;Ur=8}let js=$t/2;($t&1)==0?(C[js]=Ur,O[js]=ur-Ur):(b[js]=Ur,L[js]=ur-Ur)}this.adjustOddEvenCounts(m);let F=4*o.getValue()+(l?0:2)+(h?0:1)-1,Y=0,Q=0;for(let $t=C.length-1;$t>=0;$t--){if(xe.isNotA1left(o,l,h)){let ur=xe.WEIGHTS[F][2*$t];Q+=C[$t]*ur}Y+=C[$t]}let ne=0;for(let $t=b.length-1;$t>=0;$t--)if(xe.isNotA1left(o,l,h)){let ur=xe.WEIGHTS[F][2*$t+1];ne+=b[$t]*ur}let ue=Q+ne;if((Y&1)!=0||Y>13||Y<4)throw new fe;let be=(13-Y)/2,De=xe.SYMBOL_WIDEST[be],Ie=9-De,ut=Mt.getRSSvalue(C,De,!0),ot=Mt.getRSSvalue(b,Ie,!1),Cr=xe.EVEN_TOTAL_SUBSET[be],ai=xe.GSUM[be],Vr=ut*Cr+ot+ai;return new Xr(Vr,ue)}static isNotA1left(r,o,l){return!(r.getValue()==0&&o&&l)}adjustOddEvenCounts(r){let o=At.sum(new Int32Array(this.getOddCounts())),l=At.sum(new Int32Array(this.getEvenCounts())),h=!1,f=!1;o>13?f=!0:o<4&&(h=!0);let m=!1,p=!1;l>13?p=!0:l<4&&(m=!0);let A=o+l-r,C=(o&1)==1,b=(l&1)==0;if(A==1)if(C){if(b)throw new fe;f=!0}else{if(!b)throw new fe;p=!0}else if(A==-1)if(C){if(b)throw new fe;h=!0}else{if(!b)throw new fe;m=!0}else if(A==0){if(C){if(!b)throw new fe;o<l?(h=!0,p=!0):(f=!0,m=!0)}else if(b)throw new fe}else throw new fe;if(h){if(f)throw new fe;xe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&xe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(p)throw new fe;xe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&xe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}xe.SYMBOL_WIDEST=[7,5,4,3,1],xe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],xe.GSUM=[0,348,1388,2948,3988],xe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],xe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],xe.FINDER_PAT_A=0,xe.FINDER_PAT_B=1,xe.FINDER_PAT_C=2,xe.FINDER_PAT_D=3,xe.FINDER_PAT_E=4,xe.FINDER_PAT_F=5,xe.FINDER_PATTERN_SEQUENCES=[[xe.FINDER_PAT_A,xe.FINDER_PAT_A],[xe.FINDER_PAT_A,xe.FINDER_PAT_B,xe.FINDER_PAT_B],[xe.FINDER_PAT_A,xe.FINDER_PAT_C,xe.FINDER_PAT_B,xe.FINDER_PAT_D],[xe.FINDER_PAT_A,xe.FINDER_PAT_E,xe.FINDER_PAT_B,xe.FINDER_PAT_D,xe.FINDER_PAT_C],[xe.FINDER_PAT_A,xe.FINDER_PAT_E,xe.FINDER_PAT_B,xe.FINDER_PAT_D,xe.FINDER_PAT_D,xe.FINDER_PAT_F],[xe.FINDER_PAT_A,xe.FINDER_PAT_E,xe.FINDER_PAT_B,xe.FINDER_PAT_D,xe.FINDER_PAT_E,xe.FINDER_PAT_F,xe.FINDER_PAT_F],[xe.FINDER_PAT_A,xe.FINDER_PAT_A,xe.FINDER_PAT_B,xe.FINDER_PAT_B,xe.FINDER_PAT_C,xe.FINDER_PAT_C,xe.FINDER_PAT_D,xe.FINDER_PAT_D],[xe.FINDER_PAT_A,xe.FINDER_PAT_A,xe.FINDER_PAT_B,xe.FINDER_PAT_B,xe.FINDER_PAT_C,xe.FINDER_PAT_C,xe.FINDER_PAT_D,xe.FINDER_PAT_E,xe.FINDER_PAT_E],[xe.FINDER_PAT_A,xe.FINDER_PAT_A,xe.FINDER_PAT_B,xe.FINDER_PAT_B,xe.FINDER_PAT_C,xe.FINDER_PAT_C,xe.FINDER_PAT_D,xe.FINDER_PAT_E,xe.FINDER_PAT_F,xe.FINDER_PAT_F],[xe.FINDER_PAT_A,xe.FINDER_PAT_A,xe.FINDER_PAT_B,xe.FINDER_PAT_B,xe.FINDER_PAT_C,xe.FINDER_PAT_D,xe.FINDER_PAT_D,xe.FINDER_PAT_E,xe.FINDER_PAT_E,xe.FINDER_PAT_F,xe.FINDER_PAT_F]],xe.MAX_PAIRS=11;class Mi extends Xr{constructor(r,o,l){super(r,o),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class pt extends Ln{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(r,o,l){const h=this.decodePair(o,!1,r,l);pt.addOrTally(this.possibleLeftPairs,h),o.reverse();let f=this.decodePair(o,!0,r,l);pt.addOrTally(this.possibleRightPairs,f),o.reverse();for(let m of this.possibleLeftPairs)if(m.getCount()>1){for(let p of this.possibleRightPairs)if(p.getCount()>1&&pt.checkChecksum(m,p))return pt.constructResult(m,p)}throw new fe}static addOrTally(r,o){if(o==null)return;let l=!1;for(let h of r)if(h.getValue()===o.getValue()){h.incrementCount(),l=!0;break}l||r.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(r,o){let l=4537077*r.getValue()+o.getValue(),h=new String(l).toString(),f=new j;for(let C=13-h.length;C>0;C--)f.append("0");f.append(h);let m=0;for(let C=0;C<13;C++){let b=f.charAt(C).charCodeAt(0)-48;m+=(C&1)===0?3*b:b}m=10-m%10,m===10&&(m=0),f.append(m.toString());let p=r.getFinderPattern().getResultPoints(),A=o.getFinderPattern().getResultPoints();return new Ve(f.toString(),null,0,[p[0],p[1],A[0],A[1]],Re.RSS_14,new Date().getTime())}static checkChecksum(r,o){let l=(r.getChecksumPortion()+16*o.getChecksumPortion())%79,h=9*r.getFinderPattern().getValue()+o.getFinderPattern().getValue();return h>72&&h--,h>8&&h--,l===h}decodePair(r,o,l,h){try{let f=this.findFinderPattern(r,o),m=this.parseFoundFinderPattern(r,l,o,f),p=h==null?null:h.get(qe.NEED_RESULT_POINT_CALLBACK);if(p!=null){let b=(f[0]+f[1])/2;o&&(b=r.getSize()-1-b),p.foundPossibleResultPoint(new Ue(b,l))}let A=this.decodeDataCharacter(r,m,!0),C=this.decodeDataCharacter(r,m,!1);return new Mi(1597*A.getValue()+C.getValue(),A.getChecksumPortion()+4*C.getChecksumPortion(),m)}catch{return null}}decodeDataCharacter(r,o,l){let h=this.getDataCharacterCounters();for(let ne=0;ne<h.length;ne++)h[ne]=0;if(l)rn.recordPatternInReverse(r,o.getStartEnd()[0],h);else{rn.recordPattern(r,o.getStartEnd()[1]+1,h);for(let ne=0,ue=h.length-1;ne<ue;ne++,ue--){let be=h[ne];h[ne]=h[ue],h[ue]=be}}let f=l?16:15,m=At.sum(new Int32Array(h))/f,p=this.getOddCounts(),A=this.getEvenCounts(),C=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors();for(let ne=0;ne<h.length;ne++){let ue=h[ne]/m,be=Math.floor(ue+.5);be<1?be=1:be>8&&(be=8);let De=Math.floor(ne/2);(ne&1)===0?(p[De]=be,C[De]=ue-be):(A[De]=be,b[De]=ue-be)}this.adjustOddEvenCounts(l,f);let O=0,L=0;for(let ne=p.length-1;ne>=0;ne--)L*=9,L+=p[ne],O+=p[ne];let F=0,Y=0;for(let ne=A.length-1;ne>=0;ne--)F*=9,F+=A[ne],Y+=A[ne];let Q=L+3*F;if(l){if((O&1)!==0||O>12||O<4)throw new fe;let ne=(12-O)/2,ue=pt.OUTSIDE_ODD_WIDEST[ne],be=9-ue,De=Mt.getRSSvalue(p,ue,!1),Ie=Mt.getRSSvalue(A,be,!0),ut=pt.OUTSIDE_EVEN_TOTAL_SUBSET[ne],ot=pt.OUTSIDE_GSUM[ne];return new Xr(De*ut+Ie+ot,Q)}else{if((Y&1)!==0||Y>10||Y<4)throw new fe;let ne=(10-Y)/2,ue=pt.INSIDE_ODD_WIDEST[ne],be=9-ue,De=Mt.getRSSvalue(p,ue,!0),Ie=Mt.getRSSvalue(A,be,!1),ut=pt.INSIDE_ODD_TOTAL_SUBSET[ne],ot=pt.INSIDE_GSUM[ne];return new Xr(Ie*ut+De+ot,Q)}}findFinderPattern(r,o){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let h=r.getSize(),f=!1,m=0;for(;m<h&&(f=!r.get(m),o!==f);)m++;let p=0,A=m;for(let C=m;C<h;C++)if(r.get(C)!==f)l[p]++;else{if(p===3){if(Ln.isFinderPattern(l))return[A,C];A+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,p--}else p++;l[p]=1,f=!f}throw new fe}parseFoundFinderPattern(r,o,l,h){let f=r.get(h[0]),m=h[0]-1;for(;m>=0&&f!==r.get(m);)m--;m++;const p=h[0]-m,A=this.getDecodeFinderCounters(),C=new Int32Array(A.length);oe.arraycopy(A,0,C,1,A.length-1),C[0]=p;const b=this.parseFinderValue(C,pt.FINDER_PATTERNS);let O=m,L=h[1];return l&&(O=r.getSize()-1-O,L=r.getSize()-1-L),new ks(b,[m,h[1]],O,L,o)}adjustOddEvenCounts(r,o){let l=At.sum(new Int32Array(this.getOddCounts())),h=At.sum(new Int32Array(this.getEvenCounts())),f=!1,m=!1,p=!1,A=!1;r?(l>12?m=!0:l<4&&(f=!0),h>12?A=!0:h<4&&(p=!0)):(l>11?m=!0:l<5&&(f=!0),h>10?A=!0:h<4&&(p=!0));let C=l+h-o,b=(l&1)===(r?1:0),O=(h&1)===1;if(C===1)if(b){if(O)throw new fe;m=!0}else{if(!O)throw new fe;A=!0}else if(C===-1)if(b){if(O)throw new fe;f=!0}else{if(!O)throw new fe;p=!0}else if(C===0){if(b){if(!O)throw new fe;l<h?(f=!0,A=!0):(m=!0,p=!0)}else if(O)throw new fe}else throw new fe;if(f){if(m)throw new fe;Ln.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(m&&Ln.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(A)throw new fe;Ln.increment(this.getEvenCounts(),this.getOddRoundingErrors())}A&&Ln.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}pt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],pt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],pt.OUTSIDE_GSUM=[0,161,961,2015,2715],pt.INSIDE_GSUM=[0,336,1036,1516],pt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],pt.INSIDE_ODD_WIDEST=[2,4,6,8],pt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ei extends rn{constructor(r,o){super(),this.readers=[],this.verbose=o===!0;const l=r?r.get(qe.POSSIBLE_FORMATS):null,h=r&&r.get(qe.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(Re.EAN_13)||l.includes(Re.UPC_A)||l.includes(Re.EAN_8)||l.includes(Re.UPC_E))&&this.readers.push(new Di(r)),l.includes(Re.CODE_39)&&this.readers.push(new qt(h)),l.includes(Re.CODE_128)&&this.readers.push(new Me),l.includes(Re.ITF)&&this.readers.push(new Pt),l.includes(Re.RSS_14)&&this.readers.push(new pt),l.includes(Re.RSS_EXPANDED)&&this.readers.push(new xe(this.verbose))):(this.readers.push(new Di(r)),this.readers.push(new qt),this.readers.push(new Di(r)),this.readers.push(new Me),this.readers.push(new Pt),this.readers.push(new pt),this.readers.push(new xe(this.verbose)))}decodeRow(r,o,l){for(let h=0;h<this.readers.length;h++)try{return this.readers[h].decodeRow(r,o,l)}catch{}throw new fe}reset(){this.readers.forEach(r=>r.reset())}}class Zo extends Ne{constructor(r=500,o){super(new ei(o),r,o)}}class yt{constructor(r,o,l){this.ecCodewords=r,this.ecBlocks=[o],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class wt{constructor(r,o){this.count=r,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ft{constructor(r,o,l,h,f,m){this.versionNumber=r,this.symbolSizeRows=o,this.symbolSizeColumns=l,this.dataRegionSizeRows=h,this.dataRegionSizeColumns=f,this.ecBlocks=m;let p=0;const A=m.getECCodewords(),C=m.getECBlocks();for(let b of C)p+=b.getCount()*(b.getDataCodewords()+A);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(r,o){if((r&1)!==0||(o&1)!==0)throw new H;for(let l of ft.VERSIONS)if(l.symbolSizeRows===r&&l.symbolSizeColumns===o)return l;throw new H}toString(){return""+this.versionNumber}static buildVersions(){return[new ft(1,10,10,8,8,new yt(5,new wt(1,3))),new ft(2,12,12,10,10,new yt(7,new wt(1,5))),new ft(3,14,14,12,12,new yt(10,new wt(1,8))),new ft(4,16,16,14,14,new yt(12,new wt(1,12))),new ft(5,18,18,16,16,new yt(14,new wt(1,18))),new ft(6,20,20,18,18,new yt(18,new wt(1,22))),new ft(7,22,22,20,20,new yt(20,new wt(1,30))),new ft(8,24,24,22,22,new yt(24,new wt(1,36))),new ft(9,26,26,24,24,new yt(28,new wt(1,44))),new ft(10,32,32,14,14,new yt(36,new wt(1,62))),new ft(11,36,36,16,16,new yt(42,new wt(1,86))),new ft(12,40,40,18,18,new yt(48,new wt(1,114))),new ft(13,44,44,20,20,new yt(56,new wt(1,144))),new ft(14,48,48,22,22,new yt(68,new wt(1,174))),new ft(15,52,52,24,24,new yt(42,new wt(2,102))),new ft(16,64,64,14,14,new yt(56,new wt(2,140))),new ft(17,72,72,16,16,new yt(36,new wt(4,92))),new ft(18,80,80,18,18,new yt(48,new wt(4,114))),new ft(19,88,88,20,20,new yt(56,new wt(4,144))),new ft(20,96,96,22,22,new yt(68,new wt(4,174))),new ft(21,104,104,24,24,new yt(56,new wt(6,136))),new ft(22,120,120,18,18,new yt(68,new wt(6,175))),new ft(23,132,132,20,20,new yt(62,new wt(8,163))),new ft(24,144,144,22,22,new yt(62,new wt(8,156),new wt(2,155))),new ft(25,8,18,6,16,new yt(7,new wt(1,5))),new ft(26,8,32,6,14,new yt(11,new wt(1,10))),new ft(27,12,26,10,24,new yt(14,new wt(1,16))),new ft(28,12,36,10,16,new yt(18,new wt(1,22))),new ft(29,16,36,14,16,new yt(24,new wt(1,32))),new ft(30,16,48,14,22,new yt(28,new wt(1,49)))]}}ft.VERSIONS=ft.buildVersions();class Vs{constructor(r){const o=r.getHeight();if(o<8||o>144||(o&1)!==0)throw new H;this.version=Vs.readVersion(r),this.mappingBitMatrix=this.extractDataRegion(r),this.readMappingMatrix=new vt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(r){const o=r.getHeight(),l=r.getWidth();return ft.getVersionForDimensions(o,l)}readCodewords(){const r=new Int8Array(this.version.getTotalCodewords());let o=0,l=4,h=0;const f=this.mappingBitMatrix.getHeight(),m=this.mappingBitMatrix.getWidth();let p=!1,A=!1,C=!1,b=!1;do if(l===f&&h===0&&!p)r[o++]=this.readCorner1(f,m)&255,l-=2,h+=2,p=!0;else if(l===f-2&&h===0&&(m&3)!==0&&!A)r[o++]=this.readCorner2(f,m)&255,l-=2,h+=2,A=!0;else if(l===f+4&&h===2&&(m&7)===0&&!C)r[o++]=this.readCorner3(f,m)&255,l-=2,h+=2,C=!0;else if(l===f-2&&h===0&&(m&7)===4&&!b)r[o++]=this.readCorner4(f,m)&255,l-=2,h+=2,b=!0;else{do l<f&&h>=0&&!this.readMappingMatrix.get(h,l)&&(r[o++]=this.readUtah(l,h,f,m)&255),l-=2,h+=2;while(l>=0&&h<m);l+=1,h+=3;do l>=0&&h<m&&!this.readMappingMatrix.get(h,l)&&(r[o++]=this.readUtah(l,h,f,m)&255),l+=2,h-=2;while(l<f&&h>=0);l+=3,h+=1}while(l<f||h<m);if(o!==this.version.getTotalCodewords())throw new H;return r}readModule(r,o,l,h){return r<0&&(r+=l,o+=4-(l+4&7)),o<0&&(o+=h,r+=4-(h+4&7)),this.readMappingMatrix.set(o,r),this.mappingBitMatrix.get(o,r)}readUtah(r,o,l,h){let f=0;return this.readModule(r-2,o-2,l,h)&&(f|=1),f<<=1,this.readModule(r-2,o-1,l,h)&&(f|=1),f<<=1,this.readModule(r-1,o-2,l,h)&&(f|=1),f<<=1,this.readModule(r-1,o-1,l,h)&&(f|=1),f<<=1,this.readModule(r-1,o,l,h)&&(f|=1),f<<=1,this.readModule(r,o-2,l,h)&&(f|=1),f<<=1,this.readModule(r,o-1,l,h)&&(f|=1),f<<=1,this.readModule(r,o,l,h)&&(f|=1),f}readCorner1(r,o){let l=0;return this.readModule(r-1,0,r,o)&&(l|=1),l<<=1,this.readModule(r-1,1,r,o)&&(l|=1),l<<=1,this.readModule(r-1,2,r,o)&&(l|=1),l<<=1,this.readModule(0,o-2,r,o)&&(l|=1),l<<=1,this.readModule(0,o-1,r,o)&&(l|=1),l<<=1,this.readModule(1,o-1,r,o)&&(l|=1),l<<=1,this.readModule(2,o-1,r,o)&&(l|=1),l<<=1,this.readModule(3,o-1,r,o)&&(l|=1),l}readCorner2(r,o){let l=0;return this.readModule(r-3,0,r,o)&&(l|=1),l<<=1,this.readModule(r-2,0,r,o)&&(l|=1),l<<=1,this.readModule(r-1,0,r,o)&&(l|=1),l<<=1,this.readModule(0,o-4,r,o)&&(l|=1),l<<=1,this.readModule(0,o-3,r,o)&&(l|=1),l<<=1,this.readModule(0,o-2,r,o)&&(l|=1),l<<=1,this.readModule(0,o-1,r,o)&&(l|=1),l<<=1,this.readModule(1,o-1,r,o)&&(l|=1),l}readCorner3(r,o){let l=0;return this.readModule(r-1,0,r,o)&&(l|=1),l<<=1,this.readModule(r-1,o-1,r,o)&&(l|=1),l<<=1,this.readModule(0,o-3,r,o)&&(l|=1),l<<=1,this.readModule(0,o-2,r,o)&&(l|=1),l<<=1,this.readModule(0,o-1,r,o)&&(l|=1),l<<=1,this.readModule(1,o-3,r,o)&&(l|=1),l<<=1,this.readModule(1,o-2,r,o)&&(l|=1),l<<=1,this.readModule(1,o-1,r,o)&&(l|=1),l}readCorner4(r,o){let l=0;return this.readModule(r-3,0,r,o)&&(l|=1),l<<=1,this.readModule(r-2,0,r,o)&&(l|=1),l<<=1,this.readModule(r-1,0,r,o)&&(l|=1),l<<=1,this.readModule(0,o-2,r,o)&&(l|=1),l<<=1,this.readModule(0,o-1,r,o)&&(l|=1),l<<=1,this.readModule(1,o-1,r,o)&&(l|=1),l<<=1,this.readModule(2,o-1,r,o)&&(l|=1),l<<=1,this.readModule(3,o-1,r,o)&&(l|=1),l}extractDataRegion(r){const o=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(r.getHeight()!==o)throw new M("Dimension of bitMatrix must match the version size");const h=this.version.getDataRegionSizeRows(),f=this.version.getDataRegionSizeColumns(),m=o/h|0,p=l/f|0,A=m*h,C=p*f,b=new vt(C,A);for(let O=0;O<m;++O){const L=O*h;for(let F=0;F<p;++F){const Y=F*f;for(let Q=0;Q<h;++Q){const ne=O*(h+2)+1+Q,ue=L+Q;for(let be=0;be<f;++be){const De=F*(f+2)+1+be;if(r.get(De,ne)){const Ie=Y+be;b.set(Ie,ue)}}}}}return b}}class fs{constructor(r,o){this.numDataCodewords=r,this.codewords=o}static getDataBlocks(r,o){const l=o.getECBlocks();let h=0;const f=l.getECBlocks();for(let Q of f)h+=Q.getCount();const m=new Array(h);let p=0;for(let Q of f)for(let ne=0;ne<Q.getCount();ne++){const ue=Q.getDataCodewords(),be=l.getECCodewords()+ue;m[p++]=new fs(ue,new Uint8Array(be))}const C=m[0].codewords.length-l.getECCodewords(),b=C-1;let O=0;for(let Q=0;Q<b;Q++)for(let ne=0;ne<p;ne++)m[ne].codewords[Q]=r[O++];const L=o.getVersionNumber()===24,F=L?8:p;for(let Q=0;Q<F;Q++)m[Q].codewords[C-1]=r[O++];const Y=m[0].codewords.length;for(let Q=C;Q<Y;Q++)for(let ne=0;ne<p;ne++){const ue=L?(ne+8)%p:ne,be=L&&ue>7?Q-1:Q;m[ue].codewords[be]=r[O++]}if(O!==r.length)throw new M;return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class or{constructor(r){this.bytes=r,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(r){if(r<1||r>32||r>this.available())throw new M(""+r);let o=0,l=this.bitOffset,h=this.byteOffset;const f=this.bytes;if(l>0){const m=8-l,p=r<m?r:m,A=m-p,C=255>>8-p<<A;o=(f[h]&C)>>A,r-=p,l+=p,l===8&&(l=0,h++)}if(r>0){for(;r>=8;)o=o<<8|f[h]&255,h++,r-=8;if(r>0){const m=8-r,p=255>>m<<m;o=o<<r|(f[h]&p)>>m,l+=r}}return this.bitOffset=l,this.byteOffset=h,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var _n;(function(D){D[D.PAD_ENCODE=0]="PAD_ENCODE",D[D.ASCII_ENCODE=1]="ASCII_ENCODE",D[D.C40_ENCODE=2]="C40_ENCODE",D[D.TEXT_ENCODE=3]="TEXT_ENCODE",D[D.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",D[D.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",D[D.BASE256_ENCODE=6]="BASE256_ENCODE"})(_n||(_n={}));class Li{static decode(r){const o=new or(r),l=new j,h=new j,f=new Array;let m=_n.ASCII_ENCODE;do if(m===_n.ASCII_ENCODE)m=this.decodeAsciiSegment(o,l,h);else{switch(m){case _n.C40_ENCODE:this.decodeC40Segment(o,l);break;case _n.TEXT_ENCODE:this.decodeTextSegment(o,l);break;case _n.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,l);break;case _n.EDIFACT_ENCODE:this.decodeEdifactSegment(o,l);break;case _n.BASE256_ENCODE:this.decodeBase256Segment(o,l,f);break;default:throw new H}m=_n.ASCII_ENCODE}while(m!==_n.PAD_ENCODE&&o.available()>0);return h.length()>0&&l.append(h.toString()),new Dr(r,l.toString(),f.length===0?null:f,null)}static decodeAsciiSegment(r,o,l){let h=!1;do{let f=r.readBits(8);if(f===0)throw new H;if(f<=128)return h&&(f+=128),o.append(String.fromCharCode(f-1)),_n.ASCII_ENCODE;if(f===129)return _n.PAD_ENCODE;if(f<=229){const m=f-130;m<10&&o.append("0"),o.append(""+m)}else switch(f){case 230:return _n.C40_ENCODE;case 231:return _n.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:h=!0;break;case 236:o.append("[)>05"),l.insert(0,"");break;case 237:o.append("[)>06"),l.insert(0,"");break;case 238:return _n.ANSIX12_ENCODE;case 239:return _n.TEXT_ENCODE;case 240:return _n.EDIFACT_ENCODE;case 241:break;default:if(f!==254||r.available()!==0)throw new H;break}}while(r.available()>0);return _n.ASCII_ENCODE}static decodeC40Segment(r,o){let l=!1;const h=[];let f=0;do{if(r.available()===8)return;const m=r.readBits(8);if(m===254)return;this.parseTwoBytes(m,r.readBits(8),h);for(let p=0;p<3;p++){const A=h[p];switch(f){case 0:if(A<3)f=A+1;else if(A<this.C40_BASIC_SET_CHARS.length){const C=this.C40_BASIC_SET_CHARS[A];l?(o.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):o.append(C)}else throw new H;break;case 1:l?(o.append(String.fromCharCode(A+128)),l=!1):o.append(String.fromCharCode(A)),f=0;break;case 2:if(A<this.C40_SHIFT2_SET_CHARS.length){const C=this.C40_SHIFT2_SET_CHARS[A];l?(o.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):o.append(C)}else switch(A){case 27:o.append("");break;case 30:l=!0;break;default:throw new H}f=0;break;case 3:l?(o.append(String.fromCharCode(A+224)),l=!1):o.append(String.fromCharCode(A+96)),f=0;break;default:throw new H}}}while(r.available()>0)}static decodeTextSegment(r,o){let l=!1,h=[],f=0;do{if(r.available()===8)return;const m=r.readBits(8);if(m===254)return;this.parseTwoBytes(m,r.readBits(8),h);for(let p=0;p<3;p++){const A=h[p];switch(f){case 0:if(A<3)f=A+1;else if(A<this.TEXT_BASIC_SET_CHARS.length){const C=this.TEXT_BASIC_SET_CHARS[A];l?(o.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):o.append(C)}else throw new H;break;case 1:l?(o.append(String.fromCharCode(A+128)),l=!1):o.append(String.fromCharCode(A)),f=0;break;case 2:if(A<this.TEXT_SHIFT2_SET_CHARS.length){const C=this.TEXT_SHIFT2_SET_CHARS[A];l?(o.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):o.append(C)}else switch(A){case 27:o.append("");break;case 30:l=!0;break;default:throw new H}f=0;break;case 3:if(A<this.TEXT_SHIFT3_SET_CHARS.length){const C=this.TEXT_SHIFT3_SET_CHARS[A];l?(o.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):o.append(C),f=0}else throw new H;break;default:throw new H}}}while(r.available()>0)}static decodeAnsiX12Segment(r,o){const l=[];do{if(r.available()===8)return;const h=r.readBits(8);if(h===254)return;this.parseTwoBytes(h,r.readBits(8),l);for(let f=0;f<3;f++){const m=l[f];switch(m){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(m<14)o.append(String.fromCharCode(m+44));else if(m<40)o.append(String.fromCharCode(m+51));else throw new H;break}}}while(r.available()>0)}static parseTwoBytes(r,o,l){let h=(r<<8)+o-1,f=Math.floor(h/1600);l[0]=f,h-=f*1600,f=Math.floor(h/40),l[1]=f,l[2]=h-f*40}static decodeEdifactSegment(r,o){do{if(r.available()<=16)return;for(let l=0;l<4;l++){let h=r.readBits(6);if(h===31){const f=8-r.getBitOffset();f!==8&&r.readBits(f);return}(h&32)===0&&(h|=64),o.append(String.fromCharCode(h))}}while(r.available()>0)}static decodeBase256Segment(r,o,l){let h=1+r.getByteOffset();const f=this.unrandomize255State(r.readBits(8),h++);let m;if(f===0?m=r.available()/8|0:f<250?m=f:m=250*(f-249)+this.unrandomize255State(r.readBits(8),h++),m<0)throw new H;const p=new Uint8Array(m);for(let A=0;A<m;A++){if(r.available()<8)throw new H;p[A]=this.unrandomize255State(r.readBits(8),h++)}l.push(p);try{o.append(K.decode(p,q.ISO88591))}catch(A){throw new Or("Platform does not support required encoding: "+A.message)}}static unrandomize255State(r,o){const l=149*o%255+1,h=r-l;return h>=0?h:h+256}}Li.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Li.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Li.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Li.TEXT_SHIFT2_SET_CHARS=Li.C40_SHIFT2_SET_CHARS,Li.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class xa{constructor(){this.rsDecoder=new hs(_t.DATA_MATRIX_FIELD_256)}decode(r){const o=new Vs(r),l=o.getVersion(),h=o.readCodewords(),f=fs.getDataBlocks(h,l);let m=0;for(let C of f)m+=C.getNumDataCodewords();const p=new Uint8Array(m),A=f.length;for(let C=0;C<A;C++){const b=f[C],O=b.getCodewords(),L=b.getNumDataCodewords();this.correctErrors(O,L);for(let F=0;F<L;F++)p[F*A+C]=O[F]}return Li.decode(p)}correctErrors(r,o){const l=new Int32Array(r);try{this.rsDecoder.decode(l,r.length-o)}catch{throw new W}for(let h=0;h<o;h++)r[h]=l[h]}}class un{constructor(r){this.image=r,this.rectangleDetector=new Yr(this.image)}detect(){const r=this.rectangleDetector.detect();let o=this.detectSolid1(r);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new fe;o=this.shiftToModuleCenter(o);const l=o[0],h=o[1],f=o[2],m=o[3];let p=this.transitionsBetween(l,m)+1,A=this.transitionsBetween(f,m)+1;(p&1)===1&&(p+=1),(A&1)===1&&(A+=1),4*p<7*A&&4*A<7*p&&(p=A=Math.max(p,A));let C=un.sampleGrid(this.image,l,h,f,m,p,A);return new ga(C,[l,h,f,m])}static shiftPoint(r,o,l){let h=(o.getX()-r.getX())/(l+1),f=(o.getY()-r.getY())/(l+1);return new Ue(r.getX()+h,r.getY()+f)}static moveAway(r,o,l){let h=r.getX(),f=r.getY();return h<o?h-=1:h+=1,f<l?f-=1:f+=1,new Ue(h,f)}detectSolid1(r){let o=r[0],l=r[1],h=r[3],f=r[2],m=this.transitionsBetween(o,l),p=this.transitionsBetween(l,h),A=this.transitionsBetween(h,f),C=this.transitionsBetween(f,o),b=m,O=[f,o,l,h];return b>p&&(b=p,O[0]=o,O[1]=l,O[2]=h,O[3]=f),b>A&&(b=A,O[0]=l,O[1]=h,O[2]=f,O[3]=o),b>C&&(O[0]=h,O[1]=f,O[2]=o,O[3]=l),O}detectSolid2(r){let o=r[0],l=r[1],h=r[2],f=r[3],m=this.transitionsBetween(o,f),p=un.shiftPoint(l,h,(m+1)*4),A=un.shiftPoint(h,l,(m+1)*4),C=this.transitionsBetween(p,o),b=this.transitionsBetween(A,f);return C<b?(r[0]=o,r[1]=l,r[2]=h,r[3]=f):(r[0]=l,r[1]=h,r[2]=f,r[3]=o),r}correctTopRight(r){let o=r[0],l=r[1],h=r[2],f=r[3],m=this.transitionsBetween(o,f),p=this.transitionsBetween(l,f),A=un.shiftPoint(o,l,(p+1)*4),C=un.shiftPoint(h,l,(m+1)*4);m=this.transitionsBetween(A,f),p=this.transitionsBetween(C,f);let b=new Ue(f.getX()+(h.getX()-l.getX())/(m+1),f.getY()+(h.getY()-l.getY())/(m+1)),O=new Ue(f.getX()+(o.getX()-l.getX())/(p+1),f.getY()+(o.getY()-l.getY())/(p+1));if(!this.isValid(b))return this.isValid(O)?O:null;if(!this.isValid(O))return b;let L=this.transitionsBetween(A,b)+this.transitionsBetween(C,b),F=this.transitionsBetween(A,O)+this.transitionsBetween(C,O);return L>F?b:O}shiftToModuleCenter(r){let o=r[0],l=r[1],h=r[2],f=r[3],m=this.transitionsBetween(o,f)+1,p=this.transitionsBetween(h,f)+1,A=un.shiftPoint(o,l,p*4),C=un.shiftPoint(h,l,m*4);m=this.transitionsBetween(A,f)+1,p=this.transitionsBetween(C,f)+1,(m&1)===1&&(m+=1),(p&1)===1&&(p+=1);let b=(o.getX()+l.getX()+h.getX()+f.getX())/4,O=(o.getY()+l.getY()+h.getY()+f.getY())/4;o=un.moveAway(o,b,O),l=un.moveAway(l,b,O),h=un.moveAway(h,b,O),f=un.moveAway(f,b,O);let L,F;return A=un.shiftPoint(o,l,p*4),A=un.shiftPoint(A,f,m*4),L=un.shiftPoint(l,o,p*4),L=un.shiftPoint(L,h,m*4),C=un.shiftPoint(h,f,p*4),C=un.shiftPoint(C,l,m*4),F=un.shiftPoint(f,h,p*4),F=un.shiftPoint(F,o,m*4),[A,L,C,F]}isValid(r){return r.getX()>=0&&r.getX()<this.image.getWidth()&&r.getY()>0&&r.getY()<this.image.getHeight()}static sampleGrid(r,o,l,h,f,m,p){return Vn.getInstance().sampleGrid(r,m,p,.5,.5,m-.5,.5,m-.5,p-.5,.5,p-.5,o.getX(),o.getY(),f.getX(),f.getY(),h.getX(),h.getY(),l.getX(),l.getY())}transitionsBetween(r,o){let l=Math.trunc(r.getX()),h=Math.trunc(r.getY()),f=Math.trunc(o.getX()),m=Math.trunc(o.getY()),p=Math.abs(m-h)>Math.abs(f-l);if(p){let Q=l;l=h,h=Q,Q=f,f=m,m=Q}let A=Math.abs(f-l),C=Math.abs(m-h),b=-A/2,O=h<m?1:-1,L=l<f?1:-1,F=0,Y=this.image.get(p?h:l,p?l:h);for(let Q=l,ne=h;Q!==f;Q+=L){let ue=this.image.get(p?ne:Q,p?Q:ne);if(ue!==Y&&(F++,Y=ue),b+=C,b>0){if(ne===m)break;ne+=O,b-=A}}return F}}class Pr{constructor(){this.decoder=new xa}decode(r,o=null){let l,h;if(o!=null&&o.has(qe.PURE_BARCODE)){const C=Pr.extractPureBits(r.getBlackMatrix());l=this.decoder.decode(C),h=Pr.NO_POINTS}else{const C=new un(r.getBlackMatrix()).detect();l=this.decoder.decode(C.getBits()),h=C.getPoints()}const f=l.getRawBytes(),m=new Ve(l.getText(),f,8*f.length,h,Re.DATA_MATRIX,oe.currentTimeMillis()),p=l.getByteSegments();p!=null&&m.putMetadata(at.BYTE_SEGMENTS,p);const A=l.getECLevel();return A!=null&&m.putMetadata(at.ERROR_CORRECTION_LEVEL,A),m}reset(){}static extractPureBits(r){const o=r.getTopLeftOnBit(),l=r.getBottomRightOnBit();if(o==null||l==null)throw new fe;const h=this.moduleSize(o,r);let f=o[1];const m=l[1];let p=o[0];const C=(l[0]-p+1)/h,b=(m-f+1)/h;if(C<=0||b<=0)throw new fe;const O=h/2;f+=O,p+=O;const L=new vt(C,b);for(let F=0;F<b;F++){const Y=f+F*h;for(let Q=0;Q<C;Q++)r.get(p+Q*h,Y)&&L.set(Q,F)}return L}static moduleSize(r,o){const l=o.getWidth();let h=r[0];const f=r[1];for(;h<l&&o.get(h,f);)h++;if(h===l)throw new fe;const m=h-r[0];if(m===0)throw new fe;return m}}Pr.NO_POINTS=[];class uu extends Ne{constructor(r=500){super(new Pr,r)}}var cn;(function(D){D[D.L=0]="L",D[D.M=1]="M",D[D.Q=2]="Q",D[D.H=3]="H"})(cn||(cn={}));class Et{constructor(r,o,l){this.value=r,this.stringValue=o,this.bits=l,Et.FOR_BITS.set(l,this),Et.FOR_VALUE.set(r,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(r){switch(r){case"L":return Et.L;case"M":return Et.M;case"Q":return Et.Q;case"H":return Et.H;default:throw new I(r+"not available")}}toString(){return this.stringValue}equals(r){if(!(r instanceof Et))return!1;const o=r;return this.value===o.value}static forBits(r){if(r<0||r>=Et.FOR_BITS.size)throw new M;return Et.FOR_BITS.get(r)}}Et.FOR_BITS=new Map,Et.FOR_VALUE=new Map,Et.L=new Et(cn.L,"L",1),Et.M=new Et(cn.M,"M",0),Et.Q=new Et(cn.Q,"Q",3),Et.H=new Et(cn.H,"H",2);class In{constructor(r){this.errorCorrectionLevel=Et.forBits(r>>3&3),this.dataMask=r&7}static numBitsDiffering(r,o){return pe.bitCount(r^o)}static decodeFormatInformation(r,o){const l=In.doDecodeFormatInformation(r,o);return l!==null?l:In.doDecodeFormatInformation(r^In.FORMAT_INFO_MASK_QR,o^In.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(r,o){let l=Number.MAX_SAFE_INTEGER,h=0;for(const f of In.FORMAT_INFO_DECODE_LOOKUP){const m=f[0];if(m===r||m===o)return new In(f[1]);let p=In.numBitsDiffering(r,m);p<l&&(h=f[1],l=p),r!==o&&(p=In.numBitsDiffering(o,m),p<l&&(h=f[1],l=p))}return l<=3?new In(h):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(r){if(!(r instanceof In))return!1;const o=r;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}In.FORMAT_INFO_MASK_QR=21522,In.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ee{constructor(r,...o){this.ecCodewordsPerBlock=r,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let r=0;const o=this.ecBlocks;for(const l of o)r+=l.getCount();return r}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class V{constructor(r,o){this.count=r,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Pe{constructor(r,o,...l){this.versionNumber=r,this.alignmentPatternCenters=o,this.ecBlocks=l;let h=0;const f=l[0].getECCodewordsPerBlock(),m=l[0].getECBlocks();for(const p of m)h+=p.getCount()*(p.getDataCodewords()+f);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(r){return this.ecBlocks[r.getValue()]}static getProvisionalVersionForDimension(r){if(r%4!==1)throw new H;try{return this.getVersionForNumber((r-17)/4)}catch{throw new H}}static getVersionForNumber(r){if(r<1||r>40)throw new M;return Pe.VERSIONS[r-1]}static decodeVersionInformation(r){let o=Number.MAX_SAFE_INTEGER,l=0;for(let h=0;h<Pe.VERSION_DECODE_INFO.length;h++){const f=Pe.VERSION_DECODE_INFO[h];if(f===r)return Pe.getVersionForNumber(h+7);const m=In.numBitsDiffering(r,f);m<o&&(l=h+7,o=m)}return o<=3?Pe.getVersionForNumber(l):null}buildFunctionPattern(){const r=this.getDimensionForVersion(),o=new vt(r);o.setRegion(0,0,9,9),o.setRegion(r-8,0,8,9),o.setRegion(0,r-8,9,8);const l=this.alignmentPatternCenters.length;for(let h=0;h<l;h++){const f=this.alignmentPatternCenters[h]-2;for(let m=0;m<l;m++)h===0&&(m===0||m===l-1)||h===l-1&&m===0||o.setRegion(this.alignmentPatternCenters[m]-2,f,5,5)}return o.setRegion(6,9,1,r-17),o.setRegion(9,6,r-17,1),this.versionNumber>6&&(o.setRegion(r-11,0,3,6),o.setRegion(0,r-11,6,3)),o}toString(){return""+this.versionNumber}}Pe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Pe.VERSIONS=[new Pe(1,new Int32Array(0),new ee(7,new V(1,19)),new ee(10,new V(1,16)),new ee(13,new V(1,13)),new ee(17,new V(1,9))),new Pe(2,Int32Array.from([6,18]),new ee(10,new V(1,34)),new ee(16,new V(1,28)),new ee(22,new V(1,22)),new ee(28,new V(1,16))),new Pe(3,Int32Array.from([6,22]),new ee(15,new V(1,55)),new ee(26,new V(1,44)),new ee(18,new V(2,17)),new ee(22,new V(2,13))),new Pe(4,Int32Array.from([6,26]),new ee(20,new V(1,80)),new ee(18,new V(2,32)),new ee(26,new V(2,24)),new ee(16,new V(4,9))),new Pe(5,Int32Array.from([6,30]),new ee(26,new V(1,108)),new ee(24,new V(2,43)),new ee(18,new V(2,15),new V(2,16)),new ee(22,new V(2,11),new V(2,12))),new Pe(6,Int32Array.from([6,34]),new ee(18,new V(2,68)),new ee(16,new V(4,27)),new ee(24,new V(4,19)),new ee(28,new V(4,15))),new Pe(7,Int32Array.from([6,22,38]),new ee(20,new V(2,78)),new ee(18,new V(4,31)),new ee(18,new V(2,14),new V(4,15)),new ee(26,new V(4,13),new V(1,14))),new Pe(8,Int32Array.from([6,24,42]),new ee(24,new V(2,97)),new ee(22,new V(2,38),new V(2,39)),new ee(22,new V(4,18),new V(2,19)),new ee(26,new V(4,14),new V(2,15))),new Pe(9,Int32Array.from([6,26,46]),new ee(30,new V(2,116)),new ee(22,new V(3,36),new V(2,37)),new ee(20,new V(4,16),new V(4,17)),new ee(24,new V(4,12),new V(4,13))),new Pe(10,Int32Array.from([6,28,50]),new ee(18,new V(2,68),new V(2,69)),new ee(26,new V(4,43),new V(1,44)),new ee(24,new V(6,19),new V(2,20)),new ee(28,new V(6,15),new V(2,16))),new Pe(11,Int32Array.from([6,30,54]),new ee(20,new V(4,81)),new ee(30,new V(1,50),new V(4,51)),new ee(28,new V(4,22),new V(4,23)),new ee(24,new V(3,12),new V(8,13))),new Pe(12,Int32Array.from([6,32,58]),new ee(24,new V(2,92),new V(2,93)),new ee(22,new V(6,36),new V(2,37)),new ee(26,new V(4,20),new V(6,21)),new ee(28,new V(7,14),new V(4,15))),new Pe(13,Int32Array.from([6,34,62]),new ee(26,new V(4,107)),new ee(22,new V(8,37),new V(1,38)),new ee(24,new V(8,20),new V(4,21)),new ee(22,new V(12,11),new V(4,12))),new Pe(14,Int32Array.from([6,26,46,66]),new ee(30,new V(3,115),new V(1,116)),new ee(24,new V(4,40),new V(5,41)),new ee(20,new V(11,16),new V(5,17)),new ee(24,new V(11,12),new V(5,13))),new Pe(15,Int32Array.from([6,26,48,70]),new ee(22,new V(5,87),new V(1,88)),new ee(24,new V(5,41),new V(5,42)),new ee(30,new V(5,24),new V(7,25)),new ee(24,new V(11,12),new V(7,13))),new Pe(16,Int32Array.from([6,26,50,74]),new ee(24,new V(5,98),new V(1,99)),new ee(28,new V(7,45),new V(3,46)),new ee(24,new V(15,19),new V(2,20)),new ee(30,new V(3,15),new V(13,16))),new Pe(17,Int32Array.from([6,30,54,78]),new ee(28,new V(1,107),new V(5,108)),new ee(28,new V(10,46),new V(1,47)),new ee(28,new V(1,22),new V(15,23)),new ee(28,new V(2,14),new V(17,15))),new Pe(18,Int32Array.from([6,30,56,82]),new ee(30,new V(5,120),new V(1,121)),new ee(26,new V(9,43),new V(4,44)),new ee(28,new V(17,22),new V(1,23)),new ee(28,new V(2,14),new V(19,15))),new Pe(19,Int32Array.from([6,30,58,86]),new ee(28,new V(3,113),new V(4,114)),new ee(26,new V(3,44),new V(11,45)),new ee(26,new V(17,21),new V(4,22)),new ee(26,new V(9,13),new V(16,14))),new Pe(20,Int32Array.from([6,34,62,90]),new ee(28,new V(3,107),new V(5,108)),new ee(26,new V(3,41),new V(13,42)),new ee(30,new V(15,24),new V(5,25)),new ee(28,new V(15,15),new V(10,16))),new Pe(21,Int32Array.from([6,28,50,72,94]),new ee(28,new V(4,116),new V(4,117)),new ee(26,new V(17,42)),new ee(28,new V(17,22),new V(6,23)),new ee(30,new V(19,16),new V(6,17))),new Pe(22,Int32Array.from([6,26,50,74,98]),new ee(28,new V(2,111),new V(7,112)),new ee(28,new V(17,46)),new ee(30,new V(7,24),new V(16,25)),new ee(24,new V(34,13))),new Pe(23,Int32Array.from([6,30,54,78,102]),new ee(30,new V(4,121),new V(5,122)),new ee(28,new V(4,47),new V(14,48)),new ee(30,new V(11,24),new V(14,25)),new ee(30,new V(16,15),new V(14,16))),new Pe(24,Int32Array.from([6,28,54,80,106]),new ee(30,new V(6,117),new V(4,118)),new ee(28,new V(6,45),new V(14,46)),new ee(30,new V(11,24),new V(16,25)),new ee(30,new V(30,16),new V(2,17))),new Pe(25,Int32Array.from([6,32,58,84,110]),new ee(26,new V(8,106),new V(4,107)),new ee(28,new V(8,47),new V(13,48)),new ee(30,new V(7,24),new V(22,25)),new ee(30,new V(22,15),new V(13,16))),new Pe(26,Int32Array.from([6,30,58,86,114]),new ee(28,new V(10,114),new V(2,115)),new ee(28,new V(19,46),new V(4,47)),new ee(28,new V(28,22),new V(6,23)),new ee(30,new V(33,16),new V(4,17))),new Pe(27,Int32Array.from([6,34,62,90,118]),new ee(30,new V(8,122),new V(4,123)),new ee(28,new V(22,45),new V(3,46)),new ee(30,new V(8,23),new V(26,24)),new ee(30,new V(12,15),new V(28,16))),new Pe(28,Int32Array.from([6,26,50,74,98,122]),new ee(30,new V(3,117),new V(10,118)),new ee(28,new V(3,45),new V(23,46)),new ee(30,new V(4,24),new V(31,25)),new ee(30,new V(11,15),new V(31,16))),new Pe(29,Int32Array.from([6,30,54,78,102,126]),new ee(30,new V(7,116),new V(7,117)),new ee(28,new V(21,45),new V(7,46)),new ee(30,new V(1,23),new V(37,24)),new ee(30,new V(19,15),new V(26,16))),new Pe(30,Int32Array.from([6,26,52,78,104,130]),new ee(30,new V(5,115),new V(10,116)),new ee(28,new V(19,47),new V(10,48)),new ee(30,new V(15,24),new V(25,25)),new ee(30,new V(23,15),new V(25,16))),new Pe(31,Int32Array.from([6,30,56,82,108,134]),new ee(30,new V(13,115),new V(3,116)),new ee(28,new V(2,46),new V(29,47)),new ee(30,new V(42,24),new V(1,25)),new ee(30,new V(23,15),new V(28,16))),new Pe(32,Int32Array.from([6,34,60,86,112,138]),new ee(30,new V(17,115)),new ee(28,new V(10,46),new V(23,47)),new ee(30,new V(10,24),new V(35,25)),new ee(30,new V(19,15),new V(35,16))),new Pe(33,Int32Array.from([6,30,58,86,114,142]),new ee(30,new V(17,115),new V(1,116)),new ee(28,new V(14,46),new V(21,47)),new ee(30,new V(29,24),new V(19,25)),new ee(30,new V(11,15),new V(46,16))),new Pe(34,Int32Array.from([6,34,62,90,118,146]),new ee(30,new V(13,115),new V(6,116)),new ee(28,new V(14,46),new V(23,47)),new ee(30,new V(44,24),new V(7,25)),new ee(30,new V(59,16),new V(1,17))),new Pe(35,Int32Array.from([6,30,54,78,102,126,150]),new ee(30,new V(12,121),new V(7,122)),new ee(28,new V(12,47),new V(26,48)),new ee(30,new V(39,24),new V(14,25)),new ee(30,new V(22,15),new V(41,16))),new Pe(36,Int32Array.from([6,24,50,76,102,128,154]),new ee(30,new V(6,121),new V(14,122)),new ee(28,new V(6,47),new V(34,48)),new ee(30,new V(46,24),new V(10,25)),new ee(30,new V(2,15),new V(64,16))),new Pe(37,Int32Array.from([6,28,54,80,106,132,158]),new ee(30,new V(17,122),new V(4,123)),new ee(28,new V(29,46),new V(14,47)),new ee(30,new V(49,24),new V(10,25)),new ee(30,new V(24,15),new V(46,16))),new Pe(38,Int32Array.from([6,32,58,84,110,136,162]),new ee(30,new V(4,122),new V(18,123)),new ee(28,new V(13,46),new V(32,47)),new ee(30,new V(48,24),new V(14,25)),new ee(30,new V(42,15),new V(32,16))),new Pe(39,Int32Array.from([6,26,54,82,110,138,166]),new ee(30,new V(20,117),new V(4,118)),new ee(28,new V(40,47),new V(7,48)),new ee(30,new V(43,24),new V(22,25)),new ee(30,new V(10,15),new V(67,16))),new Pe(40,Int32Array.from([6,30,58,86,114,142,170]),new ee(30,new V(19,118),new V(6,119)),new ee(28,new V(18,47),new V(31,48)),new ee(30,new V(34,24),new V(34,25)),new ee(30,new V(20,15),new V(61,16)))];var mn;(function(D){D[D.DATA_MASK_000=0]="DATA_MASK_000",D[D.DATA_MASK_001=1]="DATA_MASK_001",D[D.DATA_MASK_010=2]="DATA_MASK_010",D[D.DATA_MASK_011=3]="DATA_MASK_011",D[D.DATA_MASK_100=4]="DATA_MASK_100",D[D.DATA_MASK_101=5]="DATA_MASK_101",D[D.DATA_MASK_110=6]="DATA_MASK_110",D[D.DATA_MASK_111=7]="DATA_MASK_111"})(mn||(mn={}));class An{constructor(r,o){this.value=r,this.isMasked=o}unmaskBitMatrix(r,o){for(let l=0;l<o;l++)for(let h=0;h<o;h++)this.isMasked(l,h)&&r.flip(h,l)}}An.values=new Map([[mn.DATA_MASK_000,new An(mn.DATA_MASK_000,(D,r)=>(D+r&1)===0)],[mn.DATA_MASK_001,new An(mn.DATA_MASK_001,(D,r)=>(D&1)===0)],[mn.DATA_MASK_010,new An(mn.DATA_MASK_010,(D,r)=>r%3===0)],[mn.DATA_MASK_011,new An(mn.DATA_MASK_011,(D,r)=>(D+r)%3===0)],[mn.DATA_MASK_100,new An(mn.DATA_MASK_100,(D,r)=>(Math.floor(D/2)+Math.floor(r/3)&1)===0)],[mn.DATA_MASK_101,new An(mn.DATA_MASK_101,(D,r)=>D*r%6===0)],[mn.DATA_MASK_110,new An(mn.DATA_MASK_110,(D,r)=>D*r%6<3)],[mn.DATA_MASK_111,new An(mn.DATA_MASK_111,(D,r)=>(D+r+D*r%3&1)===0)]]);class Us{constructor(r){const o=r.getHeight();if(o<21||(o&3)!==1)throw new H;this.bitMatrix=r}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let r=0;for(let f=0;f<6;f++)r=this.copyBit(f,8,r);r=this.copyBit(7,8,r),r=this.copyBit(8,8,r),r=this.copyBit(8,7,r);for(let f=5;f>=0;f--)r=this.copyBit(8,f,r);const o=this.bitMatrix.getHeight();let l=0;const h=o-7;for(let f=o-1;f>=h;f--)l=this.copyBit(8,f,l);for(let f=o-8;f<o;f++)l=this.copyBit(f,8,l);if(this.parsedFormatInfo=In.decodeFormatInformation(r,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new H}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const r=this.bitMatrix.getHeight(),o=Math.floor((r-17)/4);if(o<=6)return Pe.getVersionForNumber(o);let l=0;const h=r-11;for(let m=5;m>=0;m--)for(let p=r-9;p>=h;p--)l=this.copyBit(p,m,l);let f=Pe.decodeVersionInformation(l);if(f!==null&&f.getDimensionForVersion()===r)return this.parsedVersion=f,f;l=0;for(let m=5;m>=0;m--)for(let p=r-9;p>=h;p--)l=this.copyBit(m,p,l);if(f=Pe.decodeVersionInformation(l),f!==null&&f.getDimensionForVersion()===r)return this.parsedVersion=f,f;throw new H}copyBit(r,o,l){return(this.isMirror?this.bitMatrix.get(o,r):this.bitMatrix.get(r,o))?l<<1|1:l<<1}readCodewords(){const r=this.readFormatInformation(),o=this.readVersion(),l=An.values.get(r.getDataMask()),h=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,h);const f=o.buildFunctionPattern();let m=!0;const p=new Uint8Array(o.getTotalCodewords());let A=0,C=0,b=0;for(let O=h-1;O>0;O-=2){O===6&&O--;for(let L=0;L<h;L++){const F=m?h-1-L:L;for(let Y=0;Y<2;Y++)f.get(O-Y,F)||(b++,C<<=1,this.bitMatrix.get(O-Y,F)&&(C|=1),b===8&&(p[A++]=C,b=0,C=0))}m=!m}if(A!==o.getTotalCodewords())throw new H;return p}remask(){if(this.parsedFormatInfo===null)return;const r=An.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,o)}setMirror(r){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=r}mirror(){const r=this.bitMatrix;for(let o=0,l=r.getWidth();o<l;o++)for(let h=o+1,f=r.getHeight();h<f;h++)r.get(o,h)!==r.get(h,o)&&(r.flip(h,o),r.flip(o,h))}}class wa{constructor(r,o){this.numDataCodewords=r,this.codewords=o}static getDataBlocks(r,o,l){if(r.length!==o.getTotalCodewords())throw new M;const h=o.getECBlocksForLevel(l);let f=0;const m=h.getECBlocks();for(const Y of m)f+=Y.getCount();const p=new Array(f);let A=0;for(const Y of m)for(let Q=0;Q<Y.getCount();Q++){const ne=Y.getDataCodewords(),ue=h.getECCodewordsPerBlock()+ne;p[A++]=new wa(ne,new Uint8Array(ue))}const C=p[0].codewords.length;let b=p.length-1;for(;b>=0&&p[b].codewords.length!==C;)b--;b++;const O=C-h.getECCodewordsPerBlock();let L=0;for(let Y=0;Y<O;Y++)for(let Q=0;Q<A;Q++)p[Q].codewords[Y]=r[L++];for(let Y=b;Y<A;Y++)p[Y].codewords[O]=r[L++];const F=p[0].codewords.length;for(let Y=O;Y<F;Y++)for(let Q=0;Q<A;Q++){const ne=Q<b?Y:Y+1;p[Q].codewords[ne]=r[L++]}return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var gr;(function(D){D[D.TERMINATOR=0]="TERMINATOR",D[D.NUMERIC=1]="NUMERIC",D[D.ALPHANUMERIC=2]="ALPHANUMERIC",D[D.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",D[D.BYTE=4]="BYTE",D[D.ECI=5]="ECI",D[D.KANJI=6]="KANJI",D[D.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",D[D.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",D[D.HANZI=9]="HANZI"})(gr||(gr={}));class We{constructor(r,o,l,h){this.value=r,this.stringValue=o,this.characterCountBitsForVersions=l,this.bits=h,We.FOR_BITS.set(h,this),We.FOR_VALUE.set(r,this)}static forBits(r){const o=We.FOR_BITS.get(r);if(o===void 0)throw new M;return o}getCharacterCountBits(r){const o=r.getVersionNumber();let l;return o<=9?l=0:o<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(r){if(!(r instanceof We))return!1;const o=r;return this.value===o.value}toString(){return this.stringValue}}We.FOR_BITS=new Map,We.FOR_VALUE=new Map,We.TERMINATOR=new We(gr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),We.NUMERIC=new We(gr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),We.ALPHANUMERIC=new We(gr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),We.STRUCTURED_APPEND=new We(gr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),We.BYTE=new We(gr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),We.ECI=new We(gr.ECI,"ECI",Int32Array.from([0,0,0]),7),We.KANJI=new We(gr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),We.FNC1_FIRST_POSITION=new We(gr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),We.FNC1_SECOND_POSITION=new We(gr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),We.HANZI=new We(gr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class hn{static decode(r,o,l,h){const f=new or(r);let m=new j;const p=new Array;let A=-1,C=-1;try{let b=null,O=!1,L;do{if(f.available()<4)L=We.TERMINATOR;else{const F=f.readBits(4);L=We.forBits(F)}switch(L){case We.TERMINATOR:break;case We.FNC1_FIRST_POSITION:case We.FNC1_SECOND_POSITION:O=!0;break;case We.STRUCTURED_APPEND:if(f.available()<16)throw new H;A=f.readBits(8),C=f.readBits(8);break;case We.ECI:const F=hn.parseECIValue(f);if(b=k.getCharacterSetECIByValue(F),b===null)throw new H;break;case We.HANZI:const Y=f.readBits(4),Q=f.readBits(L.getCharacterCountBits(o));Y===hn.GB2312_SUBSET&&hn.decodeHanziSegment(f,m,Q);break;default:const ne=f.readBits(L.getCharacterCountBits(o));switch(L){case We.NUMERIC:hn.decodeNumericSegment(f,m,ne);break;case We.ALPHANUMERIC:hn.decodeAlphanumericSegment(f,m,ne,O);break;case We.BYTE:hn.decodeByteSegment(f,m,ne,b,p,h);break;case We.KANJI:hn.decodeKanjiSegment(f,m,ne);break;default:throw new H}break}}while(L!==We.TERMINATOR)}catch{throw new H}return new Dr(r,m.toString(),p.length===0?null:p,l===null?null:l.toString(),A,C)}static decodeHanziSegment(r,o,l){if(l*13>r.available())throw new H;const h=new Uint8Array(2*l);let f=0;for(;l>0;){const m=r.readBits(13);let p=m/96<<8&4294967295|m%96;p<959?p+=41377:p+=42657,h[f]=p>>8&255,h[f+1]=p&255,f+=2,l--}try{o.append(K.decode(h,q.GB2312))}catch(m){throw new H(m)}}static decodeKanjiSegment(r,o,l){if(l*13>r.available())throw new H;const h=new Uint8Array(2*l);let f=0;for(;l>0;){const m=r.readBits(13);let p=m/192<<8&4294967295|m%192;p<7936?p+=33088:p+=49472,h[f]=p>>8,h[f+1]=p,f+=2,l--}try{o.append(K.decode(h,q.SHIFT_JIS))}catch(m){throw new H(m)}}static decodeByteSegment(r,o,l,h,f,m){if(8*l>r.available())throw new H;const p=new Uint8Array(l);for(let C=0;C<l;C++)p[C]=r.readBits(8);let A;h===null?A=q.guessEncoding(p,m):A=h.getName();try{o.append(K.decode(p,A))}catch(C){throw new H(C)}f.push(p)}static toAlphaNumericChar(r){if(r>=hn.ALPHANUMERIC_CHARS.length)throw new H;return hn.ALPHANUMERIC_CHARS[r]}static decodeAlphanumericSegment(r,o,l,h){const f=o.length();for(;l>1;){if(r.available()<11)throw new H;const m=r.readBits(11);o.append(hn.toAlphaNumericChar(Math.floor(m/45))),o.append(hn.toAlphaNumericChar(m%45)),l-=2}if(l===1){if(r.available()<6)throw new H;o.append(hn.toAlphaNumericChar(r.readBits(6)))}if(h)for(let m=f;m<o.length();m++)o.charAt(m)==="%"&&(m<o.length()-1&&o.charAt(m+1)==="%"?o.deleteCharAt(m+1):o.setCharAt(m,""))}static decodeNumericSegment(r,o,l){for(;l>=3;){if(r.available()<10)throw new H;const h=r.readBits(10);if(h>=1e3)throw new H;o.append(hn.toAlphaNumericChar(Math.floor(h/100))),o.append(hn.toAlphaNumericChar(Math.floor(h/10)%10)),o.append(hn.toAlphaNumericChar(h%10)),l-=3}if(l===2){if(r.available()<7)throw new H;const h=r.readBits(7);if(h>=100)throw new H;o.append(hn.toAlphaNumericChar(Math.floor(h/10))),o.append(hn.toAlphaNumericChar(h%10))}else if(l===1){if(r.available()<4)throw new H;const h=r.readBits(4);if(h>=10)throw new H;o.append(hn.toAlphaNumericChar(h))}}static parseECIValue(r){const o=r.readBits(8);if((o&128)===0)return o&127;if((o&192)===128){const l=r.readBits(8);return(o&63)<<8&4294967295|l}if((o&224)===192){const l=r.readBits(16);return(o&31)<<16&4294967295|l}throw new H}}hn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",hn.GB2312_SUBSET=1;class Jo{constructor(r){this.mirrored=r}isMirrored(){return this.mirrored}applyMirroredCorrection(r){if(!this.mirrored||r===null||r.length<3)return;const o=r[0];r[0]=r[2],r[2]=o}}class Ta{constructor(){this.rsDecoder=new hs(_t.QR_CODE_FIELD_256)}decodeBooleanArray(r,o){return this.decodeBitMatrix(vt.parseFromBooleanArray(r),o)}decodeBitMatrix(r,o){const l=new Us(r);let h=null;try{return this.decodeBitMatrixParser(l,o)}catch(f){h=f}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const f=this.decodeBitMatrixParser(l,o);return f.setOther(new Jo(!0)),f}catch(f){throw h!==null?h:f}}decodeBitMatrixParser(r,o){const l=r.readVersion(),h=r.readFormatInformation().getErrorCorrectionLevel(),f=r.readCodewords(),m=wa.getDataBlocks(f,l,h);let p=0;for(const b of m)p+=b.getNumDataCodewords();const A=new Uint8Array(p);let C=0;for(const b of m){const O=b.getCodewords(),L=b.getNumDataCodewords();this.correctErrors(O,L);for(let F=0;F<L;F++)A[C++]=O[F]}return hn.decode(A,l,h,o)}correctErrors(r,o){const l=new Int32Array(r);try{this.rsDecoder.decode(l,r.length-o)}catch{throw new W}for(let h=0;h<o;h++)r[h]=l[h]}}class fi extends Ue{constructor(r,o,l){super(r,o),this.estimatedModuleSize=l}aboutEquals(r,o,l){if(Math.abs(o-this.getY())<=r&&Math.abs(l-this.getX())<=r){const h=Math.abs(r-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(r,o,l){const h=(this.getX()+o)/2,f=(this.getY()+r)/2,m=(this.estimatedModuleSize+l)/2;return new fi(h,f,m)}}class wr{constructor(r,o,l,h,f,m,p){this.image=r,this.startX=o,this.startY=l,this.width=h,this.height=f,this.moduleSize=m,this.resultPointCallback=p,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const r=this.startX,o=this.height,l=this.width,h=r+l,f=this.startY+o/2,m=new Int32Array(3),p=this.image;for(let A=0;A<o;A++){const C=f+((A&1)===0?Math.floor((A+1)/2):-Math.floor((A+1)/2));m[0]=0,m[1]=0,m[2]=0;let b=r;for(;b<h&&!p.get(b,C);)b++;let O=0;for(;b<h;){if(p.get(b,C))if(O===1)m[1]++;else if(O===2){if(this.foundPatternCross(m)){const L=this.handlePossibleCenter(m,C,b);if(L!==null)return L}m[0]=m[2],m[1]=1,m[2]=0,O=1}else m[++O]++;else O===1&&O++,m[O]++;b++}if(this.foundPatternCross(m)){const L=this.handlePossibleCenter(m,C,h);if(L!==null)return L}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new fe}static centerFromEnd(r,o){return o-r[2]-r[1]/2}foundPatternCross(r){const o=this.moduleSize,l=o/2;for(let h=0;h<3;h++)if(Math.abs(o-r[h])>=l)return!1;return!0}crossCheckVertical(r,o,l,h){const f=this.image,m=f.getHeight(),p=this.crossCheckStateCount;p[0]=0,p[1]=0,p[2]=0;let A=r;for(;A>=0&&f.get(o,A)&&p[1]<=l;)p[1]++,A--;if(A<0||p[1]>l)return NaN;for(;A>=0&&!f.get(o,A)&&p[0]<=l;)p[0]++,A--;if(p[0]>l)return NaN;for(A=r+1;A<m&&f.get(o,A)&&p[1]<=l;)p[1]++,A++;if(A===m||p[1]>l)return NaN;for(;A<m&&!f.get(o,A)&&p[2]<=l;)p[2]++,A++;if(p[2]>l)return NaN;const C=p[0]+p[1]+p[2];return 5*Math.abs(C-h)>=2*h?NaN:this.foundPatternCross(p)?wr.centerFromEnd(p,A):NaN}handlePossibleCenter(r,o,l){const h=r[0]+r[1]+r[2],f=wr.centerFromEnd(r,l),m=this.crossCheckVertical(o,f,2*r[1],h);if(!isNaN(m)){const p=(r[0]+r[1]+r[2])/3;for(const C of this.possibleCenters)if(C.aboutEquals(p,m,f))return C.combineEstimate(m,f,p);const A=new fi(f,m,p);this.possibleCenters.push(A),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(A)}return null}}class di extends Ue{constructor(r,o,l,h){super(r,o),this.estimatedModuleSize=l,this.count=h,h===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(r,o,l){if(Math.abs(o-this.getY())<=r&&Math.abs(l-this.getX())<=r){const h=Math.abs(r-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(r,o,l){const h=this.count+1,f=(this.count*this.getX()+o)/h,m=(this.count*this.getY()+r)/h,p=(this.count*this.estimatedModuleSize+l)/h;return new di(f,m,p,h)}}class Zi{constructor(r){this.bottomLeft=r[0],this.topLeft=r[1],this.topRight=r[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class bn{constructor(r,o){this.image=r,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(r){const o=r!=null&&r.get(qe.TRY_HARDER)!==void 0,l=r!=null&&r.get(qe.PURE_BARCODE)!==void 0,h=this.image,f=h.getHeight(),m=h.getWidth();let p=Math.floor(3*f/(4*bn.MAX_MODULES));(p<bn.MIN_SKIP||o)&&(p=bn.MIN_SKIP);let A=!1;const C=new Int32Array(5);for(let O=p-1;O<f&&!A;O+=p){C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0;let L=0;for(let F=0;F<m;F++)if(h.get(F,O))(L&1)===1&&L++,C[L]++;else if((L&1)===0)if(L===4)if(bn.foundPatternCross(C)){if(this.handlePossibleCenter(C,O,F,l)===!0)if(p=2,this.hasSkipped===!0)A=this.haveMultiplyConfirmedCenters();else{const Q=this.findRowSkip();Q>C[2]&&(O+=Q-C[2]-p,F=m-1)}else{C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,L=3;continue}L=0,C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0}else C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,L=3;else C[++L]++;else C[L]++;bn.foundPatternCross(C)&&this.handlePossibleCenter(C,O,m,l)===!0&&(p=C[0],this.hasSkipped&&(A=this.haveMultiplyConfirmedCenters()))}const b=this.selectBestPatterns();return Ue.orderBestPatterns(b),new Zi(b)}static centerFromEnd(r,o){return o-r[4]-r[3]-r[2]/2}static foundPatternCross(r){let o=0;for(let f=0;f<5;f++){const m=r[f];if(m===0)return!1;o+=m}if(o<7)return!1;const l=o/7,h=l/2;return Math.abs(l-r[0])<h&&Math.abs(l-r[1])<h&&Math.abs(3*l-r[2])<3*h&&Math.abs(l-r[3])<h&&Math.abs(l-r[4])<h}getCrossCheckStateCount(){const r=this.crossCheckStateCount;return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r}crossCheckDiagonal(r,o,l,h){const f=this.getCrossCheckStateCount();let m=0;const p=this.image;for(;r>=m&&o>=m&&p.get(o-m,r-m);)f[2]++,m++;if(r<m||o<m)return!1;for(;r>=m&&o>=m&&!p.get(o-m,r-m)&&f[1]<=l;)f[1]++,m++;if(r<m||o<m||f[1]>l)return!1;for(;r>=m&&o>=m&&p.get(o-m,r-m)&&f[0]<=l;)f[0]++,m++;if(f[0]>l)return!1;const A=p.getHeight(),C=p.getWidth();for(m=1;r+m<A&&o+m<C&&p.get(o+m,r+m);)f[2]++,m++;if(r+m>=A||o+m>=C)return!1;for(;r+m<A&&o+m<C&&!p.get(o+m,r+m)&&f[3]<l;)f[3]++,m++;if(r+m>=A||o+m>=C||f[3]>=l)return!1;for(;r+m<A&&o+m<C&&p.get(o+m,r+m)&&f[4]<l;)f[4]++,m++;if(f[4]>=l)return!1;const b=f[0]+f[1]+f[2]+f[3]+f[4];return Math.abs(b-h)<2*h&&bn.foundPatternCross(f)}crossCheckVertical(r,o,l,h){const f=this.image,m=f.getHeight(),p=this.getCrossCheckStateCount();let A=r;for(;A>=0&&f.get(o,A);)p[2]++,A--;if(A<0)return NaN;for(;A>=0&&!f.get(o,A)&&p[1]<=l;)p[1]++,A--;if(A<0||p[1]>l)return NaN;for(;A>=0&&f.get(o,A)&&p[0]<=l;)p[0]++,A--;if(p[0]>l)return NaN;for(A=r+1;A<m&&f.get(o,A);)p[2]++,A++;if(A===m)return NaN;for(;A<m&&!f.get(o,A)&&p[3]<l;)p[3]++,A++;if(A===m||p[3]>=l)return NaN;for(;A<m&&f.get(o,A)&&p[4]<l;)p[4]++,A++;if(p[4]>=l)return NaN;const C=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(C-h)>=2*h?NaN:bn.foundPatternCross(p)?bn.centerFromEnd(p,A):NaN}crossCheckHorizontal(r,o,l,h){const f=this.image,m=f.getWidth(),p=this.getCrossCheckStateCount();let A=r;for(;A>=0&&f.get(A,o);)p[2]++,A--;if(A<0)return NaN;for(;A>=0&&!f.get(A,o)&&p[1]<=l;)p[1]++,A--;if(A<0||p[1]>l)return NaN;for(;A>=0&&f.get(A,o)&&p[0]<=l;)p[0]++,A--;if(p[0]>l)return NaN;for(A=r+1;A<m&&f.get(A,o);)p[2]++,A++;if(A===m)return NaN;for(;A<m&&!f.get(A,o)&&p[3]<l;)p[3]++,A++;if(A===m||p[3]>=l)return NaN;for(;A<m&&f.get(A,o)&&p[4]<l;)p[4]++,A++;if(p[4]>=l)return NaN;const C=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(C-h)>=h?NaN:bn.foundPatternCross(p)?bn.centerFromEnd(p,A):NaN}handlePossibleCenter(r,o,l,h){const f=r[0]+r[1]+r[2]+r[3]+r[4];let m=bn.centerFromEnd(r,l),p=this.crossCheckVertical(o,Math.floor(m),r[2],f);if(!isNaN(p)&&(m=this.crossCheckHorizontal(Math.floor(m),Math.floor(p),r[2],f),!isNaN(m)&&(!h||this.crossCheckDiagonal(Math.floor(p),Math.floor(m),r[2],f)))){const A=f/7;let C=!1;const b=this.possibleCenters;for(let O=0,L=b.length;O<L;O++){const F=b[O];if(F.aboutEquals(A,p,m)){b[O]=F.combineEstimate(p,m,A),C=!0;break}}if(!C){const O=new di(m,p,A);b.push(O),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(O)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const l of this.possibleCenters)if(l.getCount()>=bn.CENTER_QUORUM)if(o==null)o=l;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-l.getX())-Math.abs(o.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let r=0,o=0;const l=this.possibleCenters.length;for(const m of this.possibleCenters)m.getCount()>=bn.CENTER_QUORUM&&(r++,o+=m.getEstimatedModuleSize());if(r<3)return!1;const h=o/l;let f=0;for(const m of this.possibleCenters)f+=Math.abs(m.getEstimatedModuleSize()-h);return f<=.05*o}selectBestPatterns(){const r=this.possibleCenters.length;if(r<3)throw new fe;const o=this.possibleCenters;let l;if(r>3){let h=0,f=0;for(const A of this.possibleCenters){const C=A.getEstimatedModuleSize();h+=C,f+=C*C}l=h/r;let m=Math.sqrt(f/r-l*l);o.sort((A,C)=>{const b=Math.abs(C.getEstimatedModuleSize()-l),O=Math.abs(A.getEstimatedModuleSize()-l);return b<O?-1:b>O?1:0});const p=Math.max(.2*l,m);for(let A=0;A<o.length&&o.length>3;A++){const C=o[A];Math.abs(C.getEstimatedModuleSize()-l)>p&&(o.splice(A,1),A--)}}if(o.length>3){let h=0;for(const f of o)h+=f.getEstimatedModuleSize();l=h/o.length,o.sort((f,m)=>{if(m.getCount()===f.getCount()){const p=Math.abs(m.getEstimatedModuleSize()-l),A=Math.abs(f.getEstimatedModuleSize()-l);return p<A?1:p>A?-1:0}else return m.getCount()-f.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}bn.CENTER_QUORUM=2,bn.MIN_SKIP=3,bn.MAX_MODULES=57;class Br{constructor(r){this.image=r}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(r){this.resultPointCallback=r==null?null:r.get(qe.NEED_RESULT_POINT_CALLBACK);const l=new bn(this.image,this.resultPointCallback).find(r);return this.processFinderPatternInfo(l)}processFinderPatternInfo(r){const o=r.getTopLeft(),l=r.getTopRight(),h=r.getBottomLeft(),f=this.calculateModuleSize(o,l,h);if(f<1)throw new fe("No pattern found in proccess finder.");const m=Br.computeDimension(o,l,h,f),p=Pe.getProvisionalVersionForDimension(m),A=p.getDimensionForVersion()-7;let C=null;if(p.getAlignmentPatternCenters().length>0){const F=l.getX()-o.getX()+h.getX(),Y=l.getY()-o.getY()+h.getY(),Q=1-3/A,ne=Math.floor(o.getX()+Q*(F-o.getX())),ue=Math.floor(o.getY()+Q*(Y-o.getY()));for(let be=4;be<=16;be<<=1)try{C=this.findAlignmentInRegion(f,ne,ue,be);break}catch(De){if(!(De instanceof fe))throw De}}const b=Br.createTransform(o,l,h,C,m),O=Br.sampleGrid(this.image,b,m);let L;return C===null?L=[h,o,l]:L=[h,o,l,C],new ga(O,L)}static createTransform(r,o,l,h,f){const m=f-3.5;let p,A,C,b;return h!==null?(p=h.getX(),A=h.getY(),C=m-3,b=C):(p=o.getX()-r.getX()+l.getX(),A=o.getY()-r.getY()+l.getY(),C=m,b=m),Lt.quadrilateralToQuadrilateral(3.5,3.5,m,3.5,C,b,3.5,m,r.getX(),r.getY(),o.getX(),o.getY(),p,A,l.getX(),l.getY())}static sampleGrid(r,o,l){return Vn.getInstance().sampleGridWithTransform(r,l,l,o)}static computeDimension(r,o,l,h){const f=At.round(Ue.distance(r,o)/h),m=At.round(Ue.distance(r,l)/h);let p=Math.floor((f+m)/2)+7;switch(p&3){case 0:p++;break;case 2:p--;break;case 3:throw new fe("Dimensions could be not found.")}return p}calculateModuleSize(r,o,l){return(this.calculateModuleSizeOneWay(r,o)+this.calculateModuleSizeOneWay(r,l))/2}calculateModuleSizeOneWay(r,o){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(o.getX()),Math.floor(o.getY())),h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(r.getX()),Math.floor(r.getY()));return isNaN(l)?h/7:isNaN(h)?l/7:(l+h)/14}sizeOfBlackWhiteBlackRunBothWays(r,o,l,h){let f=this.sizeOfBlackWhiteBlackRun(r,o,l,h),m=1,p=r-(l-r);p<0?(m=r/(r-p),p=0):p>=this.image.getWidth()&&(m=(this.image.getWidth()-1-r)/(p-r),p=this.image.getWidth()-1);let A=Math.floor(o-(h-o)*m);return m=1,A<0?(m=o/(o-A),A=0):A>=this.image.getHeight()&&(m=(this.image.getHeight()-1-o)/(A-o),A=this.image.getHeight()-1),p=Math.floor(r+(p-r)*m),f+=this.sizeOfBlackWhiteBlackRun(r,o,p,A),f-1}sizeOfBlackWhiteBlackRun(r,o,l,h){const f=Math.abs(h-o)>Math.abs(l-r);if(f){let F=r;r=o,o=F,F=l,l=h,h=F}const m=Math.abs(l-r),p=Math.abs(h-o);let A=-m/2;const C=r<l?1:-1,b=o<h?1:-1;let O=0;const L=l+C;for(let F=r,Y=o;F!==L;F+=C){const Q=f?Y:F,ne=f?F:Y;if(O===1===this.image.get(Q,ne)){if(O===2)return At.distance(F,Y,r,o);O++}if(A+=p,A>0){if(Y===h)break;Y+=b,A-=m}}return O===2?At.distance(l+C,h,r,o):NaN}findAlignmentInRegion(r,o,l,h){const f=Math.floor(h*r),m=Math.max(0,o-f),p=Math.min(this.image.getWidth()-1,o+f);if(p-m<r*3)throw new fe("Alignment top exceeds estimated module size.");const A=Math.max(0,l-f),C=Math.min(this.image.getHeight()-1,l+f);if(C-A<r*3)throw new fe("Alignment bottom exceeds estimated module size.");return new wr(this.image,m,A,p-m,C-A,r,this.resultPointCallback).find()}}class gi{constructor(){this.decoder=new Ta}getDecoder(){return this.decoder}decode(r,o){let l,h;if(o!=null&&o.get(qe.PURE_BARCODE)!==void 0){const A=gi.extractPureBits(r.getBlackMatrix());l=this.decoder.decodeBitMatrix(A,o),h=gi.NO_POINTS}else{const A=new Br(r.getBlackMatrix()).detect(o);l=this.decoder.decodeBitMatrix(A.getBits(),o),h=A.getPoints()}l.getOther()instanceof Jo&&l.getOther().applyMirroredCorrection(h);const f=new Ve(l.getText(),l.getRawBytes(),void 0,h,Re.QR_CODE,void 0),m=l.getByteSegments();m!==null&&f.putMetadata(at.BYTE_SEGMENTS,m);const p=l.getECLevel();return p!==null&&f.putMetadata(at.ERROR_CORRECTION_LEVEL,p),l.hasStructuredAppend()&&(f.putMetadata(at.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),f.putMetadata(at.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),f}reset(){}static extractPureBits(r){const o=r.getTopLeftOnBit(),l=r.getBottomRightOnBit();if(o===null||l===null)throw new fe;const h=this.moduleSize(o,r);let f=o[1],m=l[1],p=o[0],A=l[0];if(p>=A||f>=m)throw new fe;if(m-f!==A-p&&(A=p+(m-f),A>=r.getWidth()))throw new fe;const C=Math.round((A-p+1)/h),b=Math.round((m-f+1)/h);if(C<=0||b<=0)throw new fe;if(b!==C)throw new fe;const O=Math.floor(h/2);f+=O,p+=O;const L=p+Math.floor((C-1)*h)-A;if(L>0){if(L>O)throw new fe;p-=L}const F=f+Math.floor((b-1)*h)-m;if(F>0){if(F>O)throw new fe;f-=F}const Y=new vt(C,b);for(let Q=0;Q<b;Q++){const ne=f+Math.floor(Q*h);for(let ue=0;ue<C;ue++)r.get(p+Math.floor(ue*h),ne)&&Y.set(ue,Q)}return Y}static moduleSize(r,o){const l=o.getHeight(),h=o.getWidth();let f=r[0],m=r[1],p=!0,A=0;for(;f<h&&m<l;){if(p!==o.get(f,m)){if(++A===5)break;p=!p}f++,m++}if(f===h||m===l)throw new fe;return(f-r[0])/7}}gi.NO_POINTS=new Array;class Qe{PDF417Common(){}static getBitCountSum(r){return At.sum(r)}static toIntArray(r){if(r==null||!r.length)return Qe.EMPTY_INT_ARRAY;const o=new Int32Array(r.length);let l=0;for(const h of r)o[l++]=h;return o}static getCodeword(r){const o=me.binarySearch(Qe.SYMBOL_TABLE,r&262143);return o<0?-1:(Qe.CODEWORD_TABLE[o]-1)%Qe.NUMBER_OF_CODEWORDS}}Qe.NUMBER_OF_CODEWORDS=929,Qe.MAX_CODEWORDS_IN_BARCODE=Qe.NUMBER_OF_CODEWORDS-1,Qe.MIN_ROWS_IN_BARCODE=3,Qe.MAX_ROWS_IN_BARCODE=90,Qe.MODULES_IN_CODEWORD=17,Qe.MODULES_IN_STOP_PATTERN=18,Qe.BARS_IN_MODULE=8,Qe.EMPTY_INT_ARRAY=new Int32Array([]),Qe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Qe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class mi{constructor(r,o){this.bits=r,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class $e{static detectMultiple(r,o,l){let h=r.getBlackMatrix(),f=$e.detect(l,h);return f.length||(h=h.clone(),h.rotate180(),f=$e.detect(l,h)),new mi(h,f)}static detect(r,o){const l=new Array;let h=0,f=0,m=!1;for(;h<o.getHeight();){const p=$e.findVertices(o,h,f);if(p[0]==null&&p[3]==null){if(!m)break;m=!1,f=0;for(const A of l)A[1]!=null&&(h=Math.trunc(Math.max(h,A[1].getY()))),A[3]!=null&&(h=Math.max(h,Math.trunc(A[3].getY())));h+=$e.ROW_STEP;continue}if(m=!0,l.push(p),!r)break;p[2]!=null?(f=Math.trunc(p[2].getX()),h=Math.trunc(p[2].getY())):(f=Math.trunc(p[4].getX()),h=Math.trunc(p[4].getY()))}return l}static findVertices(r,o,l){const h=r.getHeight(),f=r.getWidth(),m=new Array(8);return $e.copyToResult(m,$e.findRowsWithPattern(r,h,f,o,l,$e.START_PATTERN),$e.INDEXES_START_PATTERN),m[4]!=null&&(l=Math.trunc(m[4].getX()),o=Math.trunc(m[4].getY())),$e.copyToResult(m,$e.findRowsWithPattern(r,h,f,o,l,$e.STOP_PATTERN),$e.INDEXES_STOP_PATTERN),m}static copyToResult(r,o,l){for(let h=0;h<l.length;h++)r[l[h]]=o[h]}static findRowsWithPattern(r,o,l,h,f,m){const p=new Array(4);let A=!1;const C=new Int32Array(m.length);for(;h<o;h+=$e.ROW_STEP){let O=$e.findGuardPattern(r,f,h,l,!1,m,C);if(O!=null){for(;h>0;){const L=$e.findGuardPattern(r,f,--h,l,!1,m,C);if(L!=null)O=L;else{h++;break}}p[0]=new Ue(O[0],h),p[1]=new Ue(O[1],h),A=!0;break}}let b=h+1;if(A){let O=0,L=Int32Array.from([Math.trunc(p[0].getX()),Math.trunc(p[1].getX())]);for(;b<o;b++){const F=$e.findGuardPattern(r,L[0],b,l,!1,m,C);if(F!=null&&Math.abs(L[0]-F[0])<$e.MAX_PATTERN_DRIFT&&Math.abs(L[1]-F[1])<$e.MAX_PATTERN_DRIFT)L=F,O=0;else{if(O>$e.SKIPPED_ROW_COUNT_MAX)break;O++}}b-=O+1,p[2]=new Ue(L[0],b),p[3]=new Ue(L[1],b)}return b-h<$e.BARCODE_MIN_HEIGHT&&me.fill(p,null),p}static findGuardPattern(r,o,l,h,f,m,p){me.fillWithin(p,0,p.length,0);let A=o,C=0;for(;r.get(A,l)&&A>0&&C++<$e.MAX_PIXEL_DRIFT;)A--;let b=A,O=0,L=m.length;for(let F=f;b<h;b++)if(r.get(b,l)!==F)p[O]++;else{if(O===L-1){if($e.patternMatchVariance(p,m,$e.MAX_INDIVIDUAL_VARIANCE)<$e.MAX_AVG_VARIANCE)return new Int32Array([A,b]);A+=p[0]+p[1],oe.arraycopy(p,2,p,0,O-1),p[O-1]=0,p[O]=0,O--}else O++;p[O]=1,F=!F}return O===L-1&&$e.patternMatchVariance(p,m,$e.MAX_INDIVIDUAL_VARIANCE)<$e.MAX_AVG_VARIANCE?new Int32Array([A,b-1]):null}static patternMatchVariance(r,o,l){let h=r.length,f=0,m=0;for(let C=0;C<h;C++)f+=r[C],m+=o[C];if(f<m)return 1/0;let p=f/m;l*=p;let A=0;for(let C=0;C<h;C++){let b=r[C],O=o[C]*p,L=b>O?b-O:O-b;if(L>l)return 1/0;A+=L}return A/f}}$e.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),$e.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),$e.MAX_AVG_VARIANCE=.42,$e.MAX_INDIVIDUAL_VARIANCE=.8,$e.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),$e.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),$e.MAX_PIXEL_DRIFT=3,$e.MAX_PATTERN_DRIFT=5,$e.SKIPPED_ROW_COUNT_MAX=25,$e.ROW_STEP=5,$e.BARCODE_MIN_HEIGHT=10;class xn{constructor(r,o){if(o.length===0)throw new M;this.field=r;let l=o.length;if(l>1&&o[0]===0){let h=1;for(;h<l&&o[h]===0;)h++;h===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-h),oe.arraycopy(o,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);if(r===1){let h=0;for(let f of this.coefficients)h=this.field.add(h,f);return h}let o=this.coefficients[0],l=this.coefficients.length;for(let h=1;h<l;h++)o=this.field.add(this.field.multiply(r,o),this.coefficients[h]);return o}add(r){if(!this.field.equals(r.field))throw new M("ModulusPolys do not have same ModulusGF field");if(this.isZero())return r;if(r.isZero())return this;let o=this.coefficients,l=r.coefficients;if(o.length>l.length){let m=o;o=l,l=m}let h=new Int32Array(l.length),f=l.length-o.length;oe.arraycopy(l,0,h,0,f);for(let m=f;m<l.length;m++)h[m]=this.field.add(o[m-f],l[m]);return new xn(this.field,h)}subtract(r){if(!this.field.equals(r.field))throw new M("ModulusPolys do not have same ModulusGF field");return r.isZero()?this:this.add(r.negative())}multiply(r){return r instanceof xn?this.multiplyOther(r):this.multiplyScalar(r)}multiplyOther(r){if(!this.field.equals(r.field))throw new M("ModulusPolys do not have same ModulusGF field");if(this.isZero()||r.isZero())return new xn(this.field,new Int32Array([0]));let o=this.coefficients,l=o.length,h=r.coefficients,f=h.length,m=new Int32Array(l+f-1);for(let p=0;p<l;p++){let A=o[p];for(let C=0;C<f;C++)m[p+C]=this.field.add(m[p+C],this.field.multiply(A,h[C]))}return new xn(this.field,m)}negative(){let r=this.coefficients.length,o=new Int32Array(r);for(let l=0;l<r;l++)o[l]=this.field.subtract(0,this.coefficients[l]);return new xn(this.field,o)}multiplyScalar(r){if(r===0)return new xn(this.field,new Int32Array([0]));if(r===1)return this;let o=this.coefficients.length,l=new Int32Array(o);for(let h=0;h<o;h++)l[h]=this.field.multiply(this.coefficients[h],r);return new xn(this.field,l)}multiplyByMonomial(r,o){if(r<0)throw new M;if(o===0)return new xn(this.field,new Int32Array([0]));let l=this.coefficients.length,h=new Int32Array(l+r);for(let f=0;f<l;f++)h[f]=this.field.multiply(this.coefficients[f],o);return new xn(this.field,h)}toString(){let r=new j;for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);l!==0&&(l<0?(r.append(" - "),l=-l):r.length()>0&&r.append(" + "),(o===0||l!==1)&&r.append(l),o!==0&&(o===1?r.append("x"):(r.append("x^"),r.append(o))))}return r.toString()}}class Pi{add(r,o){return(r+o)%this.modulus}subtract(r,o){return(this.modulus+r-o)%this.modulus}exp(r){return this.expTable[r]}log(r){if(r===0)throw new M;return this.logTable[r]}inverse(r){if(r===0)throw new Ni;return this.expTable[this.modulus-this.logTable[r]-1]}multiply(r,o){return r===0||o===0?0:this.expTable[(this.logTable[r]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(r){return r===this}}class Bi extends Pi{constructor(r,o){super(),this.modulus=r,this.expTable=new Int32Array(r),this.logTable=new Int32Array(r);let l=1;for(let h=0;h<r;h++)this.expTable[h]=l,l=l*o%r;for(let h=0;h<r-1;h++)this.logTable[this.expTable[h]]=h;this.zero=new xn(this,new Int32Array([0])),this.one=new xn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,o){if(r<0)throw new M;if(o===0)return this.zero;let l=new Int32Array(r+1);return l[0]=o,new xn(this,l)}}Bi.PDF417_GF=new Bi(Qe.NUMBER_OF_CODEWORDS,3);class ki{constructor(){this.field=Bi.PDF417_GF}decode(r,o,l){let h=new xn(this.field,r),f=new Int32Array(o),m=!1;for(let Y=o;Y>0;Y--){let Q=h.evaluateAt(this.field.exp(Y));f[o-Y]=Q,Q!==0&&(m=!0)}if(!m)return 0;let p=this.field.getOne();if(l!=null)for(const Y of l){let Q=this.field.exp(r.length-1-Y),ne=new xn(this.field,new Int32Array([this.field.subtract(0,Q),1]));p=p.multiply(ne)}let A=new xn(this.field,f),C=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),A,o),b=C[0],O=C[1],L=this.findErrorLocations(b),F=this.findErrorMagnitudes(O,b,L);for(let Y=0;Y<L.length;Y++){let Q=r.length-1-this.field.log(L[Y]);if(Q<0)throw W.getChecksumInstance();r[Q]=this.field.subtract(r[Q],F[Y])}return L.length}runEuclideanAlgorithm(r,o,l){if(r.getDegree()<o.getDegree()){let L=r;r=o,o=L}let h=r,f=o,m=this.field.getZero(),p=this.field.getOne();for(;f.getDegree()>=Math.round(l/2);){let L=h,F=m;if(h=f,m=p,h.isZero())throw W.getChecksumInstance();f=L;let Y=this.field.getZero(),Q=h.getCoefficient(h.getDegree()),ne=this.field.inverse(Q);for(;f.getDegree()>=h.getDegree()&&!f.isZero();){let ue=f.getDegree()-h.getDegree(),be=this.field.multiply(f.getCoefficient(f.getDegree()),ne);Y=Y.add(this.field.buildMonomial(ue,be)),f=f.subtract(h.multiplyByMonomial(ue,be))}p=Y.multiply(m).subtract(F).negative()}let A=p.getCoefficient(0);if(A===0)throw W.getChecksumInstance();let C=this.field.inverse(A),b=p.multiply(C),O=f.multiply(C);return[b,O]}findErrorLocations(r){let o=r.getDegree(),l=new Int32Array(o),h=0;for(let f=1;f<this.field.getSize()&&h<o;f++)r.evaluateAt(f)===0&&(l[h]=this.field.inverse(f),h++);if(h!==o)throw W.getChecksumInstance();return l}findErrorMagnitudes(r,o,l){let h=o.getDegree(),f=new Int32Array(h);for(let C=1;C<=h;C++)f[h-C]=this.field.multiply(C,o.getCoefficient(C));let m=new xn(this.field,f),p=l.length,A=new Int32Array(p);for(let C=0;C<p;C++){let b=this.field.inverse(l[C]),O=this.field.subtract(0,r.evaluateAt(b)),L=this.field.inverse(m.evaluateAt(b));A[C]=this.field.multiply(O,L)}return A}}class pi{constructor(r,o,l,h,f){r instanceof pi?this.constructor_2(r):this.constructor_1(r,o,l,h,f)}constructor_1(r,o,l,h,f){const m=o==null||l==null,p=h==null||f==null;if(m&&p)throw new fe;m?(o=new Ue(0,h.getY()),l=new Ue(0,f.getY())):p&&(h=new Ue(r.getWidth()-1,o.getY()),f=new Ue(r.getWidth()-1,l.getY())),this.image=r,this.topLeft=o,this.bottomLeft=l,this.topRight=h,this.bottomRight=f,this.minX=Math.trunc(Math.min(o.getX(),l.getX())),this.maxX=Math.trunc(Math.max(h.getX(),f.getX())),this.minY=Math.trunc(Math.min(o.getY(),h.getY())),this.maxY=Math.trunc(Math.max(l.getY(),f.getY()))}constructor_2(r){this.image=r.image,this.topLeft=r.getTopLeft(),this.bottomLeft=r.getBottomLeft(),this.topRight=r.getTopRight(),this.bottomRight=r.getBottomRight(),this.minX=r.getMinX(),this.maxX=r.getMaxX(),this.minY=r.getMinY(),this.maxY=r.getMaxY()}static merge(r,o){return r==null?o:o==null?r:new pi(r.image,r.topLeft,r.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(r,o,l){let h=this.topLeft,f=this.bottomLeft,m=this.topRight,p=this.bottomRight;if(r>0){let A=l?this.topLeft:this.topRight,C=Math.trunc(A.getY()-r);C<0&&(C=0);let b=new Ue(A.getX(),C);l?h=b:m=b}if(o>0){let A=l?this.bottomLeft:this.bottomRight,C=Math.trunc(A.getY()+o);C>=this.image.getHeight()&&(C=this.image.getHeight()-1);let b=new Ue(A.getX(),C);l?f=b:p=b}return new pi(this.image,h,f,m,p)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Vi{constructor(r,o,l,h){this.columnCount=r,this.errorCorrectionLevel=h,this.rowCountUpperPart=o,this.rowCountLowerPart=l,this.rowCount=o+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class kr{constructor(){this.buffer=""}static form(r,o){let l=-1;function h(m,p,A,C,b,O){if(m==="%%")return"%";if(o[++l]===void 0)return;m=C?parseInt(C.substr(1)):void 0;let L=b?parseInt(b.substr(1)):void 0,F;switch(O){case"s":F=o[l];break;case"c":F=o[l][0];break;case"f":F=parseFloat(o[l]).toFixed(m);break;case"p":F=parseFloat(o[l]).toPrecision(m);break;case"e":F=parseFloat(o[l]).toExponential(m);break;case"x":F=parseInt(o[l]).toString(L||16);break;case"d":F=parseFloat(parseInt(o[l],L||10).toPrecision(m)).toFixed(0);break}F=typeof F=="object"?JSON.stringify(F):(+F).toString(L);let Y=parseInt(A),Q=A&&A[0]+""=="0"?"0":" ";for(;F.length<Y;)F=p!==void 0?F+Q:Q+F;return F}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(f,h)}format(r,...o){this.buffer+=kr.form(r,o)}toString(){return this.buffer}}class Ji{constructor(r){this.boundingBox=new pi(r),this.codewords=new Array(r.getMaxY()-r.getMinY()+1)}getCodewordNearby(r){let o=this.getCodeword(r);if(o!=null)return o;for(let l=1;l<Ji.MAX_NEARBY_DISTANCE;l++){let h=this.imageRowToCodewordIndex(r)-l;if(h>=0&&(o=this.codewords[h],o!=null)||(h=this.imageRowToCodewordIndex(r)+l,h<this.codewords.length&&(o=this.codewords[h],o!=null)))return o}return null}imageRowToCodewordIndex(r){return r-this.boundingBox.getMinY()}setCodeword(r,o){this.codewords[this.imageRowToCodewordIndex(r)]=o}getCodeword(r){return this.codewords[this.imageRowToCodewordIndex(r)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const r=new kr;let o=0;for(const l of this.codewords){if(l==null){r.format("%3d:    |   %n",o++);continue}r.format("%3d: %3d|%3d%n",o++,l.getRowNumber(),l.getValue())}return r.toString()}}Ji.MAX_NEARBY_DISTANCE=5;class Rn{constructor(){this.values=new Map}setValue(r){r=Math.trunc(r);let o=this.values.get(r);o==null&&(o=0),o++,this.values.set(r,o)}getValue(){let r=-1,o=new Array;for(const[l,h]of this.values.entries()){const f={getKey:()=>l,getValue:()=>h};f.getValue()>r?(r=f.getValue(),o=[],o.push(f.getKey())):f.getValue()===r&&o.push(f.getKey())}return Qe.toIntArray(o)}getConfidence(r){return this.values.get(r)}}class Vt extends Ji{constructor(r,o){super(r),this._isLeft=o}setRowNumbers(){for(let r of this.getCodewords())r?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(r){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,r);let l=this.getBoundingBox(),h=this._isLeft?l.getTopLeft():l.getTopRight(),f=this._isLeft?l.getBottomLeft():l.getBottomRight(),m=this.imageRowToCodewordIndex(Math.trunc(h.getY())),p=this.imageRowToCodewordIndex(Math.trunc(f.getY())),A=-1,C=1,b=0;for(let O=m;O<p;O++){if(o[O]==null)continue;let L=o[O],F=L.getRowNumber()-A;if(F===0)b++;else if(F===1)C=Math.max(C,b),b=1,A=L.getRowNumber();else if(F<0||L.getRowNumber()>=r.getRowCount()||F>O)o[O]=null;else{let Y;C>2?Y=(C-2)*F:Y=F;let Q=Y>=O;for(let ne=1;ne<=Y&&!Q;ne++)Q=o[O-ne]!=null;Q?o[O]=null:(A=L.getRowNumber(),b=1)}}}getRowHeights(){let r=this.getBarcodeMetadata();if(r==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(r);let o=new Int32Array(r.getRowCount());for(let l of this.getCodewords())if(l!=null){let h=l.getRowNumber();if(h>=o.length)continue;o[h]++}return o}adjustIncompleteIndicatorColumnRowNumbers(r){let o=this.getBoundingBox(),l=this._isLeft?o.getTopLeft():o.getTopRight(),h=this._isLeft?o.getBottomLeft():o.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),m=this.imageRowToCodewordIndex(Math.trunc(h.getY())),p=this.getCodewords(),A=-1;for(let C=f;C<m;C++){if(p[C]==null)continue;let b=p[C];b.setRowNumberAsRowIndicatorColumn();let O=b.getRowNumber()-A;O===0||(O===1?A=b.getRowNumber():b.getRowNumber()>=r.getRowCount()?p[C]=null:A=b.getRowNumber())}}getBarcodeMetadata(){let r=this.getCodewords(),o=new Rn,l=new Rn,h=new Rn,f=new Rn;for(let p of r){if(p==null)continue;p.setRowNumberAsRowIndicatorColumn();let A=p.getValue()%30,C=p.getRowNumber();switch(this._isLeft||(C+=2),C%3){case 0:l.setValue(A*3+1);break;case 1:f.setValue(A/3),h.setValue(A%3);break;case 2:o.setValue(A+1);break}}if(o.getValue().length===0||l.getValue().length===0||h.getValue().length===0||f.getValue().length===0||o.getValue()[0]<1||l.getValue()[0]+h.getValue()[0]<Qe.MIN_ROWS_IN_BARCODE||l.getValue()[0]+h.getValue()[0]>Qe.MAX_ROWS_IN_BARCODE)return null;let m=new Vi(o.getValue()[0],l.getValue()[0],h.getValue()[0],f.getValue()[0]);return this.removeIncorrectCodewords(r,m),m}removeIncorrectCodewords(r,o){for(let l=0;l<r.length;l++){let h=r[l];if(r[l]==null)continue;let f=h.getValue()%30,m=h.getRowNumber();if(m>o.getRowCount()){r[l]=null;continue}switch(this._isLeft||(m+=2),m%3){case 0:f*3+1!==o.getRowCountUpperPart()&&(r[l]=null);break;case 1:(Math.trunc(f/3)!==o.getErrorCorrectionLevel()||f%3!==o.getRowCountLowerPart())&&(r[l]=null);break;case 2:f+1!==o.getColumnCount()&&(r[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ui{constructor(r,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=r,this.barcodeColumnCount=r.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let r=Qe.MAX_CODEWORDS_IN_BARCODE,o;do o=r,r=this.adjustRowNumbersAndGetCount();while(r>0&&r<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(r){r?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let r=this.adjustRowNumbersByRow();if(r===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let l=this.detectionResultColumns[o].getCodewords();for(let h=0;h<l.length;h++)l[h]!=null&&(l[h].hasValidRowNumber()||this.adjustRowNumbers(o,h,l))}return r}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let r=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<r.length;l++)if(r[l]!=null&&o[l]!=null&&r[l].getRowNumber()===o[l].getRowNumber())for(let h=1;h<=this.barcodeColumnCount;h++){let f=this.detectionResultColumns[h].getCodewords()[l];f!=null&&(f.setRowNumber(r[l].getRowNumber()),f.hasValidRowNumber()||(this.detectionResultColumns[h].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let r=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let h=o[l].getRowNumber(),f=0;for(let m=this.barcodeColumnCount+1;m>0&&f<this.ADJUST_ROW_NUMBER_SKIP;m--){let p=this.detectionResultColumns[m].getCodewords()[l];p!=null&&(f=Ui.adjustRowNumberIfValid(h,f,p),p.hasValidRowNumber()||r++)}}return r}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let r=0,o=this.detectionResultColumns[0].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let h=o[l].getRowNumber(),f=0;for(let m=1;m<this.barcodeColumnCount+1&&f<this.ADJUST_ROW_NUMBER_SKIP;m++){let p=this.detectionResultColumns[m].getCodewords()[l];p!=null&&(f=Ui.adjustRowNumberIfValid(h,f,p),p.hasValidRowNumber()||r++)}}return r}static adjustRowNumberIfValid(r,o,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(r)?(l.setRowNumber(r),o=0):++o),o}adjustRowNumbers(r,o,l){if(!this.detectionResultColumns[r-1])return;let h=l[o],f=this.detectionResultColumns[r-1].getCodewords(),m=f;this.detectionResultColumns[r+1]!=null&&(m=this.detectionResultColumns[r+1].getCodewords());let p=new Array(14);p[2]=f[o],p[3]=m[o],o>0&&(p[0]=l[o-1],p[4]=f[o-1],p[5]=m[o-1]),o>1&&(p[8]=l[o-2],p[10]=f[o-2],p[11]=m[o-2]),o<l.length-1&&(p[1]=l[o+1],p[6]=f[o+1],p[7]=m[o+1]),o<l.length-2&&(p[9]=l[o+2],p[12]=f[o+2],p[13]=m[o+2]);for(let A of p)if(Ui.adjustRowNumber(h,A))return}static adjustRowNumber(r,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===r.getBucket()?(r.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(r){this.boundingBox=r}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(r,o){this.detectionResultColumns[r]=o}getDetectionResultColumn(r){return this.detectionResultColumns[r]}toString(){let r=this.detectionResultColumns[0];r==null&&(r=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new kr;for(let l=0;l<r.getCodewords().length;l++){o.format("CW %3d:",l);for(let h=0;h<this.barcodeColumnCount+2;h++){if(this.detectionResultColumns[h]==null){o.format("    |   ");continue}let f=this.detectionResultColumns[h].getCodewords()[l];if(f==null){o.format("    |   ");continue}o.format(" %3d|%3d",f.getRowNumber(),f.getValue())}o.format("%n")}return o.toString()}}class yi{constructor(r,o,l,h){this.rowNumber=yi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(r),this.endX=Math.trunc(o),this.bucket=Math.trunc(l),this.value=Math.trunc(h)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(r){return r!==yi.BARCODE_ROW_UNKNOWN&&this.bucket===r%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(r){this.rowNumber=r}toString(){return this.rowNumber+"|"+this.value}}yi.BARCODE_ROW_UNKNOWN=-1;class lr{static initialize(){for(let r=0;r<Qe.SYMBOL_TABLE.length;r++){let o=Qe.SYMBOL_TABLE[r],l=o&1;for(let h=0;h<Qe.BARS_IN_MODULE;h++){let f=0;for(;(o&1)===l;)f+=1,o>>=1;l=o&1,lr.RATIOS_TABLE[r]||(lr.RATIOS_TABLE[r]=new Array(Qe.BARS_IN_MODULE)),lr.RATIOS_TABLE[r][Qe.BARS_IN_MODULE-h-1]=Math.fround(f/Qe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(r){let o=lr.getDecodedCodewordValue(lr.sampleBitCounts(r));return o!==-1?o:lr.getClosestDecodedValue(r)}static sampleBitCounts(r){let o=At.sum(r),l=new Int32Array(Qe.BARS_IN_MODULE),h=0,f=0;for(let m=0;m<Qe.MODULES_IN_CODEWORD;m++){let p=o/(2*Qe.MODULES_IN_CODEWORD)+m*o/Qe.MODULES_IN_CODEWORD;f+r[h]<=p&&(f+=r[h],h++),l[h]++}return l}static getDecodedCodewordValue(r){let o=lr.getBitValue(r);return Qe.getCodeword(o)===-1?-1:o}static getBitValue(r){let o=0;for(let l=0;l<r.length;l++)for(let h=0;h<r[l];h++)o=o<<1|(l%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(r){let o=At.sum(r),l=new Array(Qe.BARS_IN_MODULE);if(o>1)for(let m=0;m<l.length;m++)l[m]=Math.fround(r[m]/o);let h=Wi.MAX_VALUE,f=-1;this.bSymbolTableReady||lr.initialize();for(let m=0;m<lr.RATIOS_TABLE.length;m++){let p=0,A=lr.RATIOS_TABLE[m];for(let C=0;C<Qe.BARS_IN_MODULE;C++){let b=Math.fround(A[C]-l[C]);if(p+=Math.fround(b*b),p>=h)break}p<h&&(h=p,f=Qe.SYMBOL_TABLE[m])}return f}}lr.bSymbolTableReady=!1,lr.RATIOS_TABLE=new Array(Qe.SYMBOL_TABLE.length).map(D=>new Array(Qe.BARS_IN_MODULE));class Fs{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(r){this.segmentIndex=r}getFileId(){return this.fileId}setFileId(r){this.fileId=r}getOptionalData(){return this.optionalData}setOptionalData(r){this.optionalData=r}isLastSegment(){return this.lastSegment}setLastSegment(r){this.lastSegment=r}getSegmentCount(){return this.segmentCount}setSegmentCount(r){this.segmentCount=r}getSender(){return this.sender||null}setSender(r){this.sender=r}getAddressee(){return this.addressee||null}setAddressee(r){this.addressee=r}getFileName(){return this.fileName}setFileName(r){this.fileName=r}getFileSize(){return this.fileSize}setFileSize(r){this.fileSize=r}getChecksum(){return this.checksum}setChecksum(r){this.checksum=r}getTimestamp(){return this.timestamp}setTimestamp(r){this.timestamp=r}}class zs{static parseLong(r,o=void 0){return parseInt(r,o)}}class Ei extends x{}Ei.kind="NullPointerException";class Hs{writeBytes(r){this.writeBytesOffset(r,0,r.length)}writeBytesOffset(r,o,l){if(r==null)throw new Ei;if(o<0||o>r.length||l<0||o+l>r.length||o+l<0)throw new re;if(l===0)return;for(let h=0;h<l;h++)this.write(r[o+h])}flush(){}close(){}}class ti extends x{}class $o extends Hs{constructor(r=32){if(super(),this.count=0,r<0)throw new M("Negative initial size: "+r);this.buf=new Uint8Array(r)}ensureCapacity(r){r-this.buf.length>0&&this.grow(r)}grow(r){let l=this.buf.length<<1;if(l-r<0&&(l=r),l<0){if(r<0)throw new ti;l=pe.MAX_VALUE}this.buf=me.copyOfUint8Array(this.buf,l)}write(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1}writeBytesOffset(r,o,l){if(o<0||o>r.length||l<0||o+l-r.length>0)throw new re;this.ensureCapacity(this.count+l),oe.arraycopy(r,o,this.buf,this.count,l),this.count+=l}writeTo(r){r.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return me.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(r){return new String(this.buf).toString()}toString_number(r){return new String(this.buf).toString()}close(){}}var Ht;(function(D){D[D.ALPHA=0]="ALPHA",D[D.LOWER=1]="LOWER",D[D.MIXED=2]="MIXED",D[D.PUNCT=3]="PUNCT",D[D.ALPHA_SHIFT=4]="ALPHA_SHIFT",D[D.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ht||(Ht={}));function ds(){if(typeof window<"u")return window.BigInt||null;if(typeof Vh<"u")return Vh.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let $i;function ni(D){if(typeof $i>"u"&&($i=ds()),$i===null)throw new Error("BigInt is not supported!");return $i(D)}function Ca(){let D=[];D[0]=ni(1);let r=ni(900);D[1]=r;for(let o=2;o<16;o++)D[o]=D[o-1]*r;return D}class ce{static decode(r,o){let l=new j(""),h=k.ISO8859_1;l.enableDecoding(h);let f=1,m=r[f++],p=new Fs;for(;f<r[0];){switch(m){case ce.TEXT_COMPACTION_MODE_LATCH:f=ce.textCompaction(r,f,l);break;case ce.BYTE_COMPACTION_MODE_LATCH:case ce.BYTE_COMPACTION_MODE_LATCH_6:f=ce.byteCompaction(m,r,h,f,l);break;case ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[f++]);break;case ce.NUMERIC_COMPACTION_MODE_LATCH:f=ce.numericCompaction(r,f,l);break;case ce.ECI_CHARSET:k.getCharacterSetECIByValue(r[f++]);break;case ce.ECI_GENERAL_PURPOSE:f+=2;break;case ce.ECI_USER_DEFINED:f++;break;case ce.BEGIN_MACRO_PDF417_CONTROL_BLOCK:f=ce.decodeMacroBlock(r,f,p);break;case ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ce.MACRO_PDF417_TERMINATOR:throw new H;default:f--,f=ce.textCompaction(r,f,l);break}if(f<r.length)m=r[f++];else throw H.getFormatInstance()}if(l.length()===0)throw H.getFormatInstance();let A=new Dr(null,l.toString(),null,o);return A.setOther(p),A}static decodeMacroBlock(r,o,l){if(o+ce.NUMBER_OF_SEQUENCE_CODEWORDS>r[0])throw H.getFormatInstance();let h=new Int32Array(ce.NUMBER_OF_SEQUENCE_CODEWORDS);for(let p=0;p<ce.NUMBER_OF_SEQUENCE_CODEWORDS;p++,o++)h[p]=r[o];l.setSegmentIndex(pe.parseInt(ce.decodeBase900toBase10(h,ce.NUMBER_OF_SEQUENCE_CODEWORDS)));let f=new j;o=ce.textCompaction(r,o,f),l.setFileId(f.toString());let m=-1;for(r[o]===ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(m=o+1);o<r[0];)switch(r[o]){case ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,r[o]){case ce.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let p=new j;o=ce.textCompaction(r,o+1,p),l.setFileName(p.toString());break;case ce.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let A=new j;o=ce.textCompaction(r,o+1,A),l.setSender(A.toString());break;case ce.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let C=new j;o=ce.textCompaction(r,o+1,C),l.setAddressee(C.toString());break;case ce.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let b=new j;o=ce.numericCompaction(r,o+1,b),l.setSegmentCount(pe.parseInt(b.toString()));break;case ce.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let O=new j;o=ce.numericCompaction(r,o+1,O),l.setTimestamp(zs.parseLong(O.toString()));break;case ce.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let L=new j;o=ce.numericCompaction(r,o+1,L),l.setChecksum(pe.parseInt(L.toString()));break;case ce.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let F=new j;o=ce.numericCompaction(r,o+1,F),l.setFileSize(zs.parseLong(F.toString()));break;default:throw H.getFormatInstance()}break;case ce.MACRO_PDF417_TERMINATOR:o++,l.setLastSegment(!0);break;default:throw H.getFormatInstance()}if(m!==-1){let p=o-m;l.isLastSegment()&&p--,l.setOptionalData(me.copyOfRange(r,m,m+p))}return o}static textCompaction(r,o,l){let h=new Int32Array((r[0]-o)*2),f=new Int32Array((r[0]-o)*2),m=0,p=!1;for(;o<r[0]&&!p;){let A=r[o++];if(A<ce.TEXT_COMPACTION_MODE_LATCH)h[m]=A/30,h[m+1]=A%30,m+=2;else switch(A){case ce.TEXT_COMPACTION_MODE_LATCH:h[m++]=ce.TEXT_COMPACTION_MODE_LATCH;break;case ce.BYTE_COMPACTION_MODE_LATCH:case ce.BYTE_COMPACTION_MODE_LATCH_6:case ce.NUMERIC_COMPACTION_MODE_LATCH:case ce.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ce.MACRO_PDF417_TERMINATOR:o--,p=!0;break;case ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h[m]=ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,A=r[o++],f[m]=A,m++;break}}return ce.decodeTextCompaction(h,f,m,l),o}static decodeTextCompaction(r,o,l,h){let f=Ht.ALPHA,m=Ht.ALPHA,p=0;for(;p<l;){let A=r[p],C="";switch(f){case Ht.ALPHA:if(A<26)C=String.fromCharCode(65+A);else switch(A){case 26:C=" ";break;case ce.LL:f=Ht.LOWER;break;case ce.ML:f=Ht.MIXED;break;case ce.PS:m=f,f=Ht.PUNCT_SHIFT;break;case ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[p]);break;case ce.TEXT_COMPACTION_MODE_LATCH:f=Ht.ALPHA;break}break;case Ht.LOWER:if(A<26)C=String.fromCharCode(97+A);else switch(A){case 26:C=" ";break;case ce.AS:m=f,f=Ht.ALPHA_SHIFT;break;case ce.ML:f=Ht.MIXED;break;case ce.PS:m=f,f=Ht.PUNCT_SHIFT;break;case ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[p]);break;case ce.TEXT_COMPACTION_MODE_LATCH:f=Ht.ALPHA;break}break;case Ht.MIXED:if(A<ce.PL)C=ce.MIXED_CHARS[A];else switch(A){case ce.PL:f=Ht.PUNCT;break;case 26:C=" ";break;case ce.LL:f=Ht.LOWER;break;case ce.AL:f=Ht.ALPHA;break;case ce.PS:m=f,f=Ht.PUNCT_SHIFT;break;case ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[p]);break;case ce.TEXT_COMPACTION_MODE_LATCH:f=Ht.ALPHA;break}break;case Ht.PUNCT:if(A<ce.PAL)C=ce.PUNCT_CHARS[A];else switch(A){case ce.PAL:f=Ht.ALPHA;break;case ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[p]);break;case ce.TEXT_COMPACTION_MODE_LATCH:f=Ht.ALPHA;break}break;case Ht.ALPHA_SHIFT:if(f=m,A<26)C=String.fromCharCode(65+A);else switch(A){case 26:C=" ";break;case ce.TEXT_COMPACTION_MODE_LATCH:f=Ht.ALPHA;break}break;case Ht.PUNCT_SHIFT:if(f=m,A<ce.PAL)C=ce.PUNCT_CHARS[A];else switch(A){case ce.PAL:f=Ht.ALPHA;break;case ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[p]);break;case ce.TEXT_COMPACTION_MODE_LATCH:f=Ht.ALPHA;break}break}C!==""&&h.append(C),p++}}static byteCompaction(r,o,l,h,f){let m=new $o,p=0,A=0,C=!1;switch(r){case ce.BYTE_COMPACTION_MODE_LATCH:let b=new Int32Array(6),O=o[h++];for(;h<o[0]&&!C;)switch(b[p++]=O,A=900*A+O,O=o[h++],O){case ce.TEXT_COMPACTION_MODE_LATCH:case ce.BYTE_COMPACTION_MODE_LATCH:case ce.NUMERIC_COMPACTION_MODE_LATCH:case ce.BYTE_COMPACTION_MODE_LATCH_6:case ce.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ce.MACRO_PDF417_TERMINATOR:h--,C=!0;break;default:if(p%5===0&&p>0){for(let L=0;L<6;++L)m.write(Number(ni(A)>>ni(8*(5-L))));A=0,p=0}break}h===o[0]&&O<ce.TEXT_COMPACTION_MODE_LATCH&&(b[p++]=O);for(let L=0;L<p;L++)m.write(b[L]);break;case ce.BYTE_COMPACTION_MODE_LATCH_6:for(;h<o[0]&&!C;){let L=o[h++];if(L<ce.TEXT_COMPACTION_MODE_LATCH)p++,A=900*A+L;else switch(L){case ce.TEXT_COMPACTION_MODE_LATCH:case ce.BYTE_COMPACTION_MODE_LATCH:case ce.NUMERIC_COMPACTION_MODE_LATCH:case ce.BYTE_COMPACTION_MODE_LATCH_6:case ce.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ce.MACRO_PDF417_TERMINATOR:h--,C=!0;break}if(p%5===0&&p>0){for(let F=0;F<6;++F)m.write(Number(ni(A)>>ni(8*(5-F))));A=0,p=0}}break}return f.append(K.decode(m.toByteArray(),l)),h}static numericCompaction(r,o,l){let h=0,f=!1,m=new Int32Array(ce.MAX_NUMERIC_CODEWORDS);for(;o<r[0]&&!f;){let p=r[o++];if(o===r[0]&&(f=!0),p<ce.TEXT_COMPACTION_MODE_LATCH)m[h]=p,h++;else switch(p){case ce.TEXT_COMPACTION_MODE_LATCH:case ce.BYTE_COMPACTION_MODE_LATCH:case ce.BYTE_COMPACTION_MODE_LATCH_6:case ce.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ce.MACRO_PDF417_TERMINATOR:o--,f=!0;break}(h%ce.MAX_NUMERIC_CODEWORDS===0||p===ce.NUMERIC_COMPACTION_MODE_LATCH||f)&&h>0&&(l.append(ce.decodeBase900toBase10(m,h)),h=0)}return o}static decodeBase900toBase10(r,o){let l=ni(0);for(let f=0;f<o;f++)l+=ce.EXP900[o-f-1]*ni(r[f]);let h=l.toString();if(h.charAt(0)!=="1")throw new H;return h.substring(1)}}ce.TEXT_COMPACTION_MODE_LATCH=900,ce.BYTE_COMPACTION_MODE_LATCH=901,ce.NUMERIC_COMPACTION_MODE_LATCH=902,ce.BYTE_COMPACTION_MODE_LATCH_6=924,ce.ECI_USER_DEFINED=925,ce.ECI_GENERAL_PURPOSE=926,ce.ECI_CHARSET=927,ce.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ce.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ce.MACRO_PDF417_TERMINATOR=922,ce.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ce.MAX_NUMERIC_CODEWORDS=15,ce.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ce.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ce.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ce.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ce.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ce.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ce.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ce.PL=25,ce.LL=27,ce.AS=27,ce.ML=28,ce.AL=28,ce.PS=29,ce.PAL=29,ce.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ce.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ce.EXP900=ds()?Ca():[],ce.NUMBER_OF_SEQUENCE_CODEWORDS=2;class st{constructor(){}static decode(r,o,l,h,f,m,p){let A=new pi(r,o,l,h,f),C=null,b=null,O;for(let Y=!0;;Y=!1){if(o!=null&&(C=st.getRowIndicatorColumn(r,A,o,!0,m,p)),h!=null&&(b=st.getRowIndicatorColumn(r,A,h,!1,m,p)),O=st.merge(C,b),O==null)throw fe.getNotFoundInstance();let Q=O.getBoundingBox();if(Y&&Q!=null&&(Q.getMinY()<A.getMinY()||Q.getMaxY()>A.getMaxY()))A=Q;else break}O.setBoundingBox(A);let L=O.getBarcodeColumnCount()+1;O.setDetectionResultColumn(0,C),O.setDetectionResultColumn(L,b);let F=C!=null;for(let Y=1;Y<=L;Y++){let Q=F?Y:L-Y;if(O.getDetectionResultColumn(Q)!==void 0)continue;let ne;Q===0||Q===L?ne=new Vt(A,Q===0):ne=new Ji(A),O.setDetectionResultColumn(Q,ne);let ue=-1,be=ue;for(let De=A.getMinY();De<=A.getMaxY();De++){if(ue=st.getStartColumn(O,Q,De,F),ue<0||ue>A.getMaxX()){if(be===-1)continue;ue=be}let Ie=st.detectCodeword(r,A.getMinX(),A.getMaxX(),F,ue,De,m,p);Ie!=null&&(ne.setCodeword(De,Ie),be=ue,m=Math.min(m,Ie.getWidth()),p=Math.max(p,Ie.getWidth()))}}return st.createDecoderResult(O)}static merge(r,o){if(r==null&&o==null)return null;let l=st.getBarcodeMetadata(r,o);if(l==null)return null;let h=pi.merge(st.adjustBoundingBox(r),st.adjustBoundingBox(o));return new Ui(l,h)}static adjustBoundingBox(r){if(r==null)return null;let o=r.getRowHeights();if(o==null)return null;let l=st.getMax(o),h=0;for(let p of o)if(h+=l-p,p>0)break;let f=r.getCodewords();for(let p=0;h>0&&f[p]==null;p++)h--;let m=0;for(let p=o.length-1;p>=0&&(m+=l-o[p],!(o[p]>0));p--);for(let p=f.length-1;m>0&&f[p]==null;p--)m--;return r.getBoundingBox().addMissingRows(h,m,r.isLeft())}static getMax(r){let o=-1;for(let l of r)o=Math.max(o,l);return o}static getBarcodeMetadata(r,o){let l;if(r==null||(l=r.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let h;return o==null||(h=o.getBarcodeMetadata())==null?l:l.getColumnCount()!==h.getColumnCount()&&l.getErrorCorrectionLevel()!==h.getErrorCorrectionLevel()&&l.getRowCount()!==h.getRowCount()?null:l}static getRowIndicatorColumn(r,o,l,h,f,m){let p=new Vt(o,h);for(let A=0;A<2;A++){let C=A===0?1:-1,b=Math.trunc(Math.trunc(l.getX()));for(let O=Math.trunc(Math.trunc(l.getY()));O<=o.getMaxY()&&O>=o.getMinY();O+=C){let L=st.detectCodeword(r,0,r.getWidth(),h,b,O,f,m);L!=null&&(p.setCodeword(O,L),h?b=L.getStartX():b=L.getEndX())}}return p}static adjustCodewordCount(r,o){let l=o[0][1],h=l.getValue(),f=r.getBarcodeColumnCount()*r.getBarcodeRowCount()-st.getNumberOfECCodeWords(r.getBarcodeECLevel());if(h.length===0){if(f<1||f>Qe.MAX_CODEWORDS_IN_BARCODE)throw fe.getNotFoundInstance();l.setValue(f)}else h[0]!==f&&l.setValue(f)}static createDecoderResult(r){let o=st.createBarcodeMatrix(r);st.adjustCodewordCount(r,o);let l=new Array,h=new Int32Array(r.getBarcodeRowCount()*r.getBarcodeColumnCount()),f=[],m=new Array;for(let A=0;A<r.getBarcodeRowCount();A++)for(let C=0;C<r.getBarcodeColumnCount();C++){let b=o[A][C+1].getValue(),O=A*r.getBarcodeColumnCount()+C;b.length===0?l.push(O):b.length===1?h[O]=b[0]:(m.push(O),f.push(b))}let p=new Array(f.length);for(let A=0;A<p.length;A++)p[A]=f[A];return st.createDecoderResultFromAmbiguousValues(r.getBarcodeECLevel(),h,Qe.toIntArray(l),Qe.toIntArray(m),p)}static createDecoderResultFromAmbiguousValues(r,o,l,h,f){let m=new Int32Array(h.length),p=100;for(;p-- >0;){for(let A=0;A<m.length;A++)o[h[A]]=f[A][m[A]];try{return st.decodeCodewords(o,r,l)}catch(A){if(!(A instanceof W))throw A}if(m.length===0)throw W.getChecksumInstance();for(let A=0;A<m.length;A++)if(m[A]<f[A].length-1){m[A]++;break}else if(m[A]=0,A===m.length-1)throw W.getChecksumInstance()}throw W.getChecksumInstance()}static createBarcodeMatrix(r){let o=Array.from({length:r.getBarcodeRowCount()},()=>new Array(r.getBarcodeColumnCount()+2));for(let h=0;h<o.length;h++)for(let f=0;f<o[h].length;f++)o[h][f]=new Rn;let l=0;for(let h of r.getDetectionResultColumns()){if(h!=null){for(let f of h.getCodewords())if(f!=null){let m=f.getRowNumber();if(m>=0){if(m>=o.length)continue;o[m][l].setValue(f.getValue())}}}l++}return o}static isValidBarcodeColumn(r,o){return o>=0&&o<=r.getBarcodeColumnCount()+1}static getStartColumn(r,o,l,h){let f=h?1:-1,m=null;if(st.isValidBarcodeColumn(r,o-f)&&(m=r.getDetectionResultColumn(o-f).getCodeword(l)),m!=null)return h?m.getEndX():m.getStartX();if(m=r.getDetectionResultColumn(o).getCodewordNearby(l),m!=null)return h?m.getStartX():m.getEndX();if(st.isValidBarcodeColumn(r,o-f)&&(m=r.getDetectionResultColumn(o-f).getCodewordNearby(l)),m!=null)return h?m.getEndX():m.getStartX();let p=0;for(;st.isValidBarcodeColumn(r,o-f);){o-=f;for(let A of r.getDetectionResultColumn(o).getCodewords())if(A!=null)return(h?A.getEndX():A.getStartX())+f*p*(A.getEndX()-A.getStartX());p++}return h?r.getBoundingBox().getMinX():r.getBoundingBox().getMaxX()}static detectCodeword(r,o,l,h,f,m,p,A){f=st.adjustCodewordStartColumn(r,o,l,h,f,m);let C=st.getModuleBitCount(r,o,l,h,f,m);if(C==null)return null;let b,O=At.sum(C);if(h)b=f+O;else{for(let Y=0;Y<C.length/2;Y++){let Q=C[Y];C[Y]=C[C.length-1-Y],C[C.length-1-Y]=Q}b=f,f=b-O}if(!st.checkCodewordSkew(O,p,A))return null;let L=lr.getDecodedValue(C),F=Qe.getCodeword(L);return F===-1?null:new yi(f,b,st.getCodewordBucketNumber(L),F)}static getModuleBitCount(r,o,l,h,f,m){let p=f,A=new Int32Array(8),C=0,b=h?1:-1,O=h;for(;(h?p<l:p>=o)&&C<A.length;)r.get(p,m)===O?(A[C]++,p+=b):(C++,O=!O);return C===A.length||p===(h?l:o)&&C===A.length-1?A:null}static getNumberOfECCodeWords(r){return 2<<r}static adjustCodewordStartColumn(r,o,l,h,f,m){let p=f,A=h?-1:1;for(let C=0;C<2;C++){for(;(h?p>=o:p<l)&&h===r.get(p,m);){if(Math.abs(f-p)>st.CODEWORD_SKEW_SIZE)return f;p+=A}A=-A,h=!h}return p}static checkCodewordSkew(r,o,l){return o-st.CODEWORD_SKEW_SIZE<=r&&r<=l+st.CODEWORD_SKEW_SIZE}static decodeCodewords(r,o,l){if(r.length===0)throw H.getFormatInstance();let h=1<<o+1,f=st.correctErrors(r,l,h);st.verifyCodewordCount(r,h);let m=ce.decode(r,""+o);return m.setErrorsCorrected(f),m.setErasures(l.length),m}static correctErrors(r,o,l){if(o!=null&&o.length>l/2+st.MAX_ERRORS||l<0||l>st.MAX_EC_CODEWORDS)throw W.getChecksumInstance();return st.errorCorrection.decode(r,l,o)}static verifyCodewordCount(r,o){if(r.length<4)throw H.getFormatInstance();let l=r[0];if(l>r.length)throw H.getFormatInstance();if(l===0)if(o<r.length)r[0]=r.length-o;else throw H.getFormatInstance()}static getBitCountForCodeword(r){let o=new Int32Array(8),l=0,h=o.length-1;for(;!((r&1)!==l&&(l=r&1,h--,h<0));)o[h]++,r>>=1;return o}static getCodewordBucketNumber(r){return r instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(r):this.getCodewordBucketNumber_number(r)}static getCodewordBucketNumber_number(r){return st.getCodewordBucketNumber(st.getBitCountForCodeword(r))}static getCodewordBucketNumber_Int32Array(r){return(r[0]-r[2]+r[4]-r[6]+9)%9}static toString(r){let o=new kr;for(let l=0;l<r.length;l++){o.format("Row %2d: ",l);for(let h=0;h<r[l].length;h++){let f=r[l][h];f.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",f.getValue()[0],f.getConfidence(f.getValue()[0]))}o.format("%n")}return o.toString()}}st.CODEWORD_SKEW_SIZE=2,st.MAX_ERRORS=3,st.MAX_EC_CODEWORDS=512,st.errorCorrection=new ki;class Xn{decode(r,o=null){let l=Xn.decode(r,o,!1);if(l==null||l.length===0||l[0]==null)throw fe.getNotFoundInstance();return l[0]}decodeMultiple(r,o=null){try{return Xn.decode(r,o,!0)}catch(l){throw l instanceof H||l instanceof W?fe.getNotFoundInstance():l}}static decode(r,o,l){const h=new Array,f=$e.detectMultiple(r,o,l);for(const m of f.getPoints()){const p=st.decode(f.getBits(),m[4],m[5],m[6],m[7],Xn.getMinCodewordWidth(m),Xn.getMaxCodewordWidth(m)),A=new Ve(p.getText(),p.getRawBytes(),void 0,m,Re.PDF_417);A.putMetadata(at.ERROR_CORRECTION_LEVEL,p.getECLevel());const C=p.getOther();C!=null&&A.putMetadata(at.PDF417_EXTRA_METADATA,C),h.push(A)}return h.map(m=>m)}static getMaxWidth(r,o){return r==null||o==null?0:Math.trunc(Math.abs(r.getX()-o.getX()))}static getMinWidth(r,o){return r==null||o==null?pe.MAX_VALUE:Math.trunc(Math.abs(r.getX()-o.getX()))}static getMaxCodewordWidth(r){return Math.floor(Math.max(Math.max(Xn.getMaxWidth(r[0],r[4]),Xn.getMaxWidth(r[6],r[2])*Qe.MODULES_IN_CODEWORD/Qe.MODULES_IN_STOP_PATTERN),Math.max(Xn.getMaxWidth(r[1],r[5]),Xn.getMaxWidth(r[7],r[3])*Qe.MODULES_IN_CODEWORD/Qe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(r){return Math.floor(Math.min(Math.min(Xn.getMinWidth(r[0],r[4]),Xn.getMinWidth(r[6],r[2])*Qe.MODULES_IN_CODEWORD/Qe.MODULES_IN_STOP_PATTERN),Math.min(Xn.getMinWidth(r[1],r[5]),Xn.getMinWidth(r[7],r[3])*Qe.MODULES_IN_CODEWORD/Qe.MODULES_IN_STOP_PATTERN)))}reset(){}}class gs extends x{}gs.kind="ReaderException";class ms{constructor(r,o){this.verbose=r===!0,o&&this.setHints(o)}decode(r,o){return o&&this.setHints(o),this.decodeInternal(r)}decodeWithState(r){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(r)}setHints(r){this.hints=r;const o=!a(r)&&r.get(qe.TRY_HARDER)===!0,l=a(r)?null:r.get(qe.POSSIBLE_FORMATS),h=new Array;if(!a(l)){const f=l.some(m=>m===Re.UPC_A||m===Re.UPC_E||m===Re.EAN_13||m===Re.EAN_8||m===Re.CODABAR||m===Re.CODE_39||m===Re.CODE_93||m===Re.CODE_128||m===Re.ITF||m===Re.RSS_14||m===Re.RSS_EXPANDED);f&&!o&&h.push(new ei(r,this.verbose)),l.includes(Re.QR_CODE)&&h.push(new gi),l.includes(Re.DATA_MATRIX)&&h.push(new Pr),l.includes(Re.AZTEC)&&h.push(new pa),l.includes(Re.PDF_417)&&h.push(new Xn),f&&o&&h.push(new ei(r,this.verbose))}h.length===0&&(o||h.push(new ei(r,this.verbose)),h.push(new gi),h.push(new Pr),h.push(new pa),h.push(new Xn),o&&h.push(new ei(r,this.verbose))),this.readers=h}reset(){if(this.readers!==null)for(const r of this.readers)r.reset()}decodeInternal(r){if(this.readers===null)throw new gs("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(r,this.hints)}catch(l){if(l instanceof gs)continue}throw new fe("No MultiFormat Readers were able to detect the code.")}}class el extends Ne{constructor(r=null,o=500){const l=new ms;l.setHints(r),super(l,o)}decodeBitmap(r){return this.reader.decodeWithState(r)}}class tl extends Ne{constructor(r=500){super(new Xn,r)}}class Co extends Ne{constructor(r=500){super(new gi,r)}}var es;(function(D){D[D.ERROR_CORRECTION=0]="ERROR_CORRECTION",D[D.CHARACTER_SET=1]="CHARACTER_SET",D[D.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",D[D.MIN_SIZE=3]="MIN_SIZE",D[D.MAX_SIZE=4]="MAX_SIZE",D[D.MARGIN=5]="MARGIN",D[D.PDF417_COMPACT=6]="PDF417_COMPACT",D[D.PDF417_COMPACTION=7]="PDF417_COMPACTION",D[D.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",D[D.AZTEC_LAYERS=9]="AZTEC_LAYERS",D[D.QR_VERSION=10]="QR_VERSION"})(es||(es={}));var Nn=es;class ps{constructor(r){this.field=r,this.cachedGenerators=[],this.cachedGenerators.push(new Sn(r,Int32Array.from([1])))}buildGenerator(r){const o=this.cachedGenerators;if(r>=o.length){let l=o[o.length-1];const h=this.field;for(let f=o.length;f<=r;f++){const m=l.multiply(new Sn(h,Int32Array.from([1,h.exp(f-1+h.getGeneratorBase())])));o.push(m),l=m}}return o[r]}encode(r,o){if(o===0)throw new M("No error correction bytes");const l=r.length-o;if(l<=0)throw new M("No data bytes provided");const h=this.buildGenerator(o),f=new Int32Array(l);oe.arraycopy(r,0,f,0,l);let m=new Sn(this.field,f);m=m.multiplyByMonomial(o,1);const A=m.divide(h)[1].getCoefficients(),C=o-A.length;for(let b=0;b<C;b++)r[l+b]=0;oe.arraycopy(A,0,r,l+C,A.length)}}class fn{constructor(){}static applyMaskPenaltyRule1(r){return fn.applyMaskPenaltyRule1Internal(r,!0)+fn.applyMaskPenaltyRule1Internal(r,!1)}static applyMaskPenaltyRule2(r){let o=0;const l=r.getArray(),h=r.getWidth(),f=r.getHeight();for(let m=0;m<f-1;m++){const p=l[m];for(let A=0;A<h-1;A++){const C=p[A];C===p[A+1]&&C===l[m+1][A]&&C===l[m+1][A+1]&&o++}}return fn.N2*o}static applyMaskPenaltyRule3(r){let o=0;const l=r.getArray(),h=r.getWidth(),f=r.getHeight();for(let m=0;m<f;m++)for(let p=0;p<h;p++){const A=l[m];p+6<h&&A[p]===1&&A[p+1]===0&&A[p+2]===1&&A[p+3]===1&&A[p+4]===1&&A[p+5]===0&&A[p+6]===1&&(fn.isWhiteHorizontal(A,p-4,p)||fn.isWhiteHorizontal(A,p+7,p+11))&&o++,m+6<f&&l[m][p]===1&&l[m+1][p]===0&&l[m+2][p]===1&&l[m+3][p]===1&&l[m+4][p]===1&&l[m+5][p]===0&&l[m+6][p]===1&&(fn.isWhiteVertical(l,p,m-4,m)||fn.isWhiteVertical(l,p,m+7,m+11))&&o++}return o*fn.N3}static isWhiteHorizontal(r,o,l){o=Math.max(o,0),l=Math.min(l,r.length);for(let h=o;h<l;h++)if(r[h]===1)return!1;return!0}static isWhiteVertical(r,o,l,h){l=Math.max(l,0),h=Math.min(h,r.length);for(let f=l;f<h;f++)if(r[f][o]===1)return!1;return!0}static applyMaskPenaltyRule4(r){let o=0;const l=r.getArray(),h=r.getWidth(),f=r.getHeight();for(let A=0;A<f;A++){const C=l[A];for(let b=0;b<h;b++)C[b]===1&&o++}const m=r.getHeight()*r.getWidth();return Math.floor(Math.abs(o*2-m)*10/m)*fn.N4}static getDataMaskBit(r,o,l){let h,f;switch(r){case 0:h=l+o&1;break;case 1:h=l&1;break;case 2:h=o%3;break;case 3:h=(l+o)%3;break;case 4:h=Math.floor(l/2)+Math.floor(o/3)&1;break;case 5:f=l*o,h=(f&1)+f%3;break;case 6:f=l*o,h=(f&1)+f%3&1;break;case 7:f=l*o,h=f%3+(l+o&1)&1;break;default:throw new M("Invalid mask pattern: "+r)}return h===0}static applyMaskPenaltyRule1Internal(r,o){let l=0;const h=o?r.getHeight():r.getWidth(),f=o?r.getWidth():r.getHeight(),m=r.getArray();for(let p=0;p<h;p++){let A=0,C=-1;for(let b=0;b<f;b++){const O=o?m[p][b]:m[b][p];O===C?A++:(A>=5&&(l+=fn.N1+(A-5)),A=1,C=O)}A>=5&&(l+=fn.N1+(A-5))}return l}}fn.N1=3,fn.N2=3,fn.N3=40,fn.N4=10;class ys{constructor(r,o){this.width=r,this.height=o;const l=new Array(o);for(let h=0;h!==o;h++)l[h]=new Uint8Array(r);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(r,o){return this.bytes[o][r]}getArray(){return this.bytes}setNumber(r,o,l){this.bytes[o][r]=l}setBoolean(r,o,l){this.bytes[o][r]=l?1:0}clear(r){for(const o of this.bytes)me.fill(o,r)}equals(r){if(!(r instanceof ys))return!1;const o=r;if(this.width!==o.width||this.height!==o.height)return!1;for(let l=0,h=this.height;l<h;++l){const f=this.bytes[l],m=o.bytes[l];for(let p=0,A=this.width;p<A;++p)if(f[p]!==m[p])return!1}return!0}toString(){const r=new j;for(let o=0,l=this.height;o<l;++o){const h=this.bytes[o];for(let f=0,m=this.width;f<m;++f)switch(h[f]){case 0:r.append(" 0");break;case 1:r.append(" 1");break;default:r.append("  ");break}r.append(`
`)}return r.toString()}}class Tr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const r=new j;return r.append(`<<
`),r.append(" mode: "),r.append(this.mode?this.mode.toString():"null"),r.append(`
 ecLevel: `),r.append(this.ecLevel?this.ecLevel.toString():"null"),r.append(`
 version: `),r.append(this.version?this.version.toString():"null"),r.append(`
 maskPattern: `),r.append(this.maskPattern.toString()),this.matrix?(r.append(`
 matrix:
`),r.append(this.matrix.toString())):r.append(`
 matrix: null
`),r.append(`>>
`),r.toString()}setMode(r){this.mode=r}setECLevel(r){this.ecLevel=r}setVersion(r){this.version=r}setMaskPattern(r){this.maskPattern=r}setMatrix(r){this.matrix=r}static isValidMaskPattern(r){return r>=0&&r<Tr.NUM_MASK_PATTERNS}}Tr.NUM_MASK_PATTERNS=8;class jt extends x{}jt.kind="WriterException";class Ze{constructor(){}static clearMatrix(r){r.clear(255)}static buildMatrix(r,o,l,h,f){Ze.clearMatrix(f),Ze.embedBasicPatterns(l,f),Ze.embedTypeInfo(o,h,f),Ze.maybeEmbedVersionInfo(l,f),Ze.embedDataBits(r,h,f)}static embedBasicPatterns(r,o){Ze.embedPositionDetectionPatternsAndSeparators(o),Ze.embedDarkDotAtLeftBottomCorner(o),Ze.maybeEmbedPositionAdjustmentPatterns(r,o),Ze.embedTimingPatterns(o)}static embedTypeInfo(r,o,l){const h=new Be;Ze.makeTypeInfoBits(r,o,h);for(let f=0,m=h.getSize();f<m;++f){const p=h.get(h.getSize()-1-f),A=Ze.TYPE_INFO_COORDINATES[f],C=A[0],b=A[1];if(l.setBoolean(C,b,p),f<8){const O=l.getWidth()-f-1;l.setBoolean(O,8,p)}else{const L=l.getHeight()-7+(f-8);l.setBoolean(8,L,p)}}}static maybeEmbedVersionInfo(r,o){if(r.getVersionNumber()<7)return;const l=new Be;Ze.makeVersionInfoBits(r,l);let h=17;for(let f=0;f<6;++f)for(let m=0;m<3;++m){const p=l.get(h);h--,o.setBoolean(f,o.getHeight()-11+m,p),o.setBoolean(o.getHeight()-11+m,f,p)}}static embedDataBits(r,o,l){let h=0,f=-1,m=l.getWidth()-1,p=l.getHeight()-1;for(;m>0;){for(m===6&&(m-=1);p>=0&&p<l.getHeight();){for(let A=0;A<2;++A){const C=m-A;if(!Ze.isEmpty(l.get(C,p)))continue;let b;h<r.getSize()?(b=r.get(h),++h):b=!1,o!==255&&fn.getDataMaskBit(o,C,p)&&(b=!b),l.setBoolean(C,p,b)}p+=f}f=-f,p+=f,m-=2}if(h!==r.getSize())throw new jt("Not all bits consumed: "+h+"/"+r.getSize())}static findMSBSet(r){return 32-pe.numberOfLeadingZeros(r)}static calculateBCHCode(r,o){if(o===0)throw new M("0 polynomial");const l=Ze.findMSBSet(o);for(r<<=l-1;Ze.findMSBSet(r)>=l;)r^=o<<Ze.findMSBSet(r)-l;return r}static makeTypeInfoBits(r,o,l){if(!Tr.isValidMaskPattern(o))throw new jt("Invalid mask pattern");const h=r.getBits()<<3|o;l.appendBits(h,5);const f=Ze.calculateBCHCode(h,Ze.TYPE_INFO_POLY);l.appendBits(f,10);const m=new Be;if(m.appendBits(Ze.TYPE_INFO_MASK_PATTERN,15),l.xor(m),l.getSize()!==15)throw new jt("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(r,o){o.appendBits(r.getVersionNumber(),6);const l=Ze.calculateBCHCode(r.getVersionNumber(),Ze.VERSION_INFO_POLY);if(o.appendBits(l,12),o.getSize()!==18)throw new jt("should not happen but we got: "+o.getSize())}static isEmpty(r){return r===255}static embedTimingPatterns(r){for(let o=8;o<r.getWidth()-8;++o){const l=(o+1)%2;Ze.isEmpty(r.get(o,6))&&r.setNumber(o,6,l),Ze.isEmpty(r.get(6,o))&&r.setNumber(6,o,l)}}static embedDarkDotAtLeftBottomCorner(r){if(r.get(8,r.getHeight()-8)===0)throw new jt;r.setNumber(8,r.getHeight()-8,1)}static embedHorizontalSeparationPattern(r,o,l){for(let h=0;h<8;++h){if(!Ze.isEmpty(l.get(r+h,o)))throw new jt;l.setNumber(r+h,o,0)}}static embedVerticalSeparationPattern(r,o,l){for(let h=0;h<7;++h){if(!Ze.isEmpty(l.get(r,o+h)))throw new jt;l.setNumber(r,o+h,0)}}static embedPositionAdjustmentPattern(r,o,l){for(let h=0;h<5;++h){const f=Ze.POSITION_ADJUSTMENT_PATTERN[h];for(let m=0;m<5;++m)l.setNumber(r+m,o+h,f[m])}}static embedPositionDetectionPattern(r,o,l){for(let h=0;h<7;++h){const f=Ze.POSITION_DETECTION_PATTERN[h];for(let m=0;m<7;++m)l.setNumber(r+m,o+h,f[m])}}static embedPositionDetectionPatternsAndSeparators(r){const o=Ze.POSITION_DETECTION_PATTERN[0].length;Ze.embedPositionDetectionPattern(0,0,r),Ze.embedPositionDetectionPattern(r.getWidth()-o,0,r),Ze.embedPositionDetectionPattern(0,r.getWidth()-o,r);const l=8;Ze.embedHorizontalSeparationPattern(0,l-1,r),Ze.embedHorizontalSeparationPattern(r.getWidth()-l,l-1,r),Ze.embedHorizontalSeparationPattern(0,r.getWidth()-l,r);const h=7;Ze.embedVerticalSeparationPattern(h,0,r),Ze.embedVerticalSeparationPattern(r.getHeight()-h-1,0,r),Ze.embedVerticalSeparationPattern(h,r.getHeight()-h,r)}static maybeEmbedPositionAdjustmentPatterns(r,o){if(r.getVersionNumber()<2)return;const l=r.getVersionNumber()-1,h=Ze.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let f=0,m=h.length;f!==m;f++){const p=h[f];if(p>=0)for(let A=0;A!==m;A++){const C=h[A];C>=0&&Ze.isEmpty(o.get(C,p))&&Ze.embedPositionAdjustmentPattern(C-2,p-2,o)}}}}Ze.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ze.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ze.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ze.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ze.VERSION_INFO_POLY=7973,Ze.TYPE_INFO_POLY=1335,Ze.TYPE_INFO_MASK_PATTERN=21522;class nl{constructor(r,o){this.dataBytes=r,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Kt{constructor(){}static calculateMaskPenalty(r){return fn.applyMaskPenaltyRule1(r)+fn.applyMaskPenaltyRule2(r)+fn.applyMaskPenaltyRule3(r)+fn.applyMaskPenaltyRule4(r)}static encode(r,o,l=null){let h=Kt.DEFAULT_BYTE_MODE_ENCODING;const f=l!==null&&l.get(Nn.CHARACTER_SET)!==void 0;f&&(h=l.get(Nn.CHARACTER_SET).toString());const m=this.chooseMode(r,h),p=new Be;if(m===We.BYTE&&(f||Kt.DEFAULT_BYTE_MODE_ENCODING!==h)){const De=k.getCharacterSetECIByName(h);De!==void 0&&this.appendECI(De,p)}this.appendModeInfo(m,p);const A=new Be;this.appendBytes(r,m,A,h);let C;if(l!==null&&l.get(Nn.QR_VERSION)!==void 0){const De=Number.parseInt(l.get(Nn.QR_VERSION).toString(),10);C=Pe.getVersionForNumber(De);const Ie=this.calculateBitsNeeded(m,p,A,C);if(!this.willFit(Ie,C,o))throw new jt("Data too big for requested version")}else C=this.recommendVersion(o,m,p,A);const b=new Be;b.appendBitArray(p);const O=m===We.BYTE?A.getSizeInBytes():r.length;this.appendLengthInfo(O,C,m,b),b.appendBitArray(A);const L=C.getECBlocksForLevel(o),F=C.getTotalCodewords()-L.getTotalECCodewords();this.terminateBits(F,b);const Y=this.interleaveWithECBytes(b,C.getTotalCodewords(),F,L.getNumBlocks()),Q=new Tr;Q.setECLevel(o),Q.setMode(m),Q.setVersion(C);const ne=C.getDimensionForVersion(),ue=new ys(ne,ne),be=this.chooseMaskPattern(Y,o,C,ue);return Q.setMaskPattern(be),Ze.buildMatrix(Y,o,C,be,ue),Q.setMatrix(ue),Q}static recommendVersion(r,o,l,h){const f=this.calculateBitsNeeded(o,l,h,Pe.getVersionForNumber(1)),m=this.chooseVersion(f,r),p=this.calculateBitsNeeded(o,l,h,m);return this.chooseVersion(p,r)}static calculateBitsNeeded(r,o,l,h){return o.getSize()+r.getCharacterCountBits(h)+l.getSize()}static getAlphanumericCode(r){return r<Kt.ALPHANUMERIC_TABLE.length?Kt.ALPHANUMERIC_TABLE[r]:-1}static chooseMode(r,o=null){if(k.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(r))return We.KANJI;let l=!1,h=!1;for(let f=0,m=r.length;f<m;++f){const p=r.charAt(f);if(Kt.isDigit(p))l=!0;else if(this.getAlphanumericCode(p.charCodeAt(0))!==-1)h=!0;else return We.BYTE}return h?We.ALPHANUMERIC:l?We.NUMERIC:We.BYTE}static isOnlyDoubleByteKanji(r){let o;try{o=K.encode(r,k.SJIS)}catch{return!1}const l=o.length;if(l%2!==0)return!1;for(let h=0;h<l;h+=2){const f=o[h]&255;if((f<129||f>159)&&(f<224||f>235))return!1}return!0}static chooseMaskPattern(r,o,l,h){let f=Number.MAX_SAFE_INTEGER,m=-1;for(let p=0;p<Tr.NUM_MASK_PATTERNS;p++){Ze.buildMatrix(r,o,l,p,h);let A=this.calculateMaskPenalty(h);A<f&&(f=A,m=p)}return m}static chooseVersion(r,o){for(let l=1;l<=40;l++){const h=Pe.getVersionForNumber(l);if(Kt.willFit(r,h,o))return h}throw new jt("Data too big")}static willFit(r,o,l){const h=o.getTotalCodewords(),m=o.getECBlocksForLevel(l).getTotalECCodewords(),p=h-m,A=(r+7)/8;return p>=A}static terminateBits(r,o){const l=r*8;if(o.getSize()>l)throw new jt("data bits cannot fit in the QR Code"+o.getSize()+" > "+l);for(let m=0;m<4&&o.getSize()<l;++m)o.appendBit(!1);const h=o.getSize()&7;if(h>0)for(let m=h;m<8;m++)o.appendBit(!1);const f=r-o.getSizeInBytes();for(let m=0;m<f;++m)o.appendBits((m&1)===0?236:17,8);if(o.getSize()!==l)throw new jt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(r,o,l,h,f,m){if(h>=l)throw new jt("Block ID too large");const p=r%l,A=l-p,C=Math.floor(r/l),b=C+1,O=Math.floor(o/l),L=O+1,F=C-O,Y=b-L;if(F!==Y)throw new jt("EC bytes mismatch");if(l!==A+p)throw new jt("RS blocks mismatch");if(r!==(O+F)*A+(L+Y)*p)throw new jt("Total bytes mismatch");h<A?(f[0]=O,m[0]=F):(f[0]=L,m[0]=Y)}static interleaveWithECBytes(r,o,l,h){if(r.getSizeInBytes()!==l)throw new jt("Number of bits and data bytes does not match");let f=0,m=0,p=0;const A=new Array;for(let b=0;b<h;++b){const O=new Int32Array(1),L=new Int32Array(1);Kt.getNumDataBytesAndNumECBytesForBlockID(o,l,h,b,O,L);const F=O[0],Y=new Uint8Array(F);r.toBytes(8*f,Y,0,F);const Q=Kt.generateECBytes(Y,L[0]);A.push(new nl(Y,Q)),m=Math.max(m,F),p=Math.max(p,Q.length),f+=O[0]}if(l!==f)throw new jt("Data bytes does not match offset");const C=new Be;for(let b=0;b<m;++b)for(const O of A){const L=O.getDataBytes();b<L.length&&C.appendBits(L[b],8)}for(let b=0;b<p;++b)for(const O of A){const L=O.getErrorCorrectionBytes();b<L.length&&C.appendBits(L[b],8)}if(o!==C.getSizeInBytes())throw new jt("Interleaving error: "+o+" and "+C.getSizeInBytes()+" differ.");return C}static generateECBytes(r,o){const l=r.length,h=new Int32Array(l+o);for(let m=0;m<l;m++)h[m]=r[m]&255;new ps(_t.QR_CODE_FIELD_256).encode(h,o);const f=new Uint8Array(o);for(let m=0;m<o;m++)f[m]=h[l+m];return f}static appendModeInfo(r,o){o.appendBits(r.getBits(),4)}static appendLengthInfo(r,o,l,h){const f=l.getCharacterCountBits(o);if(r>=1<<f)throw new jt(r+" is bigger than "+((1<<f)-1));h.appendBits(r,f)}static appendBytes(r,o,l,h){switch(o){case We.NUMERIC:Kt.appendNumericBytes(r,l);break;case We.ALPHANUMERIC:Kt.appendAlphanumericBytes(r,l);break;case We.BYTE:Kt.append8BitBytes(r,l,h);break;case We.KANJI:Kt.appendKanjiBytes(r,l);break;default:throw new jt("Invalid mode: "+o)}}static getDigit(r){return r.charCodeAt(0)-48}static isDigit(r){const o=Kt.getDigit(r);return o>=0&&o<=9}static appendNumericBytes(r,o){const l=r.length;let h=0;for(;h<l;){const f=Kt.getDigit(r.charAt(h));if(h+2<l){const m=Kt.getDigit(r.charAt(h+1)),p=Kt.getDigit(r.charAt(h+2));o.appendBits(f*100+m*10+p,10),h+=3}else if(h+1<l){const m=Kt.getDigit(r.charAt(h+1));o.appendBits(f*10+m,7),h+=2}else o.appendBits(f,4),h++}}static appendAlphanumericBytes(r,o){const l=r.length;let h=0;for(;h<l;){const f=Kt.getAlphanumericCode(r.charCodeAt(h));if(f===-1)throw new jt;if(h+1<l){const m=Kt.getAlphanumericCode(r.charCodeAt(h+1));if(m===-1)throw new jt;o.appendBits(f*45+m,11),h+=2}else o.appendBits(f,6),h++}}static append8BitBytes(r,o,l){let h;try{h=K.encode(r,l)}catch(f){throw new jt(f)}for(let f=0,m=h.length;f!==m;f++){const p=h[f];o.appendBits(p,8)}}static appendKanjiBytes(r,o){let l;try{l=K.encode(r,k.SJIS)}catch(f){throw new jt(f)}const h=l.length;for(let f=0;f<h;f+=2){const m=l[f]&255,p=l[f+1]&255,A=m<<8&4294967295|p;let C=-1;if(A>=33088&&A<=40956?C=A-33088:A>=57408&&A<=60351&&(C=A-49472),C===-1)throw new jt("Invalid byte sequence");const b=(C>>8)*192+(C&255);o.appendBits(b,13)}}static appendECI(r,o){o.appendBits(We.ECI.getBits(),4),o.appendBits(r.getValue(),8)}}Kt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Kt.DEFAULT_BYTE_MODE_ENCODING=k.UTF8.getName();class ri{write(r,o,l,h=null){if(r.length===0)throw new M("Found empty contents");if(o<0||l<0)throw new M("Requested dimensions are too small: "+o+"x"+l);let f=Et.L,m=ri.QUIET_ZONE_SIZE;h!==null&&(h.get(Nn.ERROR_CORRECTION)!==void 0&&(f=Et.fromString(h.get(Nn.ERROR_CORRECTION).toString())),h.get(Nn.MARGIN)!==void 0&&(m=Number.parseInt(h.get(Nn.MARGIN).toString(),10)));const p=Kt.encode(r,f,h);return this.renderResult(p,o,l,m)}writeToDom(r,o,l,h,f=null){typeof r=="string"&&(r=document.querySelector(r));const m=this.write(o,l,h,f);r&&r.appendChild(m)}renderResult(r,o,l,h){const f=r.getMatrix();if(f===null)throw new Or;const m=f.getWidth(),p=f.getHeight(),A=m+h*2,C=p+h*2,b=Math.max(o,A),O=Math.max(l,C),L=Math.min(Math.floor(b/A),Math.floor(O/C)),F=Math.floor((b-m*L)/2),Y=Math.floor((O-p*L)/2),Q=this.createSVGElement(b,O);for(let ne=0,ue=Y;ne<p;ne++,ue+=L)for(let be=0,De=F;be<m;be++,De+=L)if(f.get(be,ne)===1){const Ie=this.createSvgRectElement(De,ue,L,L);Q.appendChild(Ie)}return Q}createSVGElement(r,o){const l=document.createElementNS(ri.SVG_NS,"svg");return l.setAttributeNS(null,"height",r.toString()),l.setAttributeNS(null,"width",o.toString()),l}createSvgRectElement(r,o,l,h){const f=document.createElementNS(ri.SVG_NS,"rect");return f.setAttributeNS(null,"x",r.toString()),f.setAttributeNS(null,"y",o.toString()),f.setAttributeNS(null,"height",l.toString()),f.setAttributeNS(null,"width",h.toString()),f.setAttributeNS(null,"fill","#000000"),f}}ri.QUIET_ZONE_SIZE=4,ri.SVG_NS="http://www.w3.org/2000/svg";class Fn{encode(r,o,l,h,f){if(r.length===0)throw new M("Found empty contents");if(o!==Re.QR_CODE)throw new M("Can only encode QR_CODE, but got "+o);if(l<0||h<0)throw new M(`Requested dimensions are too small: ${l}x${h}`);let m=Et.L,p=Fn.QUIET_ZONE_SIZE;f!==null&&(f.get(Nn.ERROR_CORRECTION)!==void 0&&(m=Et.fromString(f.get(Nn.ERROR_CORRECTION).toString())),f.get(Nn.MARGIN)!==void 0&&(p=Number.parseInt(f.get(Nn.MARGIN).toString(),10)));const A=Kt.encode(r,m,f);return Fn.renderResult(A,l,h,p)}static renderResult(r,o,l,h){const f=r.getMatrix();if(f===null)throw new Or;const m=f.getWidth(),p=f.getHeight(),A=m+h*2,C=p+h*2,b=Math.max(o,A),O=Math.max(l,C),L=Math.min(Math.floor(b/A),Math.floor(O/C)),F=Math.floor((b-m*L)/2),Y=Math.floor((O-p*L)/2),Q=new vt(b,O);for(let ne=0,ue=Y;ne<p;ne++,ue+=L)for(let be=0,De=F;be<m;be++,De+=L)f.get(be,ne)===1&&Q.setRegion(De,ue,L,L);return Q}}Fn.QUIET_ZONE_SIZE=4;class rl{encode(r,o,l,h,f){let m;switch(o){case Re.QR_CODE:m=new Fn;break;default:throw new M("No encoder available for format "+o)}return m.encode(r,o,l,h,f)}}class Qr extends Xe{constructor(r,o,l,h,f,m,p,A){if(super(m,p),this.yuvData=r,this.dataWidth=o,this.dataHeight=l,this.left=h,this.top=f,h+m>o||f+p>l)throw new M("Crop rectangle does not fit within image data.");A&&this.reverseHorizontal(m,p)}getRow(r,o){if(r<0||r>=this.getHeight())throw new M("Requested row is outside the image: "+r);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const h=(r+this.top)*this.dataWidth+this.left;return oe.arraycopy(this.yuvData,h,o,0,l),o}getMatrix(){const r=this.getWidth(),o=this.getHeight();if(r===this.dataWidth&&o===this.dataHeight)return this.yuvData;const l=r*o,h=new Uint8ClampedArray(l);let f=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return oe.arraycopy(this.yuvData,f,h,0,l),h;for(let m=0;m<o;m++){const p=m*r;oe.arraycopy(this.yuvData,f,h,p,r),f+=this.dataWidth}return h}isCropSupported(){return!0}crop(r,o,l,h){return new Qr(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+o,l,h,!1)}renderThumbnail(){const r=this.getWidth()/Qr.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/Qr.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(r*o),h=this.yuvData;let f=this.top*this.dataWidth+this.left;for(let m=0;m<o;m++){const p=m*r;for(let A=0;A<r;A++){const C=h[f+A*Qr.THUMBNAIL_SCALE_FACTOR]&255;l[p+A]=4278190080|C*65793}f+=this.dataWidth*Qr.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/Qr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Qr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(r,o){const l=this.yuvData;for(let h=0,f=this.top*this.dataWidth+this.left;h<o;h++,f+=this.dataWidth){const m=f+r/2;for(let p=f,A=f+r-1;p<m;p++,A--){const C=l[p];l[p]=l[A],l[A]=C}}}invert(){return new mt(this)}}Qr.THUMBNAIL_SCALE_FACTOR=2;class ii extends Xe{constructor(r,o,l,h,f,m,p){if(super(o,l),this.dataWidth=h,this.dataHeight=f,this.left=m,this.top=p,r.BYTES_PER_ELEMENT===4){const A=o*l,C=new Uint8ClampedArray(A);for(let b=0;b<A;b++){const O=r[b],L=O>>16&255,F=O>>7&510,Y=O&255;C[b]=(L+F+Y)/4&255}this.luminances=C}else this.luminances=r;if(h===void 0&&(this.dataWidth=o),f===void 0&&(this.dataHeight=l),m===void 0&&(this.left=0),p===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+l>this.dataHeight)throw new M("Crop rectangle does not fit within image data.")}getRow(r,o){if(r<0||r>=this.getHeight())throw new M("Requested row is outside the image: "+r);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const h=(r+this.top)*this.dataWidth+this.left;return oe.arraycopy(this.luminances,h,o,0,l),o}getMatrix(){const r=this.getWidth(),o=this.getHeight();if(r===this.dataWidth&&o===this.dataHeight)return this.luminances;const l=r*o,h=new Uint8ClampedArray(l);let f=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return oe.arraycopy(this.luminances,f,h,0,l),h;for(let m=0;m<o;m++){const p=m*r;oe.arraycopy(this.luminances,f,h,p,r),f+=this.dataWidth}return h}isCropSupported(){return!0}crop(r,o,l,h){return new ii(this.luminances,l,h,this.dataWidth,this.dataHeight,this.left+r,this.top+o)}invert(){return new mt(this)}}class y extends k{static forName(r){return this.getCharacterSetECIByName(r)}}class v{}v.ISO_8859_1=k.ISO8859_1;class R{isCompact(){return this.compact}setCompact(r){this.compact=r}getSize(){return this.size}setSize(r){this.size=r}getLayers(){return this.layers}setLayers(r){this.layers=r}getCodeWords(){return this.codeWords}setCodeWords(r){this.codeWords=r}getMatrix(){return this.matrix}setMatrix(r){this.matrix=r}}class B{static singletonList(r){return[r]}static min(r,o){return r.sort(o)[0]}}class te{constructor(r){this.previous=r}getPrevious(){return this.previous}}class de extends te{constructor(r,o,l){super(r),this.value=o,this.bitCount=l}appendTo(r,o){r.appendBits(this.value,this.bitCount)}add(r,o){return new de(this,r,o)}addBinaryShift(r,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new de(this,r,o)}toString(){let r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+pe.toBinaryString(r|1<<this.bitCount).substring(1)+">"}}class Le extends de{constructor(r,o,l){super(r,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=l}appendTo(r,o){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):l===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(o[this.binaryShiftStart+l],8)}addBinaryShift(r,o){return new Le(this,r,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function It(D,r,o){return new Le(D,r,o)}function wn(D,r,o){return new de(D,r,o)}const bt=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],dn=0,Dn=1,zn=2,tr=3,Wn=4,So=new de(null,0,0),Sa=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function kc(D){for(let r of D)me.fill(r,-1);return D[dn][Wn]=0,D[Dn][Wn]=0,D[Dn][dn]=28,D[tr][Wn]=0,D[zn][Wn]=0,D[zn][dn]=15,D}const cu=kc(me.createInt32Array(6,6));class si{constructor(r,o,l,h){this.token=r,this.mode=o,this.binaryShiftByteCount=l,this.bitCount=h}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(r,o){let l=this.bitCount,h=this.token;if(r!==this.mode){let m=Sa[this.mode][r];h=wn(h,m&65535,m>>16),l+=m>>16}let f=r===zn?4:5;return h=wn(h,o,f),new si(h,r,0,l+f)}shiftAndAppend(r,o){let l=this.token,h=this.mode===zn?4:5;return l=wn(l,cu[this.mode][r],h),l=wn(l,o,5),new si(l,this.mode,0,this.bitCount+h+5)}addBinaryShiftChar(r){let o=this.token,l=this.mode,h=this.bitCount;if(this.mode===Wn||this.mode===zn){let p=Sa[l][dn];o=wn(o,p&65535,p>>16),h+=p>>16,l=dn}let f=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,m=new si(o,l,this.binaryShiftByteCount+1,h+f);return m.binaryShiftByteCount===2078&&(m=m.endBinaryShift(r+1)),m}endBinaryShift(r){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=It(o,r-this.binaryShiftByteCount,this.binaryShiftByteCount),new si(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(r){let o=this.bitCount+(Sa[this.mode][r.mode]>>16);return this.binaryShiftByteCount<r.binaryShiftByteCount?o+=si.calculateBinaryShiftCost(r)-si.calculateBinaryShiftCost(this):this.binaryShiftByteCount>r.binaryShiftByteCount&&r.binaryShiftByteCount>0&&(o+=10),o<=r.bitCount}toBitArray(r){let o=[];for(let h=this.endBinaryShift(r.length).token;h!==null;h=h.getPrevious())o.unshift(h);let l=new Be;for(const h of o)h.appendTo(l,r);return l}toString(){return q.format("%s bits=%d bytes=%d",bt[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(r){return r.binaryShiftByteCount>62?21:r.binaryShiftByteCount>31?20:r.binaryShiftByteCount>0?10:0}}si.INITIAL_STATE=new si(So,dn,0,0);function hu(D){const r=q.getCharCode(" "),o=q.getCharCode("."),l=q.getCharCode(",");D[dn][r]=1;const h=q.getCharCode("Z"),f=q.getCharCode("A");for(let L=f;L<=h;L++)D[dn][L]=L-f+2;D[Dn][r]=1;const m=q.getCharCode("z"),p=q.getCharCode("a");for(let L=p;L<=m;L++)D[Dn][L]=L-p+2;D[zn][r]=1;const A=q.getCharCode("9"),C=q.getCharCode("0");for(let L=C;L<=A;L++)D[zn][L]=L-C+2;D[zn][l]=12,D[zn][o]=13;const b=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let L=0;L<b.length;L++)D[tr][q.getCharCode(b[L])]=L;const O=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let L=0;L<O.length;L++)q.getCharCode(O[L])>0&&(D[Wn][q.getCharCode(O[L])]=L);return D}const il=hu(me.createInt32Array(5,256));class va{constructor(r){this.text=r}encode(){const r=q.getCharCode(" "),o=q.getCharCode(`
`);let l=B.singletonList(si.INITIAL_STATE);for(let f=0;f<this.text.length;f++){let m,p=f+1<this.text.length?this.text[f+1]:0;switch(this.text[f]){case q.getCharCode("\r"):m=p===o?2:0;break;case q.getCharCode("."):m=p===r?3:0;break;case q.getCharCode(","):m=p===r?4:0;break;case q.getCharCode(":"):m=p===r?5:0;break;default:m=0}m>0?(l=va.updateStateListForPair(l,f,m),f++):l=this.updateStateListForChar(l,f)}return B.min(l,(f,m)=>f.getBitCount()-m.getBitCount()).toBitArray(this.text)}updateStateListForChar(r,o){const l=[];for(let h of r)this.updateStateForChar(h,o,l);return va.simplifyStates(l)}updateStateForChar(r,o,l){let h=this.text[o]&255,f=il[r.getMode()][h]>0,m=null;for(let p=0;p<=Wn;p++){let A=il[p][h];if(A>0){if(m==null&&(m=r.endBinaryShift(o)),!f||p===r.getMode()||p===zn){const C=m.latchAndAppend(p,A);l.push(C)}if(!f&&cu[r.getMode()][p]>=0){const C=m.shiftAndAppend(p,A);l.push(C)}}}if(r.getBinaryShiftByteCount()>0||il[r.getMode()][h]===0){let p=r.addBinaryShiftChar(o);l.push(p)}}static updateStateListForPair(r,o,l){const h=[];for(let f of r)this.updateStateForPair(f,o,l,h);return this.simplifyStates(h)}static updateStateForPair(r,o,l,h){let f=r.endBinaryShift(o);if(h.push(f.latchAndAppend(Wn,l)),r.getMode()!==Wn&&h.push(f.shiftAndAppend(Wn,l)),l===3||l===4){let m=f.latchAndAppend(zn,16-l).latchAndAppend(zn,1);h.push(m)}if(r.getBinaryShiftByteCount()>0){let m=r.addBinaryShiftChar(o).addBinaryShiftChar(o+1);h.push(m)}}static simplifyStates(r){let o=[];for(const l of r){let h=!0;for(const f of o){if(f.isBetterThanOrEqualTo(l)){h=!1;break}l.isBetterThanOrEqualTo(f)&&(o=o.filter(m=>m!==f))}h&&o.push(l)}return o}}class Rt{constructor(){}static encodeBytes(r){return Rt.encode(r,Rt.DEFAULT_EC_PERCENT,Rt.DEFAULT_AZTEC_LAYERS)}static encode(r,o,l){let h=new va(r).encode(),f=pe.truncDivision(h.getSize()*o,100)+11,m=h.getSize()+f,p,A,C,b,O;if(l!==Rt.DEFAULT_AZTEC_LAYERS){if(p=l<0,A=Math.abs(l),A>(p?Rt.MAX_NB_BITS_COMPACT:Rt.MAX_NB_BITS))throw new M(q.format("Illegal value %s for layers",l));C=Rt.totalBitsInLayer(A,p),b=Rt.WORD_SIZE[A];let Ie=C-C%b;if(O=Rt.stuffBits(h,b),O.getSize()+f>Ie)throw new M("Data to large for user specified layer");if(p&&O.getSize()>b*64)throw new M("Data to large for user specified layer")}else{b=0,O=null;for(let Ie=0;;Ie++){if(Ie>Rt.MAX_NB_BITS)throw new M("Data too large for an Aztec code");if(p=Ie<=3,A=p?Ie+1:Ie,C=Rt.totalBitsInLayer(A,p),m>C)continue;(O==null||b!==Rt.WORD_SIZE[A])&&(b=Rt.WORD_SIZE[A],O=Rt.stuffBits(h,b));let ut=C-C%b;if(!(p&&O.getSize()>b*64)&&O.getSize()+f<=ut)break}}let L=Rt.generateCheckWords(O,C,b),F=O.getSize()/b,Y=Rt.generateModeMessage(p,A,F),Q=(p?11:14)+A*4,ne=new Int32Array(Q),ue;if(p){ue=Q;for(let Ie=0;Ie<ne.length;Ie++)ne[Ie]=Ie}else{ue=Q+1+2*pe.truncDivision(pe.truncDivision(Q,2)-1,15);let Ie=pe.truncDivision(Q,2),ut=pe.truncDivision(ue,2);for(let ot=0;ot<Ie;ot++){let Cr=ot+pe.truncDivision(ot,15);ne[Ie-ot-1]=ut-Cr-1,ne[Ie+ot]=ut+Cr+1}}let be=new vt(ue);for(let Ie=0,ut=0;Ie<A;Ie++){let ot=(A-Ie)*4+(p?9:12);for(let Cr=0;Cr<ot;Cr++){let ai=Cr*2;for(let Vr=0;Vr<2;Vr++)L.get(ut+ai+Vr)&&be.set(ne[Ie*2+Vr],ne[Ie*2+Cr]),L.get(ut+ot*2+ai+Vr)&&be.set(ne[Ie*2+Cr],ne[Q-1-Ie*2-Vr]),L.get(ut+ot*4+ai+Vr)&&be.set(ne[Q-1-Ie*2-Vr],ne[Q-1-Ie*2-Cr]),L.get(ut+ot*6+ai+Vr)&&be.set(ne[Q-1-Ie*2-Cr],ne[Ie*2+Vr])}ut+=ot*8}if(Rt.drawModeMessage(be,p,ue,Y),p)Rt.drawBullsEye(be,pe.truncDivision(ue,2),5);else{Rt.drawBullsEye(be,pe.truncDivision(ue,2),7);for(let Ie=0,ut=0;Ie<pe.truncDivision(Q,2)-1;Ie+=15,ut+=16)for(let ot=pe.truncDivision(ue,2)&1;ot<ue;ot+=2)be.set(pe.truncDivision(ue,2)-ut,ot),be.set(pe.truncDivision(ue,2)+ut,ot),be.set(ot,pe.truncDivision(ue,2)-ut),be.set(ot,pe.truncDivision(ue,2)+ut)}let De=new R;return De.setCompact(p),De.setSize(ue),De.setLayers(A),De.setCodeWords(F),De.setMatrix(be),De}static drawBullsEye(r,o,l){for(let h=0;h<l;h+=2)for(let f=o-h;f<=o+h;f++)r.set(f,o-h),r.set(f,o+h),r.set(o-h,f),r.set(o+h,f);r.set(o-l,o-l),r.set(o-l+1,o-l),r.set(o-l,o-l+1),r.set(o+l,o-l),r.set(o+l,o-l+1),r.set(o+l,o+l-1)}static generateModeMessage(r,o,l){let h=new Be;return r?(h.appendBits(o-1,2),h.appendBits(l-1,6),h=Rt.generateCheckWords(h,28,4)):(h.appendBits(o-1,5),h.appendBits(l-1,11),h=Rt.generateCheckWords(h,40,4)),h}static drawModeMessage(r,o,l,h){let f=pe.truncDivision(l,2);if(o)for(let m=0;m<7;m++){let p=f-3+m;h.get(m)&&r.set(p,f-5),h.get(m+7)&&r.set(f+5,p),h.get(20-m)&&r.set(p,f+5),h.get(27-m)&&r.set(f-5,p)}else for(let m=0;m<10;m++){let p=f-5+m+pe.truncDivision(m,5);h.get(m)&&r.set(p,f-7),h.get(m+10)&&r.set(f+7,p),h.get(29-m)&&r.set(p,f+7),h.get(39-m)&&r.set(f-7,p)}}static generateCheckWords(r,o,l){let h=r.getSize()/l,f=new ps(Rt.getGF(l)),m=pe.truncDivision(o,l),p=Rt.bitsToWords(r,l,m);f.encode(p,m-h);let A=o%l,C=new Be;C.appendBits(0,A);for(const b of Array.from(p))C.appendBits(b,l);return C}static bitsToWords(r,o,l){let h=new Int32Array(l),f,m;for(f=0,m=r.getSize()/o;f<m;f++){let p=0;for(let A=0;A<o;A++)p|=r.get(f*o+A)?1<<o-A-1:0;h[f]=p}return h}static getGF(r){switch(r){case 4:return _t.AZTEC_PARAM;case 6:return _t.AZTEC_DATA_6;case 8:return _t.AZTEC_DATA_8;case 10:return _t.AZTEC_DATA_10;case 12:return _t.AZTEC_DATA_12;default:throw new M("Unsupported word size "+r)}}static stuffBits(r,o){let l=new Be,h=r.getSize(),f=(1<<o)-2;for(let m=0;m<h;m+=o){let p=0;for(let A=0;A<o;A++)(m+A>=h||r.get(m+A))&&(p|=1<<o-1-A);(p&f)===f?(l.appendBits(p&f,o),m--):(p&f)===0?(l.appendBits(p|1,o),m--):l.appendBits(p,o)}return l}static totalBitsInLayer(r,o){return((o?88:112)+16*r)*r}}Rt.DEFAULT_EC_PERCENT=33,Rt.DEFAULT_AZTEC_LAYERS=0,Rt.MAX_NB_BITS=32,Rt.MAX_NB_BITS_COMPACT=4,Rt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class sl{encode(r,o,l,h){return this.encodeWithHints(r,o,l,h,null)}encodeWithHints(r,o,l,h,f){let m=v.ISO_8859_1,p=Rt.DEFAULT_EC_PERCENT,A=Rt.DEFAULT_AZTEC_LAYERS;return f!=null&&(f.has(Nn.CHARACTER_SET)&&(m=y.forName(f.get(Nn.CHARACTER_SET).toString())),f.has(Nn.ERROR_CORRECTION)&&(p=pe.parseInt(f.get(Nn.ERROR_CORRECTION).toString())),f.has(Nn.AZTEC_LAYERS)&&(A=pe.parseInt(f.get(Nn.AZTEC_LAYERS).toString()))),sl.encodeLayers(r,o,l,h,m,p,A)}static encodeLayers(r,o,l,h,f,m,p){if(o!==Re.AZTEC)throw new M("Can only encode AZTEC, but got "+o);let A=Rt.encode(q.getBytes(r,f),m,p);return sl.renderResult(A,l,h)}static renderResult(r,o,l){let h=r.getMatrix();if(h==null)throw new Or;let f=h.getWidth(),m=h.getHeight(),p=Math.max(o,f),A=Math.max(l,m),C=Math.min(p/f,A/m),b=(p-f*C)/2,O=(A-m*C)/2,L=new vt(p,A);for(let F=0,Y=O;F<m;F++,Y+=C)for(let Q=0,ne=b;Q<f;Q++,ne+=C)h.get(Q,F)&&L.setRegion(ne,Y,C,C);return L}}t.AbstractExpandedDecoder=Oi,t.ArgumentException=I,t.ArithmeticException=Ni,t.AztecCode=R,t.AztecCodeReader=pa,t.AztecCodeWriter=sl,t.AztecDecoder=Wt,t.AztecDetector=xo,t.AztecDetectorResult=Ls,t.AztecEncoder=Rt,t.AztecHighLevelEncoder=va,t.AztecPoint=Ft,t.BarcodeFormat=Re,t.Binarizer=ae,t.BinaryBitmap=U,t.BitArray=Be,t.BitMatrix=vt,t.BitSource=or,t.BrowserAztecCodeReader=Ps,t.BrowserBarcodeReader=Zo,t.BrowserCodeReader=Ne,t.BrowserDatamatrixCodeReader=uu,t.BrowserMultiFormatReader=el,t.BrowserPDF417Reader=tl,t.BrowserQRCodeReader=Co,t.BrowserQRCodeSvgWriter=ri,t.CharacterSetECI=k,t.ChecksumException=W,t.Code128Reader=Me,t.Code39Reader=qt,t.DataMatrixDecodedBitStreamParser=Li,t.DataMatrixReader=Pr,t.DecodeHintType=qe,t.DecoderResult=Dr,t.DefaultGridSampler=Ut,t.DetectorResult=ga,t.EAN13Reader=_r,t.EncodeHintType=Nn,t.Exception=x,t.FormatException=H,t.GenericGF=_t,t.GenericGFPoly=Sn,t.GlobalHistogramBinarizer=ge,t.GridSampler=ma,t.GridSamplerInstance=Vn,t.HTMLCanvasElementLuminanceSource=X,t.HybridBinarizer=_e,t.ITFReader=Pt,t.IllegalArgumentException=M,t.IllegalStateException=Or,t.InvertedLuminanceSource=mt,t.LuminanceSource=Xe,t.MathUtils=At,t.MultiFormatOneDReader=ei,t.MultiFormatReader=ms,t.MultiFormatWriter=rl,t.NotFoundException=fe,t.OneDReader=rn,t.PDF417DecodedBitStreamParser=ce,t.PDF417DecoderErrorCorrection=ki,t.PDF417Reader=Xn,t.PDF417ResultMetadata=Fs,t.PerspectiveTransform=Lt,t.PlanarYUVLuminanceSource=Qr,t.QRCodeByteMatrix=ys,t.QRCodeDataMask=An,t.QRCodeDecodedBitStreamParser=hn,t.QRCodeDecoderErrorCorrectionLevel=Et,t.QRCodeDecoderFormatInformation=In,t.QRCodeEncoder=Kt,t.QRCodeEncoderQRCode=Tr,t.QRCodeMaskUtil=fn,t.QRCodeMatrixUtil=Ze,t.QRCodeMode=We,t.QRCodeReader=gi,t.QRCodeVersion=Pe,t.QRCodeWriter=Fn,t.RGBLuminanceSource=ii,t.RSS14Reader=pt,t.RSSExpandedReader=xe,t.ReaderException=gs,t.ReedSolomonDecoder=hs,t.ReedSolomonEncoder=ps,t.ReedSolomonException=Jr,t.Result=Ve,t.ResultMetadataType=at,t.ResultPoint=Ue,t.StringUtils=q,t.UnsupportedOperationException=Z,t.VideoInputDevice=Se,t.WhiteRectangleDetector=Yr,t.WriterException=jt,t.ZXingArrays=me,t.ZXingCharset=y,t.ZXingInteger=pe,t.ZXingStandardCharsets=v,t.ZXingStringBuilder=j,t.ZXingStringEncoding=K,t.ZXingSystem=oe,t.createAbstractExpandedDecoder=To,Object.defineProperty(t,"__esModule",{value:!0})}))})(ic,ic.exports)),ic.exports}var Tn=g8();const m8=B0(Tn),p8=eT({__proto__:null,default:m8},[Tn]);var NE=(function(){function i(e,t,a){if(this.formatMap=new Map([[He.QR_CODE,Tn.BarcodeFormat.QR_CODE],[He.AZTEC,Tn.BarcodeFormat.AZTEC],[He.CODABAR,Tn.BarcodeFormat.CODABAR],[He.CODE_39,Tn.BarcodeFormat.CODE_39],[He.CODE_93,Tn.BarcodeFormat.CODE_93],[He.CODE_128,Tn.BarcodeFormat.CODE_128],[He.DATA_MATRIX,Tn.BarcodeFormat.DATA_MATRIX],[He.MAXICODE,Tn.BarcodeFormat.MAXICODE],[He.ITF,Tn.BarcodeFormat.ITF],[He.EAN_13,Tn.BarcodeFormat.EAN_13],[He.EAN_8,Tn.BarcodeFormat.EAN_8],[He.PDF_417,Tn.BarcodeFormat.PDF_417],[He.RSS_14,Tn.BarcodeFormat.RSS_14],[He.RSS_EXPANDED,Tn.BarcodeFormat.RSS_EXPANDED],[He.UPC_A,Tn.BarcodeFormat.UPC_A],[He.UPC_E,Tn.BarcodeFormat.UPC_E],[He.UPC_EAN_EXTENSION,Tn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!p8)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=a;var c=this.createZXingFormats(e),d=new Map;d.set(Tn.DecodeHintType.POSSIBLE_FORMATS,c),d.set(Tn.DecodeHintType.TRY_HARDER,!1),this.hints=d}return i.prototype.decodeAsync=function(e){var t=this;return new Promise(function(a,c){try{a(t.decode(e))}catch(d){c(d)}})},i.prototype.decode=function(e){var t=new Tn.MultiFormatReader(this.verbose,this.hints),a=new Tn.HTMLCanvasElementLuminanceSource(e),c=new Tn.BinaryBitmap(new Tn.HybridBinarizer(a)),d=t.decode(c);return{text:d.text,format:Ox.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}},i.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,a,c){e.set(t,a)}),e},i.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},i.prototype.createZXingFormats=function(e){for(var t=[],a=0,c=e;a<c.length;a++){var d=c[a];this.formatMap.has(d)?t.push(this.formatMap.get(d)):this.logger.logError("".concat(d," is not supported by")+"ZXingHtml5QrcodeShim")}return t},i.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},i})(),y8=function(i,e,t,a){function c(d){return d instanceof t?d:new t(function(E){E(d)})}return new(t||(t=Promise))(function(d,E){function T(I){try{x(a.next(I))}catch(M){E(M)}}function S(I){try{x(a.throw(I))}catch(M){E(M)}}function x(I){I.done?d(I.value):c(I.value).then(T,S)}x((a=a.apply(i,e||[])).next())})},E8=function(i,e){var t={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,E;return E={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function T(x){return function(I){return S([x,I])}}function S(x){if(a)throw new TypeError("Generator is already executing.");for(;E&&(E=0,x[0]&&(t=0)),t;)try{if(a=1,c&&(d=x[0]&2?c.return:x[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,x[1])).done)return d;switch(c=0,d&&(x=[x[0]&2,d.value]),x[0]){case 0:case 1:d=x;break;case 4:return t.label++,{value:x[1],done:!1};case 5:t.label++,c=x[1],x=[0];continue;case 7:x=t.ops.pop(),t.trys.pop();continue;default:if(d=t.trys,!(d=d.length>0&&d[d.length-1])&&(x[0]===6||x[0]===2)){t=0;continue}if(x[0]===3&&(!d||x[1]>d[0]&&x[1]<d[3])){t.label=x[1];break}if(x[0]===6&&t.label<d[1]){t.label=d[1],d=x;break}if(d&&t.label<d[2]){t.label=d[2],t.ops.push(x);break}d[2]&&t.ops.pop(),t.trys.pop();continue}x=e.call(i,t)}catch(I){x=[6,I],c=0}finally{a=d=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},DE=(function(){function i(e,t,a){if(this.formatMap=new Map([[He.QR_CODE,"qr_code"],[He.AZTEC,"aztec"],[He.CODABAR,"codabar"],[He.CODE_39,"code_39"],[He.CODE_93,"code_93"],[He.CODE_128,"code_128"],[He.DATA_MATRIX,"data_matrix"],[He.ITF,"itf"],[He.EAN_13,"ean_13"],[He.EAN_8,"ean_8"],[He.PDF_417,"pdf417"],[He.UPC_A,"upc_a"],[He.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!i.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=t,this.logger=a;var c=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(c),!this.detector)throw"BarcodeDetector detector not supported"}return i.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},i.prototype.decodeAsync=function(e){return y8(this,void 0,void 0,function(){var t,a;return E8(this,function(c){switch(c.label){case 0:return[4,this.detector.detect(e)];case 1:if(t=c.sent(),!t||t.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(t),[2,{text:a.rawValue,format:Ox.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},i.prototype.selectLargestBarcode=function(e){for(var t=null,a=0,c=0,d=e;c<d.length;c++){var E=d[c],T=E.boundingBox.width*E.boundingBox.height;T>a&&(a=T,t=E)}if(!t)throw"No largest barcode found";return t},i.prototype.createBarcodeDetectorFormats=function(e){for(var t=[],a=0,c=e;a<c.length;a++){var d=c[a];this.formatMap.has(d)?t.push(this.formatMap.get(d)):this.logger.warn("".concat(d," is not supported by")+"BarcodeDetectorDelegate")}return{formats:t}},i.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},i.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,a,c){e.set(t,a)}),e},i.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},i})(),OE=function(i,e,t,a){function c(d){return d instanceof t?d:new t(function(E){E(d)})}return new(t||(t=Promise))(function(d,E){function T(I){try{x(a.next(I))}catch(M){E(M)}}function S(I){try{x(a.throw(I))}catch(M){E(M)}}function x(I){I.done?d(I.value):c(I.value).then(T,S)}x((a=a.apply(i,e||[])).next())})},ME=function(i,e){var t={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,E;return E={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function T(x){return function(I){return S([x,I])}}function S(x){if(a)throw new TypeError("Generator is already executing.");for(;E&&(E=0,x[0]&&(t=0)),t;)try{if(a=1,c&&(d=x[0]&2?c.return:x[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,x[1])).done)return d;switch(c=0,d&&(x=[x[0]&2,d.value]),x[0]){case 0:case 1:d=x;break;case 4:return t.label++,{value:x[1],done:!1};case 5:t.label++,c=x[1],x=[0];continue;case 7:x=t.ops.pop(),t.trys.pop();continue;default:if(d=t.trys,!(d=d.length>0&&d[d.length-1])&&(x[0]===6||x[0]===2)){t=0;continue}if(x[0]===3&&(!d||x[1]>d[0]&&x[1]<d[3])){t.label=x[1];break}if(x[0]===6&&t.label<d[1]){t.label=d[1],d=x;break}if(d&&t.label<d[2]){t.label=d[2],t.ops.push(x);break}d[2]&&t.ops.pop(),t.trys.pop();continue}x=e.call(i,t)}catch(I){x=[6,I],c=0}finally{a=d=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},_8=(function(){function i(e,t,a,c){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,t&&DE.isSupported()?(this.primaryDecoder=new DE(e,a,c),this.secondaryDecoder=new NE(e,a,c)):this.primaryDecoder=new NE(e,a,c)}return i.prototype.decodeAsync=function(e){return OE(this,void 0,void 0,function(){var t;return ME(this,function(a){switch(a.label){case 0:t=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(t),[7];case 4:return[2]}})})},i.prototype.decodeRobustlyAsync=function(e){return OE(this,void 0,void 0,function(){var t,a;return ME(this,function(c){switch(c.label){case 0:t=performance.now(),c.label=1;case 1:return c.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,c.sent()];case 3:if(a=c.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw a;case 4:return this.possiblyLogPerformance(t),[7];case 5:return[2]}})})},i.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},i.prototype.possiblyLogPerformance=function(e){if(this.verbose){var t=performance.now()-e;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}},i.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,t=0,a=this.executionResults;t<a.length;t++){var c=a[t];e+=c}var d=e/this.executionResults.length;console.log("".concat(d," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},i})(),Mg=(function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}})(),Rf=function(i,e,t,a){function c(d){return d instanceof t?d:new t(function(E){E(d)})}return new(t||(t=Promise))(function(d,E){function T(I){try{x(a.next(I))}catch(M){E(M)}}function S(I){try{x(a.throw(I))}catch(M){E(M)}}function x(I){I.done?d(I.value):c(I.value).then(T,S)}x((a=a.apply(i,e||[])).next())})},Nf=function(i,e){var t={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,E;return E={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function T(x){return function(I){return S([x,I])}}function S(x){if(a)throw new TypeError("Generator is already executing.");for(;E&&(E=0,x[0]&&(t=0)),t;)try{if(a=1,c&&(d=x[0]&2?c.return:x[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,x[1])).done)return d;switch(c=0,d&&(x=[x[0]&2,d.value]),x[0]){case 0:case 1:d=x;break;case 4:return t.label++,{value:x[1],done:!1};case 5:t.label++,c=x[1],x=[0];continue;case 7:x=t.ops.pop(),t.trys.pop();continue;default:if(d=t.trys,!(d=d.length>0&&d[d.length-1])&&(x[0]===6||x[0]===2)){t=0;continue}if(x[0]===3&&(!d||x[1]>d[0]&&x[1]<d[3])){t.label=x[1];break}if(x[0]===6&&t.label<d[1]){t.label=d[1],d=x;break}if(d&&t.label<d[2]){t.label=d[2],t.ops.push(x);break}d[2]&&t.ops.pop(),t.trys.pop();continue}x=e.call(i,t)}catch(I){x=[6,I],c=0}finally{a=d=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Bx=(function(){function i(e,t){this.name=e,this.track=t}return i.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},i.prototype.apply=function(e){var t={};t[this.name]=e;var a={advanced:[t]};return this.track.applyConstraints(a)},i.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var t=e[this.name];return t}return null},i})(),A8=(function(i){Mg(e,i);function e(t,a){return i.call(this,t,a)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(t){var a={};a[this.name]=t;var c={advanced:[a]};return this.track.applyConstraints(c)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var t=this.track.getCapabilities(),a=t[this.name];return{min:a.min,max:a.max,step:a.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e})(Bx),x8=(function(i){Mg(e,i);function e(t){return i.call(this,"zoom",t)||this}return e})(A8),w8=(function(i){Mg(e,i);function e(t){return i.call(this,"torch",t)||this}return e})(Bx),T8=(function(){function i(e){this.track=e}return i.prototype.zoomFeature=function(){return new x8(this.track)},i.prototype.torchFeature=function(){return new w8(this.track)},i})(),C8=(function(){function i(e,t,a){this.isClosed=!1,this.parentElement=e,this.mediaStream=t,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return i.prototype.createVideoElement=function(e){var t=document.createElement("video");return t.style.width="".concat(e,"px"),t.style.display="block",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},i.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var t=function(){var a=e.surface.clientWidth,c=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(a,c),e.surface.removeEventListener("playing",t)};this.surface.addEventListener("playing",t),this.surface.srcObject=this.mediaStream,this.surface.play()},i.create=function(e,t,a,c){return Rf(this,void 0,void 0,function(){var d,E;return Nf(this,function(T){switch(T.label){case 0:return d=new i(e,t,c),a.aspectRatio?(E={aspectRatio:a.aspectRatio},[4,d.getFirstTrackOrFail().applyConstraints(E)]):[3,2];case 1:T.sent(),T.label=2;case 2:return d.setupSurface(),[2,d]}})})},i.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},i.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},i.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},i.prototype.resume=function(e){this.failIfClosed();var t=this,a=function(){setTimeout(e,200),t.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},i.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},i.prototype.getSurface=function(){return this.failIfClosed(),this.surface},i.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},i.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},i.prototype.applyVideoConstraints=function(e){return Rf(this,void 0,void 0,function(){return Nf(this,function(t){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},i.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(t,a){var c=e.mediaStream.getVideoTracks(),d=c.length,E=0;e.mediaStream.getVideoTracks().forEach(function(T){e.mediaStream.removeTrack(T),T.stop(),++E,E>=d&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),t())})})},i.prototype.getCapabilities=function(){return new T8(this.getFirstTrackOrFail())},i})(),S8=(function(){function i(e){this.mediaStream=e}return i.prototype.render=function(e,t,a){return Rf(this,void 0,void 0,function(){return Nf(this,function(c){return[2,C8.create(e,this.mediaStream,t,a)]})})},i.create=function(e){return Rf(this,void 0,void 0,function(){var t,a;return Nf(this,function(c){switch(c.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return t={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(t)];case 1:return a=c.sent(),[2,new i(a)]}})})},i})(),LE=function(i,e,t,a){function c(d){return d instanceof t?d:new t(function(E){E(d)})}return new(t||(t=Promise))(function(d,E){function T(I){try{x(a.next(I))}catch(M){E(M)}}function S(I){try{x(a.throw(I))}catch(M){E(M)}}function x(I){I.done?d(I.value):c(I.value).then(T,S)}x((a=a.apply(i,e||[])).next())})},PE=function(i,e){var t={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,E;return E={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function T(x){return function(I){return S([x,I])}}function S(x){if(a)throw new TypeError("Generator is already executing.");for(;E&&(E=0,x[0]&&(t=0)),t;)try{if(a=1,c&&(d=x[0]&2?c.return:x[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,x[1])).done)return d;switch(c=0,d&&(x=[x[0]&2,d.value]),x[0]){case 0:case 1:d=x;break;case 4:return t.label++,{value:x[1],done:!1};case 5:t.label++,c=x[1],x=[0];continue;case 7:x=t.ops.pop(),t.trys.pop();continue;default:if(d=t.trys,!(d=d.length>0&&d[d.length-1])&&(x[0]===6||x[0]===2)){t=0;continue}if(x[0]===3&&(!d||x[1]>d[0]&&x[1]<d[3])){t.label=x[1];break}if(x[0]===6&&t.label<d[1]){t.label=d[1],d=x;break}if(d&&t.label<d[2]){t.label=d[2],t.ops.push(x);break}d[2]&&t.ops.pop(),t.trys.pop();continue}x=e.call(i,t)}catch(I){x=[6,I],c=0}finally{a=d=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},v8=(function(){function i(){}return i.failIfNotSupported=function(){return LE(this,void 0,void 0,function(){return PE(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new i]})})},i.prototype.create=function(e){return LE(this,void 0,void 0,function(){return PE(this,function(t){return[2,S8.create(e)]})})},i})(),I8=function(i,e,t,a){function c(d){return d instanceof t?d:new t(function(E){E(d)})}return new(t||(t=Promise))(function(d,E){function T(I){try{x(a.next(I))}catch(M){E(M)}}function S(I){try{x(a.throw(I))}catch(M){E(M)}}function x(I){I.done?d(I.value):c(I.value).then(T,S)}x((a=a.apply(i,e||[])).next())})},b8=function(i,e){var t={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,E;return E={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function T(x){return function(I){return S([x,I])}}function S(x){if(a)throw new TypeError("Generator is already executing.");for(;E&&(E=0,x[0]&&(t=0)),t;)try{if(a=1,c&&(d=x[0]&2?c.return:x[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,x[1])).done)return d;switch(c=0,d&&(x=[x[0]&2,d.value]),x[0]){case 0:case 1:d=x;break;case 4:return t.label++,{value:x[1],done:!1};case 5:t.label++,c=x[1],x=[0];continue;case 7:x=t.ops.pop(),t.trys.pop();continue;default:if(d=t.trys,!(d=d.length>0&&d[d.length-1])&&(x[0]===6||x[0]===2)){t=0;continue}if(x[0]===3&&(!d||x[1]>d[0]&&x[1]<d[3])){t.label=x[1];break}if(x[0]===6&&t.label<d[1]){t.label=d[1],d=x;break}if(d&&t.label<d[2]){t.label=d[2],t.ops.push(x);break}d[2]&&t.ops.pop(),t.trys.pop();continue}x=e.call(i,t)}catch(I){x=[6,I],c=0}finally{a=d=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},R8=(function(){function i(){}return i.retrieve=function(){if(navigator.mediaDevices)return i.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?i.getCamerasFromMediaStreamTrack():i.rejectWithError()},i.rejectWithError=function(){var e=kl.unableToQuerySupportedDevices();return i.isHttpsOrLocalhost()||(e=kl.insecureContextCameraQueryError()),Promise.reject(e)},i.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},i.getCamerasFromMediaDevices=function(){return I8(this,void 0,void 0,function(){var e,t,a,c,d,E,T;return b8(this,function(S){switch(S.label){case 0:return e=function(x){for(var I=x.getVideoTracks(),M=0,U=I;M<U.length;M++){var W=U[M];W.enabled=!1,W.stop(),x.removeTrack(W)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return t=S.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=S.sent(),c=[],d=0,E=a;d<E.length;d++)T=E[d],T.kind==="videoinput"&&c.push({id:T.deviceId,label:T.label});return e(t),[2,c]}})})},i.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,t){var a=function(d){for(var E=[],T=0,S=d;T<S.length;T++){var x=S[T];x.kind==="video"&&E.push({id:x.id,label:x.label})}e(E)},c=MediaStreamTrack;c.getSources(a)})},i})(),Gn;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.NOT_STARTED=1]="NOT_STARTED",i[i.SCANNING=2]="SCANNING",i[i.PAUSED=3]="PAUSED"})(Gn||(Gn={}));var N8=(function(){function i(){this.state=Gn.NOT_STARTED,this.onGoingTransactionNewState=Gn.UNKNOWN}return i.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},i.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},i.prototype.execute=function(){if(this.onGoingTransactionNewState===Gn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Gn.UNKNOWN,this.directTransition(e)},i.prototype.cancel=function(){if(this.onGoingTransactionNewState===Gn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Gn.UNKNOWN},i.prototype.getState=function(){return this.state},i.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Gn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},i.prototype.validateTransition=function(e){switch(this.state){case Gn.UNKNOWN:throw"Transition from unknown is not allowed";case Gn.NOT_STARTED:this.failIfNewStateIs(e,[Gn.PAUSED]);break;case Gn.SCANNING:break;case Gn.PAUSED:break}},i.prototype.failIfNewStateIs=function(e,t){for(var a=0,c=t;a<c.length;a++){var d=c[a];if(e===d)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},i})(),D8=(function(){function i(e){this.stateManager=e}return i.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},i.prototype.directTransition=function(e){this.stateManager.directTransition(e)},i.prototype.getState=function(){return this.stateManager.getState()},i.prototype.canScanFile=function(){return this.stateManager.getState()===Gn.NOT_STARTED},i.prototype.isScanning=function(){return this.stateManager.getState()!==Gn.NOT_STARTED},i.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Gn.SCANNING},i.prototype.isPaused=function(){return this.stateManager.getState()===Gn.PAUSED},i})(),O8=(function(){function i(){}return i.create=function(){return new D8(new N8)},i})(),M8=(function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}})(),vi=(function(i){M8(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(rs),L8=(function(){function i(e,t){this.logger=t,this.fps=vi.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=vi.DEFAULT_DISABLE_FLIP}return i.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Px.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},i.prototype.isShadedBoxEnabled=function(){return!Cs(this.qrbox)},i.create=function(e,t){return new i(e,t)},i})(),BE=(function(){function i(e,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var a;typeof t=="boolean"?this.verbose=t===!0:t&&(a=t,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new Lx(this.verbose),this.qrcode=new _8(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=O8.create()}return i.prototype.start=function(e,t,a,c){var d=this;if(!e)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var E;c?E=c:E=this.verbose?this.logger.log:function(){};var T=L8.create(t,this.logger);this.clearElement();var S=!1;T.videoConstraints&&(T.isMediaStreamConstraintsValid()?S=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=S,I=document.getElementById(this.elementId);I.clientWidth?I.clientWidth:vi.DEFAULT_WIDTH,I.style.position="relative",this.shouldScan=!0,this.element=I;var M=this,U=this.stateManagerProxy.startTransition(Gn.SCANNING);return new Promise(function(W,ae){var oe=x?T.videoConstraints:M.createVideoConstraints(e);if(!oe){U.cancel(),ae("videoConstraints should be defined");return}var re={};(!x||T.aspectRatio)&&(re.aspectRatio=T.aspectRatio);var ve={onRenderSurfaceReady:function(me,pe){M.setupUi(me,pe,T),M.isScanning=!0,M.foreverScan(T,a,E)}};v8.failIfNotSupported().then(function(me){me.create(oe).then(function(pe){return pe.render(d.element,re,ve).then(function(Be){M.renderedCamera=Be,U.execute(),W(null)}).catch(function(Be){U.cancel(),ae(Be)})}).catch(function(pe){U.cancel(),ae(kl.errorGettingUserMedia(pe))})}).catch(function(me){U.cancel(),ae(kl.cameraStreamingNotSupported())})})},i.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Gn.PAUSED),this.showPausedState(),(Cs(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},i.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,t=function(){e.stateManagerProxy.directTransition(Gn.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){t();return}this.renderedCamera.resume(function(){t()})},i.prototype.getState=function(){return this.stateManagerProxy.getState()},i.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(Gn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(e.element){var d=document.getElementById(vi.SHADED_REGION_ELEMENT_ID);d&&e.element.removeChild(d)}},c=this;return this.renderedCamera.close().then(function(){return c.renderedCamera=null,c.element&&(c.element.removeChild(c.canvasElement),c.canvasElement=null),a(),c.qrRegion&&(c.qrRegion=null),c.context&&(c.context=null),t.execute(),c.hidePausedState(),c.isScanning=!1,Promise.resolve()})},i.prototype.scanFile=function(e,t){return this.scanFileV2(e,t).then(function(a){return a.decodedText})},i.prototype.scanFileV2=function(e,t){var a=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Cs(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(c,d){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(e);var E=new Image;E.onload=function(){var T=E.width,S=E.height,x=document.getElementById(a.elementId),I=x.clientWidth?x.clientWidth:vi.DEFAULT_WIDTH,M=Math.max(x.clientHeight?x.clientHeight:S,vi.FILE_SCAN_MIN_HEIGHT),U=a.computeCanvasDrawConfig(T,S,I,M);if(t){var W=a.createCanvasElement(I,M,"qr-canvas-visible");W.style.display="inline-block",x.appendChild(W);var ae=W.getContext("2d");if(!ae)throw"Unable to get 2d context from canvas";ae.canvas.width=I,ae.canvas.height=M,ae.drawImage(E,0,0,T,S,U.x,U.y,U.width,U.height)}var oe=vi.FILE_SCAN_HIDDEN_CANVAS_PADDING,re=Math.max(E.width,U.width),ve=Math.max(E.height,U.height),me=re+2*oe,pe=ve+2*oe,Be=a.createCanvasElement(me,pe);x.appendChild(Be);var Ge=Be.getContext("2d");if(!Ge)throw"Unable to get 2d context from canvas";Ge.canvas.width=me,Ge.canvas.height=pe,Ge.drawImage(E,0,0,T,S,oe,oe,re,ve);try{a.qrcode.decodeRobustlyAsync(Be).then(function(qe){c(IE.createFromQrcodeResult(qe))}).catch(d)}catch(qe){d("QR code parse error, error = ".concat(qe))}},E.onerror=d,E.onabort=d,E.onstalled=d,E.onsuspend=d,E.src=URL.createObjectURL(e)})},i.prototype.clear=function(){this.clearElement()},i.getCameras=function(){return R8.retrieve()},i.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},i.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},i.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},i.prototype.applyVideoConstraints=function(e){if(e){if(!Px.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},i.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},i.prototype.getSupportedFormats=function(e){var t=[He.QR_CODE,He.AZTEC,He.CODABAR,He.CODE_39,He.CODE_93,He.CODE_128,He.DATA_MATRIX,He.MAXICODE,He.ITF,He.EAN_13,He.EAN_8,He.PDF_417,He.RSS_14,He.RSS_EXPANDED,He.UPC_A,He.UPC_E,He.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return t;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],c=0,d=e.formatsToSupport;c<d.length;c++){var E=d[c];h8(E)?a.push(E):this.logger.warn("Invalid format: ".concat(E," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},i.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Cs(e))return!0;if(!Cs(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Cs(e.experimentalFeatures))return!0;var t=e.experimentalFeatures;return Cs(t.useBarCodeDetectorIfSupported)?!0:t.useBarCodeDetectorIfSupported!==!1},i.prototype.validateQrboxSize=function(e,t,a){var c=this,d=a.qrbox;this.validateQrboxConfig(d);var E=this.toQrdimensions(e,t,d),T=function(x){if(x<vi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(vi.MIN_QR_BOX_SIZE,"px.")},S=function(x){return x>e&&(c.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=e),x};T(E.width),T(E.height),E.width=S(E.width)},i.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},i.prototype.toQrdimensions=function(e,t,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(e,t)}catch(c){throw new Error("qrbox config was passed as a function but it failed with unknown error"+c)}return a},i.prototype.setupUi=function(e,t,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(e,t,a);var c=Cs(a.qrbox)?{width:e,height:t}:a.qrbox;this.validateQrboxConfig(c);var d=this.toQrdimensions(e,t,c);d.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var E=a.isShadedBoxEnabled()&&d.height<=t,T={x:0,y:0,width:e,height:t},S=E?this.getShadedRegionBounds(e,t,d):T,x=this.createCanvasElement(S.width,S.height),I={willReadFrequently:!0},M=x.getContext("2d",I);M.canvas.width=S.width,M.canvas.height=S.height,this.element.append(x),E&&this.possiblyInsertShadingElement(this.element,e,t,d),this.createScannerPausedUiElement(this.element),this.qrRegion=S,this.context=M,this.canvasElement=x},i.prototype.createScannerPausedUiElement=function(e){var t=document.createElement("div");t.innerText=kl.scannerPaused(),t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="rgba(9, 9, 9, 0.46)",t.style.color="#FFECEC",t.style.textAlign="center",t.style.width="100%",e.appendChild(t),this.scannerPausedUiElement=t},i.prototype.scanContext=function(e,t){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(c){return e(c.text,IE.createFromQrcodeResult(c)),a.possiblyUpdateShaders(!0),!0}).catch(function(c){a.possiblyUpdateShaders(!1);var d=kl.codeParseError(c);return t(d,Mx.createFrom(d)),!1})},i.prototype.foreverScan=function(e,t,a){var c=this;if(this.shouldScan&&this.renderedCamera){var d=this.renderedCamera.getSurface(),E=d.videoWidth/d.clientWidth,T=d.videoHeight/d.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var S=this.qrRegion.width*E,x=this.qrRegion.height*T,I=this.qrRegion.x*E,M=this.qrRegion.y*T;this.context.drawImage(d,I,M,S,x,0,0,this.qrRegion.width,this.qrRegion.height);var U=function(){c.foreverScanTimeout=setTimeout(function(){c.foreverScan(e,t,a)},c.getTimeoutFps(e.fps))};this.scanContext(t,a).then(function(W){!W&&e.disableFlip!==!0?(c.context.translate(c.context.canvas.width,0),c.context.scale(-1,1),c.scanContext(t,a).finally(function(){U()})):U()}).catch(function(W){c.logger.logError("Error happend while scanning context",W),U()})}},i.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var t="facingMode",a="deviceId",c={user:!0,environment:!0},d="exact",E=function(ae){if(ae in c)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(ae,"'")},T=Object.keys(e);if(T.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(T.length," keys");var S=Object.keys(e)[0];if(S!==t&&S!==a)throw"Only '".concat(t,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(S===t){var x=e.facingMode;if(typeof x=="string"){if(E(x))return{facingMode:x}}else if(typeof x=="object")if(d in x){if(E(x["".concat(d)]))return{facingMode:{exact:x["".concat(d)]}}}else throw"'facingMode' should be string or object with"+" ".concat(d," as key.");else{var I=typeof x;throw"Invalid type of 'facingMode' = ".concat(I)}}else{var M=e.deviceId;if(typeof M=="string")return{deviceId:M};if(typeof M=="object"){if(d in M)return{deviceId:{exact:M["".concat(d)]}};throw"'deviceId' should be string or object with"+" ".concat(d," as key.")}else{var U=typeof M;throw"Invalid type of 'deviceId' = ".concat(U)}}}var W=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(W)},i.prototype.computeCanvasDrawConfig=function(e,t,a,c){if(e<=a&&t<=c){var d=(a-e)/2,E=(c-t)/2;return{x:d,y:E,width:e,height:t}}else{var T=e,S=t;return e>a&&(t=a/e*t,e=a),t>c&&(e=c/t*e,t=c),this.logger.log("Image downsampled from "+"".concat(T,"X").concat(S)+" to ".concat(e,"X").concat(t,".")),this.computeCanvasDrawConfig(e,t,a,c)}},i.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},i.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(t){t.style.backgroundColor=e?vi.BORDER_SHADER_MATCH_COLOR:vi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},i.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},i.prototype.createCanvasElement=function(e,t,a){var c=e,d=t,E=document.createElement("canvas");return E.style.width="".concat(c,"px"),E.style.height="".concat(d,"px"),E.style.display="none",E.id=Cs(a)?"qr-canvas":a,E},i.prototype.getShadedRegionBounds=function(e,t,a){if(a.width>e||a.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-a.width)/2,y:(t-a.height)/2,width:a.width,height:a.height}},i.prototype.possiblyInsertShadingElement=function(e,t,a,c){if(!(t-c.width<1||a-c.height<1)){var d=document.createElement("div");d.style.position="absolute";var E=(t-c.width)/2,T=(a-c.height)/2;if(d.style.borderLeft="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderRight="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderTop="".concat(T,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderBottom="".concat(T,"px solid rgba(0, 0, 0, 0.48)"),d.style.boxSizing="border-box",d.style.top="0px",d.style.bottom="0px",d.style.left="0px",d.style.right="0px",d.id="".concat(vi.SHADED_REGION_ELEMENT_ID),t-c.width<11||a-c.height<11)this.hasBorderShaders=!1;else{var S=5,x=40;this.insertShaderBorders(d,x,S,-S,null,0,!0),this.insertShaderBorders(d,x,S,-S,null,0,!1),this.insertShaderBorders(d,x,S,null,-S,0,!0),this.insertShaderBorders(d,x,S,null,-S,0,!1),this.insertShaderBorders(d,S,x+S,-S,null,-S,!0),this.insertShaderBorders(d,S,x+S,null,-S,-S,!0),this.insertShaderBorders(d,S,x+S,-S,null,-S,!1),this.insertShaderBorders(d,S,x+S,null,-S,-S,!1),this.hasBorderShaders=!0}e.append(d)}},i.prototype.insertShaderBorders=function(e,t,a,c,d,E,T){var S=document.createElement("div");S.style.position="absolute",S.style.backgroundColor=vi.BORDER_SHADER_DEFAULT_COLOR,S.style.width="".concat(t,"px"),S.style.height="".concat(a,"px"),c!==null&&(S.style.top="".concat(c,"px")),d!==null&&(S.style.bottom="".concat(d,"px")),T?S.style.left="".concat(E,"px"):S.style.right="".concat(E,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(S),e.appendChild(S)},i.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},i.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},i.prototype.getTimeoutFps=function(e){return 1e3/e},i})(),Lg="data:image/svg+xml;base64,",P8=Lg+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",B8=Lg+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",kE=Lg+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",k8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",VE=(function(){function i(){}return i.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},i})(),V8=(function(){function i(){this.data=VE.createDefault();var e=localStorage.getItem(i.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return i.prototype.hasCameraPermissions=function(){return this.data.hasPermission},i.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},i.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},i.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},i.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},i.prototype.reset=function(){this.data=VE.createDefault(),this.flush()},i.prototype.flush=function(){localStorage.setItem(i.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},i.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",i})(),U8=(function(){function i(){this.infoDiv=document.createElement("div")}return i.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=bE.poweredBy();var t=document.createElement("a");t.innerText="ScanApp",t.href="https://scanapp.org",t.target="new",t.style.color="white",this.infoDiv.appendChild(t);var a=document.createElement("br"),c=document.createElement("br");this.infoDiv.appendChild(a),this.infoDiv.appendChild(c);var d=document.createElement("a");d.innerText=bE.reportIssues(),d.href="https://github.com/mebjas/html5-qrcode/issues",d.target="new",d.style.color="white",this.infoDiv.appendChild(d),e.appendChild(this.infoDiv)},i.prototype.show=function(){this.infoDiv.style.display="block"},i.prototype.hide=function(){this.infoDiv.style.display="none"},i})(),F8=(function(){function i(e,t){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=t,this.infoIcon=document.createElement("img")}return i.prototype.renderInto=function(e){var t=this;this.infoIcon.alt="Info icon",this.infoIcon.src=kE,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(a){return t.onHoverIn()},this.infoIcon.onmouseout=function(a){return t.onHoverOut()},this.infoIcon.onclick=function(a){return t.onClick()},e.appendChild(this.infoIcon)},i.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},i.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},i.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=k8,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=kE,this.infoIcon.style.opacity="0.6")},i})(),z8=(function(){function i(){var e=this;this.infoDiv=new U8,this.infoIcon=new F8(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return i.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},i})(),H8=function(i,e,t,a){function c(d){return d instanceof t?d:new t(function(E){E(d)})}return new(t||(t=Promise))(function(d,E){function T(I){try{x(a.next(I))}catch(M){E(M)}}function S(I){try{x(a.throw(I))}catch(M){E(M)}}function x(I){I.done?d(I.value):c(I.value).then(T,S)}x((a=a.apply(i,e||[])).next())})},j8=function(i,e){var t={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,E;return E={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function T(x){return function(I){return S([x,I])}}function S(x){if(a)throw new TypeError("Generator is already executing.");for(;E&&(E=0,x[0]&&(t=0)),t;)try{if(a=1,c&&(d=x[0]&2?c.return:x[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,x[1])).done)return d;switch(c=0,d&&(x=[x[0]&2,d.value]),x[0]){case 0:case 1:d=x;break;case 4:return t.label++,{value:x[1],done:!1};case 5:t.label++,c=x[1],x=[0];continue;case 7:x=t.ops.pop(),t.trys.pop();continue;default:if(d=t.trys,!(d=d.length>0&&d[d.length-1])&&(x[0]===6||x[0]===2)){t=0;continue}if(x[0]===3&&(!d||x[1]>d[0]&&x[1]<d[3])){t.label=x[1];break}if(x[0]===6&&t.label<d[1]){t.label=d[1],d=x;break}if(d&&t.label<d[2]){t.label=d[2],t.ops.push(x);break}d[2]&&t.ops.pop(),t.trys.pop();continue}x=e.call(i,t)}catch(I){x=[6,I],c=0}finally{a=d=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},UE=(function(){function i(){}return i.hasPermissions=function(){return H8(this,void 0,void 0,function(){var e,t,a,c;return j8(this,function(d){switch(d.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=d.sent(),t=0,a=e;t<a.length;t++)if(c=a[t],c.kind==="videoinput"&&c.label)return[2,!0];return[2,!1]}})})},i})(),Qa=(function(){function i(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return i.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},i.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},i.prototype.isCameraScanRequired=function(){for(var e=0,t=this.supportedScanTypes;e<t.length;e++){var a=t[e];if(i.isCameraScanType(a))return!0}return!1},i.isCameraScanType=function(e){return e===yo.SCAN_TYPE_CAMERA},i.isFileScanType=function(e){return e===yo.SCAN_TYPE_FILE},i.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return rs.DEFAULT_SUPPORTED_SCAN_TYPE;var t=rs.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>t)throw"Max ".concat(t," values expected for ")+"supportedScanTypes";for(var a=0,c=e;a<c.length;a++){var d=c[a];if(!rs.DEFAULT_SUPPORTED_SCAN_TYPE.includes(d))throw"Unsupported scan type ".concat(d)}return e},i})(),Ri=(function(){function i(){}return i.ALL_ELEMENT_CLASS="html5-qrcode-element",i.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",i.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",i.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",i.TORCH_BUTTON_ID="html5-qrcode-button-torch",i.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",i.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",i.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",i.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",i.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",i.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",i})(),sa=(function(){function i(){}return i.createElement=function(e,t){var a=document.createElement(e);return a.id=t,a.classList.add(Ri.ALL_ELEMENT_CLASS),e==="button"&&a.setAttribute("type","button"),a},i})(),kx=function(i,e,t,a){function c(d){return d instanceof t?d:new t(function(E){E(d)})}return new(t||(t=Promise))(function(d,E){function T(I){try{x(a.next(I))}catch(M){E(M)}}function S(I){try{x(a.throw(I))}catch(M){E(M)}}function x(I){I.done?d(I.value):c(I.value).then(T,S)}x((a=a.apply(i,e||[])).next())})},Vx=function(i,e){var t={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,E;return E={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function T(x){return function(I){return S([x,I])}}function S(x){if(a)throw new TypeError("Generator is already executing.");for(;E&&(E=0,x[0]&&(t=0)),t;)try{if(a=1,c&&(d=x[0]&2?c.return:x[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,x[1])).done)return d;switch(c=0,d&&(x=[x[0]&2,d.value]),x[0]){case 0:case 1:d=x;break;case 4:return t.label++,{value:x[1],done:!1};case 5:t.label++,c=x[1],x=[0];continue;case 7:x=t.ops.pop(),t.trys.pop();continue;default:if(d=t.trys,!(d=d.length>0&&d[d.length-1])&&(x[0]===6||x[0]===2)){t=0;continue}if(x[0]===3&&(!d||x[1]>d[0]&&x[1]<d[3])){t.label=x[1];break}if(x[0]===6&&t.label<d[1]){t.label=d[1],d=x;break}if(d&&t.label<d[2]){t.label=d[2],t.ops.push(x);break}d[2]&&t.ops.pop(),t.trys.pop();continue}x=e.call(i,t)}catch(I){x=[6,I],c=0}finally{a=d=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},FE=(function(){function i(e,t,a){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=t,this.onTorchActionFailureCallback=a}return i.prototype.isTorchEnabled=function(){return this.isTorchOn},i.prototype.flipState=function(){return kx(this,void 0,void 0,function(){var e,t;return Vx(this,function(a){switch(a.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return a.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return t=a.sent(),this.propagateFailure(e,t),this.buttonController.enable(),[3,4];case 4:return[2]}})})},i.prototype.updateUiBasedOnLatestSettings=function(e,t){e===t?(this.buttonController.setText(t?nn.torchOffButton():nn.torchOnButton()),this.isTorchOn=t):this.propagateFailure(t),this.buttonController.enable()},i.prototype.propagateFailure=function(e,t){var a=e?nn.torchOnFailedMessage():nn.torchOffFailedMessage();t&&(a+="; Error = "+t),this.onTorchActionFailureCallback(a)},i.prototype.reset=function(){this.isTorchOn=!1},i})(),G8=(function(){function i(e,t){this.onTorchActionFailureCallback=t,this.torchButton=sa.createElement("button",Ri.TORCH_BUTTON_ID),this.torchController=new FE(e,this,t)}return i.prototype.render=function(e,t){var a=this;this.torchButton.innerText=nn.torchOnButton(),this.torchButton.style.display=t.display,this.torchButton.style.marginLeft=t.marginLeft;var c=this;this.torchButton.addEventListener("click",function(d){return kx(a,void 0,void 0,function(){return Vx(this,function(E){switch(E.label){case 0:return[4,c.torchController.flipState()];case 1:return E.sent(),c.torchController.isTorchEnabled()?(c.torchButton.classList.remove(Ri.TORCH_BUTTON_CLASS_TORCH_OFF),c.torchButton.classList.add(Ri.TORCH_BUTTON_CLASS_TORCH_ON)):(c.torchButton.classList.remove(Ri.TORCH_BUTTON_CLASS_TORCH_ON),c.torchButton.classList.add(Ri.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},i.prototype.updateTorchCapability=function(e){this.torchController=new FE(e,this,this.onTorchActionFailureCallback)},i.prototype.getTorchButton=function(){return this.torchButton},i.prototype.hide=function(){this.torchButton.style.display="none"},i.prototype.show=function(){this.torchButton.style.display="inline-block"},i.prototype.disable=function(){this.torchButton.disabled=!0},i.prototype.enable=function(){this.torchButton.disabled=!1},i.prototype.setText=function(e){this.torchButton.innerText=e},i.prototype.reset=function(){this.torchButton.innerText=nn.torchOnButton(),this.torchController.reset()},i.create=function(e,t,a,c){var d=new i(t,c);return d.render(e,a),d},i})(),q8=(function(){function i(e,t,a){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=t?"block":"none",e.appendChild(this.fileBasedScanRegion);var c=document.createElement("label");c.setAttribute("for",this.getFileScanInputId()),c.style.display="inline-block",this.fileBasedScanRegion.appendChild(c),this.fileSelectionButton=sa.createElement("button",Ri.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(T){c.click()}),c.append(this.fileSelectionButton),this.fileScanInput=sa.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",c.appendChild(this.fileScanInput);var d=this;this.fileScanInput.addEventListener("change",function(T){if(!(T==null||T.target==null)){var S=T.target;if(!(S.files&&S.files.length===0)){var x=S.files,I=x[0],M=I.name;d.setImageNameToButton(M),a(I)}}});var E=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(E),this.fileBasedScanRegion.addEventListener("dragenter",function(T){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionActiveBorder(),T.stopPropagation(),T.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(T){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionDefaultBorder(),T.stopPropagation(),T.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(T){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionActiveBorder(),T.stopPropagation(),T.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(T){T.stopPropagation(),T.preventDefault(),d.fileBasedScanRegion.style.border=d.fileBasedScanRegionDefaultBorder();var S=T.dataTransfer;if(S){var x=S.files;if(!x||x.length===0)return;for(var I=!1,M=0;M<x.length;++M){var U=x.item(M);if(U){var W=/image.*/;if(U.type.match(W)){I=!0;var ae=U.name;d.setImageNameToButton(ae),a(U),E.innerText=nn.dragAndDropMessage();break}}}I||(E.innerText=nn.dragAndDropMessageOnlyImages())}})}return i.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},i.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},i.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},i.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},i.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},i.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},i.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},i.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=nn.dragAndDropMessage(),e.style.fontWeight="400",e},i.prototype.setImageNameToButton=function(e){var t=20;if(e.length>t){var a=e.substring(0,8),c=e.length,d=e.substring(c-8,c);e="".concat(a,"....").concat(d)}var E=nn.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=E},i.prototype.setInitialValueToButton=function(){var e=nn.fileSelectionChooseImage()+" - "+nn.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},i.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},i.create=function(e,t,a){var c=new i(e,t,a);return c},i})(),Y8=(function(){function i(e){this.selectElement=sa.createElement("select",Ri.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return i.prototype.render=function(e){var t=document.createElement("span");t.style.marginRight="10px";var a=this.cameras.length;if(a===0)throw new Error("No cameras found");if(a===1)t.style.display="none";else{var c=nn.selectCamera();t.innerText="".concat(c," (").concat(this.cameras.length,")  ")}for(var d=1,E=0,T=this.cameras;E<T.length;E++){var S=T[E],x=S.id,I=S.label==null?x:S.label;(!I||I==="")&&(I=[nn.anonymousCameraPrefix(),d++].join(" "));var M=document.createElement("option");M.value=x,M.innerText=I,this.options.push(M),this.selectElement.appendChild(M)}t.appendChild(this.selectElement),e.appendChild(t)},i.prototype.disable=function(){this.selectElement.disabled=!0},i.prototype.isDisabled=function(){return this.selectElement.disabled===!0},i.prototype.enable=function(){this.selectElement.disabled=!1},i.prototype.getValue=function(){return this.selectElement.value},i.prototype.hasValue=function(e){for(var t=0,a=this.options;t<a.length;t++){var c=a[t];if(c.value===e)return!0}return!1},i.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},i.prototype.hasSingleItem=function(){return this.cameras.length===1},i.prototype.numCameras=function(){return this.cameras.length},i.create=function(e,t){var a=new i(t);return a.render(e),a},i})(),X8=(function(){function i(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=sa.createElement("input",Ri.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return i.prototype.render=function(e,t){this.zoomElementContainer.style.display=t?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var a=nn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(a),this.rangeText.style.marginRight="10px";var c=this;this.rangeInput.addEventListener("input",function(){return c.onValueChange()}),this.rangeInput.addEventListener("change",function(){return c.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},i.prototype.onValueChange=function(){var e=nn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},i.prototype.setValues=function(e,t,a,c){this.rangeInput.min=e.toString(),this.rangeInput.max=t.toString(),this.rangeInput.step=c.toString(),this.rangeInput.value=a.toString(),this.onValueChange()},i.prototype.show=function(){this.zoomElementContainer.style.display="block"},i.prototype.hide=function(){this.zoomElementContainer.style.display="none"},i.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},i.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},i.create=function(e,t){var a=new i;return a.render(e,t),a},i})(),Ii;(function(i){i[i.STATUS_DEFAULT=0]="STATUS_DEFAULT",i[i.STATUS_SUCCESS=1]="STATUS_SUCCESS",i[i.STATUS_WARNING=2]="STATUS_WARNING",i[i.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Ii||(Ii={}));function W8(i){return{fps:i.fps,qrbox:i.qrbox,aspectRatio:i.aspectRatio,disableFlip:i.disableFlip,videoConstraints:i.videoConstraints}}function Q8(i,e){return{formatsToSupport:i.formatsToSupport,useBarCodeDetectorIfSupported:i.useBarCodeDetectorIfSupported,experimentalFeatures:i.experimentalFeatures,verbose:e}}var K8=(function(){function i(e,t,a){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(t),this.verbose=a===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new Qa(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Lx(this.verbose),this.persistedDataManager=new V8,t.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return i.prototype.render=function(e,t){var a=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(d,E){if(e)e(d,E);else{if(a.lastMatchFound===d)return;a.lastMatchFound=d,a.setHeaderMessage(nn.lastMatch(d),Ii.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(d,E){t&&t(d,E)};var c=document.getElementById(this.elementId);if(!c)throw"HTML Element with id=".concat(this.elementId," not found");c.innerHTML="",this.createBasicLayout(c),this.html5Qrcode=new BE(this.getScanRegionId(),Q8(this.config,this.verbose))},i.prototype.pause=function(e){(Cs(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},i.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},i.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},i.prototype.clear=function(){var e=this,t=function(){var a=document.getElementById(e.elementId);a&&(a.innerHTML="",e.resetBasicLayout(a))};return this.html5Qrcode?new Promise(function(a,c){if(!e.html5Qrcode){a();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(d){if(!e.html5Qrcode){a();return}e.html5Qrcode.clear(),t(),a()}).catch(function(d){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",d),c(d)}):(e.html5Qrcode.clear(),t(),a())}):Promise.resolve()},i.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},i.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},i.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},i.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},i.prototype.createConfig=function(e){return e?(e.fps||(e.fps=rs.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!rs.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=rs.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=rs.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:rs.SCAN_DEFAULT_FPS,rememberLastUsedCamera:rs.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:rs.DEFAULT_SUPPORTED_SCAN_TYPE}},i.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var t=document.createElement("div"),a=this.getScanRegionId();t.id=a,t.style.width="100%",t.style.minHeight="100px",t.style.textAlign="center",e.appendChild(t),Qa.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var c=document.createElement("div"),d=this.getDashboardId();c.id=d,c.style.width="100%",e.appendChild(c),this.setupInitialDashboard(c)},i.prototype.resetBasicLayout=function(e){e.style.border="none"},i.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},i.prototype.createHeader=function(e){var t=document.createElement("div");t.style.textAlign="left",t.style.margin="0px",e.appendChild(t);var a=new z8;a.renderInto(t);var c=document.createElement("div");c.id=this.getHeaderMessageContainerId(),c.style.display="none",c.style.textAlign="center",c.style.fontSize="14px",c.style.padding="2px 10px",c.style.margin="4px",c.style.borderTop="1px solid #f6f6f6",t.appendChild(c)},i.prototype.createSection=function(e){var t=document.createElement("div");t.id=this.getDashboardSectionId(),t.style.width="100%",t.style.padding="10px 0px 10px 0px",t.style.textAlign="left",e.appendChild(t)},i.prototype.createCameraListUi=function(e,t,a){var c=this;c.showHideScanTypeSwapLink(!1),c.setHeaderMessage(nn.cameraPermissionRequesting());var d=function(){a||c.createPermissionButton(e,t)};BE.getCameras().then(function(E){c.persistedDataManager.setHasPermission(!0),c.showHideScanTypeSwapLink(!0),c.resetHeaderMessage(),E&&E.length>0?(e.removeChild(t),c.renderCameraSelection(E)):(c.setHeaderMessage(nn.noCameraFound(),Ii.STATUS_WARNING),d())}).catch(function(E){c.persistedDataManager.setHasPermission(!1),a?a.disabled=!1:d(),c.setHeaderMessage(E,Ii.STATUS_WARNING),c.showHideScanTypeSwapLink(!0)})},i.prototype.createPermissionButton=function(e,t){var a=this,c=sa.createElement("button",this.getCameraPermissionButtonId());c.innerText=nn.cameraPermissionTitle(),c.addEventListener("click",function(){c.disabled=!0,a.createCameraListUi(e,t,c)}),t.appendChild(c)},i.prototype.createPermissionsUi=function(e,t){var a=this;if(Qa.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){UE.hasPermissions().then(function(c){c?a.createCameraListUi(e,t):(a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(e,t))}).catch(function(c){a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(e,t)});return}this.createPermissionButton(e,t)},i.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),t=document.createElement("div");e.appendChild(t);var a=document.createElement("div");a.id=this.getDashboardSectionCameraScanRegionId(),a.style.display=Qa.isCameraScanType(this.currentScanType)?"block":"none",t.appendChild(a);var c=document.createElement("div");c.style.textAlign="center",a.appendChild(c),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(a,c),this.renderFileScanUi(t)},i.prototype.renderFileScanUi=function(e){var t=Qa.isFileScanType(this.currentScanType),a=this,c=function(d){if(!a.html5Qrcode)throw"html5Qrcode not defined";Qa.isFileScanType(a.currentScanType)&&(a.setHeaderMessage(nn.loadingImage()),a.html5Qrcode.scanFileV2(d,!0).then(function(E){a.resetHeaderMessage(),a.qrCodeSuccessCallback(E.decodedText,E)}).catch(function(E){a.setHeaderMessage(E,Ii.STATUS_WARNING),a.qrCodeErrorCallback(E,Mx.createFrom(E))}))};this.fileSelectionUi=q8.create(e,t,c)},i.prototype.renderCameraSelection=function(e){var t=this,a=this,c=document.getElementById(this.getDashboardSectionCameraScanRegionId());c.style.textAlign="center";var d=X8.create(c,!1),E=function(oe){var re=oe.zoomFeature();if(re.isSupported()){d.setOnCameraZoomValueChangeCallback(function(me){re.apply(me)});var ve=1;t.config.defaultZoomValueIfSupported&&(ve=t.config.defaultZoomValueIfSupported),ve=f8(ve,re.min(),re.max()),d.setValues(re.min(),re.max(),ve,re.step()),d.show()}},T=Y8.create(c,e),S=document.createElement("span"),x=sa.createElement("button",Ri.CAMERA_START_BUTTON_ID);x.innerText=nn.scanButtonStartScanningText(),S.appendChild(x);var I=sa.createElement("button",Ri.CAMERA_STOP_BUTTON_ID);I.innerText=nn.scanButtonStopScanningText(),I.style.display="none",I.disabled=!0,S.appendChild(I);var M,U=function(oe){if(!oe.torchFeature().isSupported()){M&&M.hide();return}M?M.updateTorchCapability(oe.torchFeature()):M=G8.create(S,oe.torchFeature(),{display:"none",marginLeft:"5px"},function(re){a.setHeaderMessage(re,Ii.STATUS_WARNING)}),M.show()};c.appendChild(S);var W=function(oe){oe||(x.style.display="none"),x.innerText=nn.scanButtonStartScanningText(),x.style.opacity="1",x.disabled=!1,oe&&(x.style.display="inline-block")};if(x.addEventListener("click",function(oe){x.innerText=nn.scanButtonScanningStarting(),T.disable(),x.disabled=!0,x.style.opacity="0.5",t.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!1),a.resetHeaderMessage();var re=T.getValue();a.persistedDataManager.setLastUsedCameraId(re),a.html5Qrcode.start(re,W8(a.config),a.qrCodeSuccessCallback,a.qrCodeErrorCallback).then(function(ve){I.disabled=!1,I.style.display="inline-block",W(!1);var me=a.html5Qrcode.getRunningTrackCameraCapabilities();t.config.showTorchButtonIfSupported===!0&&U(me),t.config.showZoomSliderIfSupported===!0&&E(me)}).catch(function(ve){a.showHideScanTypeSwapLink(!0),T.enable(),W(!0),a.setHeaderMessage(ve,Ii.STATUS_WARNING)})}),T.hasSingleItem()&&x.click(),I.addEventListener("click",function(oe){if(!a.html5Qrcode)throw"html5Qrcode not defined";I.disabled=!0,a.html5Qrcode.stop().then(function(re){t.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!0),T.enable(),x.disabled=!1,I.style.display="none",x.style.display="inline-block",M&&(M.reset(),M.hide()),d.removeOnCameraZoomValueChangeCallback(),d.hide(),a.insertCameraScanImageToScanRegion()}).catch(function(re){I.disabled=!1,a.setHeaderMessage(re,Ii.STATUS_WARNING)})}),a.persistedDataManager.getLastUsedCameraId()){var ae=a.persistedDataManager.getLastUsedCameraId();T.hasValue(ae)?(T.setValue(ae),x.click()):a.persistedDataManager.resetLastUsedCameraId()}},i.prototype.createSectionSwap=function(){var e=this,t=nn.textIfCameraScanSelected(),a=nn.textIfFileScanSelected(),c=document.getElementById(this.getDashboardSectionId()),d=document.createElement("div");d.style.textAlign="center";var E=sa.createElement("span",this.getDashboardSectionSwapLinkId());E.style.textDecoration="underline",E.style.cursor="pointer",E.innerText=Qa.isCameraScanType(this.currentScanType)?t:a,E.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,Qa.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),E.innerText=a,e.currentScanType=yo.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),E.innerText=t,e.currentScanType=yo.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),d.appendChild(E),c.appendChild(d)},i.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,t=this;if(this.persistedDataManager.hasCameraPermissions()){UE.hasPermissions().then(function(a){if(a){var c=document.getElementById(t.getCameraPermissionButtonId());if(!c)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";c.click()}else t.persistedDataManager.setHasPermission(!1)}).catch(function(a){t.persistedDataManager.setHasPermission(!1)});return}},i.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},i.prototype.setHeaderMessage=function(e,t){t||(t=Ii.STATUS_DEFAULT);var a=this.getHeaderMessageDiv();switch(a.innerText=e,a.style.display="block",t){case Ii.STATUS_SUCCESS:a.style.background="rgba(106, 175, 80, 0.26)",a.style.color="#477735";break;case Ii.STATUS_WARNING:a.style.background="rgba(203, 36, 49, 0.14)",a.style.color="#cb2431";break;case Ii.STATUS_DEFAULT:default:a.style.background="rgba(0, 0, 0, 0)",a.style.color="rgb(17, 17, 17)";break}},i.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},i.prototype.insertCameraScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){t.innerHTML="<br>",t.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(a){t.innerHTML="<br>",t.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=P8,this.cameraScanImage.alt=nn.cameraScanAltText()},i.prototype.insertFileScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.fileScanImage){t.innerHTML="<br>",t.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(a){t.innerHTML="<br>",t.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=B8,this.fileScanImage.alt=nn.fileScanAltText()},i.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},i.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},i.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},i.prototype.getDashboardSectionSwapLinkId=function(){return Ri.SCAN_TYPE_CHANGE_ANCHOR_ID},i.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},i.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},i.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},i.prototype.getCameraPermissionButtonId=function(){return Ri.CAMERA_PERMISSION_BUTTON_ID},i.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},i.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},i.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},i})();const Z8=({onScanSuccess:i})=>(ye.useEffect(()=>{const e=new K8("qr-reader",{qrbox:{width:250,height:250},fps:5},!1);function t(c){e.clear(),i(c)}function a(c){}return e.render(t,a),()=>{e.clear()}},[i]),je.jsx("div",{id:"qr-reader",className:"w-full"})),J8=()=>{const[i,e]=ye.useState([]),[t,a]=ye.useState({type:"",text:""});Cc(),ye.useEffect(()=>{const d=jR(bR(wE,"orders"),_E("canteenId","==","main_canteen"),_E("status","==","pending")),E=WR(d,T=>{const S=T.docs.map(x=>({id:x.id,...x.data()}));S.sort((x,I)=>x.createdAt.seconds-I.createdAt.seconds),e(S)});return()=>E()},[]);const c=async d=>{a({type:"",text:""});try{const E=RR(wE,"orders",d),T=await YR(E);if(!T.exists()){a({type:"error",text:"Error: Order not found."});return}const S=T.data();if(S.status!=="pending"){a({type:"error",text:`Order already marked as "${S.status}".`});return}await XR(E,{status:"delivered"}),a({type:"success",text:`Success! Order for ${S.studentName} delivered.`})}catch(E){console.error("Error updating order status: ",E),a({type:"error",text:"Failed to update order."})}};return je.jsxs("div",{children:[je.jsx("h1",{className:"text-4xl font-extrabold mb-8 text-slate-800",children:"Pending Orders"}),je.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[je.jsx("div",{className:"lg:col-span-2 space-y-6",children:i.length===0?je.jsxs("div",{className:"bg-white p-12 rounded-xl shadow-lg text-center text-slate-500 border border-slate-200",children:[je.jsx(i8,{className:"mx-auto text-6xl text-green-500 mb-4"}),je.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"All Caught Up!"}),je.jsx("p",{children:"No pending orders at the moment."})]}):i.map(d=>je.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-slate-200 transition-shadow hover:shadow-xl",children:[je.jsxs("div",{className:"flex justify-between items-center mb-4 pb-4 border-b",children:[je.jsx("h2",{className:"text-2xl font-bold text-blue-600",children:d.studentName}),je.jsxs("p",{className:"font-extrabold text-xl text-slate-800",children:["₹",d.totalAmount]})]}),je.jsx("ul",{className:"space-y-2 text-slate-600 mb-4",children:d.items.map(E=>je.jsxs("li",{className:"flex justify-between text-lg",children:[je.jsx("span",{children:E.name}),je.jsxs("span",{className:"font-medium text-slate-500",children:["x ",E.quantity]})]},E.id))}),je.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400 mt-4 pt-4 border-t",children:[je.jsx(s8,{}),je.jsx("span",{children:new Date(d.createdAt.seconds*1e3).toLocaleTimeString()}),je.jsxs("span",{className:"font-mono",children:["(",d.id.substring(0,8),")"]})]})]},d.id))}),je.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg sticky top-28 border border-slate-200",children:[je.jsx("h2",{className:"text-2xl font-bold mb-4 text-center text-slate-800",children:"Scan QR to Deliver"}),je.jsx("div",{className:"aspect-square max-w-sm mx-auto p-4 bg-slate-100 rounded-lg overflow-hidden",children:je.jsx(Z8,{onScanSuccess:c})}),t.text&&je.jsx("div",{className:`mt-4 p-3 rounded-lg text-center font-semibold ${t.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.text})]})]})]})};function $8(){return je.jsxs("div",{className:"bg-gray-50 min-h-screen font-sans",children:[je.jsx(l8,{}),je.jsx("main",{className:"container mx-auto p-4 md:p-8",children:je.jsxs(nC,{children:[je.jsx(o0,{path:"/login",element:je.jsx(c8,{})}),je.jsx(o0,{path:"/",element:je.jsx(u8,{children:je.jsx(J8,{})})})]})})]})}hT.createRoot(document.getElementById("root")).render(je.jsx(to.StrictMode,{children:je.jsx(SC,{children:je.jsxs(PC,{children:[" ",je.jsx($8,{})]})})}));
